(window.webpackJsonp=window.webpackJsonp||[]).push([["interests-wc~notification-bell-wc"],{"+DBQ":function(e,t,i){"use strict";var n,a,r,s,o,c,d;i.d(t,"d",(function(){return r})),i.d(t,"g",(function(){return u})),i.d(t,"w",(function(){return O})),i.d(t,"s",(function(){return T})),i.d(t,"t",(function(){return S})),i.d(t,"v",(function(){return w})),i.d(t,"m",(function(){return b})),i.d(t,"n",(function(){return y})),i.d(t,"c",(function(){return q})),i.d(t,"l",(function(){return j})),i.d(t,"h",(function(){return d})),i.d(t,"e",(function(){return l})),i.d(t,"i",(function(){return h})),i.d(t,"f",(function(){return a})),i.d(t,"b",(function(){return c})),i.d(t,"r",(function(){return P})),i.d(t,"p",(function(){return E})),i.d(t,"q",(function(){return L})),i.d(t,"k",(function(){return R})),i.d(t,"j",(function(){return D})),i.d(t,"u",(function(){return C})),i.d(t,"a",(function(){return o})),i.d(t,"o",(function(){return k})),i.d(t,"x",(function(){return U})),function(e){e.Unknown="Unknown",e.None="None",e.Mild="Mild",e.Medium="Medium",e.Heavy="Heavy"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Light=1]="Light",e[e.Moderate=2]="Moderate",e[e.Heavy=3]="Heavy"}(a||(a={})),function(e){e.Full="full",e.Half="half",e.Both="both",e.Tall="tall"}(r||(r={})),function(e){e[e.Green=0]="Green",e[e.Orange=1]="Orange",e[e.Red=2]="Red"}(s||(s={})),function(e){e[e.Home=0]="Home",e[e.Work=1]="Work",e[e.Other=2]="Other"}(o||(o={})),function(e){e.Miles="Miles",e.Kilometers="Kilometers"}(c||(c={})),function(e){e.TrafficSettingsCard="TrafficSettingsCard",e.EditLocation="TrafficCardEditLocation",e.TrafficVertical="Traffic",e.SpecifyLocation="TrafficCardSpecifyLocation",e.Save="TrafficCardSave",e.Cancel="TrafficCardCancel"}(d||(d={}));const l={TrafficCard:"TrafficCard",TrafficVertical:"Traffic",TrafficMap:"TrafficCardMap",Incidents:["TrafficCardIncident1","TrafficCardIncident2"],Header:"TrafficCardHeader",Customization:"TrafficCardCustomization",MenuEdit:"TrafficCardCustomizationEdit",MenuMore:"TrafficCardCustomizationMore",MenuHide:"TrafficCardCustomizationHide",EditHome:"TrafficCardEditHome",AddHome:"TrafficCardAddHome",EditWork:"TrafficCardEditWork",AddWork:"TrafficCardAddWork",Commute:"TrafficCardCommute"},u={halfMapImageZoom:12,fullMapImageZoom:12,quarterMapImageZoom:11,clickThroughMapZoom:13,mapImageResolutionFactorQuarter:1.5,mapImageResolutionFactor:1,quarterMapWidth:144,quarterMapHeight:146,halfMapWidth:300,halfMapHeight:146,fullMapWidth:300,fullMapHeight:304,lightModeMapStyle:"RoadVibrant",darkModeMapStyle:"RoadVibrantDark",incidentsHost:"https://trafficanswer.trafficmanager.net",incidentsApi:"api/summary",landingPageUrl:"https://www.msn.com/{0}/traffic",landingPageUrlCn:"https://www.msn.cn/{0}/traffic",mapsVerticalUrl:"https://www.bing.com/maps/traffic?setlang={0}",msnAssetsHost:"https://assets.msn.com",oneServiceTrafficApi:"service/news/feed/segments/traffic?apikey={APIKEY}&market={MARKET}&ocid={OCID}&user={USER}&Vertical=Common&StrategyDataCategory=dataInOneService",ocid:"weather-peregrine",apiKey:"UhJ4G66OjyLbn9mXARgajXLiLw6V75sHnfpU60aJBB"},h={large:"_1x_3y",medium:"_1x_2y",small:"_1x_1y"};var g=i("D57K"),p=i("XlyT"),m=i("HxRh"),f=(i("CgWR"),i("rvYQ")),v=i("hSGL");function b(e,t,i,n,a,r,s,o){let c=null;if(e&&e.latitude&&e.longitude){const d=u,l=A(i,s,a),h=`${e.latitude},${e.longitude}`,g=null!=r?r:function(e,t){const i=u;if(e)return i.fullMapImageZoom;if(t)return i.quarterMapImageZoom;return i.halfMapImageZoom}(i,s);if(c=n.replace("{style}",t?d.darkModeMapStyle:d.lightModeMapStyle).replace("{coordinates}",h).replace("{zoom}",g.toString()).replace("{resolution}",l).replace("{culture}",Object(f.b)().CurrentMarket),o){c+="&pushpin="+h+";"+(i?"37":"54")}}return c}function y(e,t,i,n,a,r,s,o){let c=null;const d=u;let l,h;if(n&&s){const e=69.1*(s[2]-s[0])*1609.344,t=53*(s[3]-s[1])*Math.cos(s[0]/57.3)*1609.344,i=e/(d.fullMapHeight/2),n=t/(d.fullMapWidth/2),a=Math.max(i,n)/.0187,r=Math.log(a)/Math.log(2);l=Math.floor(23-r-1),h=`${Math.max(s[0],s[2])},${Math.min(s[1],s[3])}`}if(e&&e.latitude&&e.longitude&&t&&t.latitude&&t.longitude){const s=A(n,o,r);c=a.replace("{style}",i?d.darkModeMapStyle:d.lightModeMapStyle).replace("{routeWaypoint1}",`${e.latitude},${e.longitude}`).replace("{routeWaypoint2}",`${t.latitude},${t.longitude}`).replace("{culture}",Object(f.b)().CurrentMarket).replace("{resolution}",s),c=l&&h?c.replace("{zoom}",l).replace("{center}",h):c.replace("/{center}/{zoom}","")}return c}function S(e,t){var i,a,r,s,o;if(!e||!e.Routes||!t)return null;const c=e.Routes[0],[d,l]=function(e,t){if(e===n.Mild)return["delay-green",t.noTraffic];if(e===n.Medium)return["delay-orange",t.moderateTraffic];if(e===n.Heavy)return["delay-red",t.heavyTraffic];return["delay-green",t.fasterThanUsual]}(c.TrafficCongestion,t),u={commuteTime:`${(c.TravelDuration/60).toFixed()} ${t.min}`,delay:l,viaRoads:t.via&&t.via.replace("{0}",c.ViaRoads),delayColor:d};let h,g;return c&&(h={longitude:null===(i=c.Start)||void 0===i?void 0:i.Location.Longitude,latitude:null===(a=c.Start)||void 0===a?void 0:a.Location.Latitude},g={longitude:null===(r=c.End)||void 0===r?void 0:r.Location.Longitude,latitude:null===(s=c.End)||void 0===s?void 0:s.Location.Latitude}),{commuteDetails:u,start:h,end:g,destinationAddressType:null===(o=c.End)||void 0===o?void 0:o.AddressType}}function T(e,t){if(!e)return null;const i=I(e.DelayColor,t);return{congestion:e.AreaTrafficCongestion,delayColor:i[1]}}function O(e,t,i,n,a){if(!e&&!t)return null;const r=e=>e&&"number"==typeof e.Latitude&&"number"==typeof e.Longitude,s=e.map(e=>{const t=I(e.DelayColor,a),i=e.BoundingBoxMin,s=e.BoundingBoxMax;return{incident:`${e.Incident}${e.Locality?", "+e.Locality:""}`,incidentIconFill:t[0],isIncident:!1,delay:C(e.TrafficCongestion,n),delayColor:t[1],location:r(i)&&r(s)&&{latitude:((i.Latitude+s.Latitude)/2).toString(),longitude:((i.Longitude+s.Longitude)/2).toString().toString()},congestion:e.TrafficCongestion}}),o=t.map(e=>{const t=I(e.DelayColor,a),i=e.Location;return{id:e.IncidentId&&e.IncidentId.toString(),incident:e.Incident,incidentIconFill:t[0],isIncident:!0,delayColor:t[1],location:r(i)&&{latitude:i.Latitude.toString(),longitude:i.Longitude.toString()}}});return s.concat(o)}function w(e){switch(e){case a.Heavy:return"heavy";case a.Moderate:return"moderate";case a.Light:return"light";case a.None:default:return"none"}}function C(e,t){switch(e){case a.Heavy:return t.heavyTraffic;case a.Moderate:return t.moderateTraffic;case a.Light:return t.noTraffic;case a.None:default:return t.fasterThanUsual}}function I(e,t){switch(e){case s.Green:return[t?"#74b374":"#107c10","delay-green"];case s.Orange:return[t?"#e98f6d":"#be5a00","delay-orange"];default:return[t?"#e87979":"#d83b01","delay-red"]}}function j(e,t){switch(e){case a.Heavy:return[t?"#e87979":"#d83b01","delay-red"];case a.Moderate:return[t?"#e98f6d":"#be5a00","delay-orange"];case a.Light:case a.None:default:return[t?"#74b374":"#107c10","delay-green"]}}function A(e,t,i){const n=u;return e?`${(n.fullMapWidth*n.mapImageResolutionFactor).toFixed()},${(n.fullMapHeight*n.mapImageResolutionFactor).toFixed()}`:t?`${(n.quarterMapWidth*n.mapImageResolutionFactorQuarter).toFixed()},${(n.quarterMapHeight*n.mapImageResolutionFactorQuarter).toFixed()}`:`${(n.halfMapWidth*n.mapImageResolutionFactor).toFixed()},${((i||n.halfMapHeight)*n.mapImageResolutionFactor).toFixed()}`}function k(e){return e?{latitude:e.Latitude,longitude:e.Longitude,locality:e.City}:null}var x=i("u8F0");const M=new Map([["default",c.Kilometers],["en-us",c.Miles],["es-us",c.Miles],["haw-us",c.Miles],["en-bz",c.Miles]]);function P(e){return Object(g.a)(this,void 0,void 0,(function*(){v.a.updateUserSettings({commuteDistanceUnit:e})}))}function E(e){return Object(g.a)(this,void 0,void 0,(function*(){v.a.updateUserSettings({commuteDaysOfWeek:JSON.stringify(e)})}))}function L(e,t){return Object(g.a)(this,void 0,void 0,(function*(){"Home"==e?v.a.updateUserSettings({arriveAtHomeTime:String(t)}):v.a.updateUserSettings({arriveAtWorkTime:String(t)})}))}function D(e,t){let i,n;i=e&&e.commuteDistanceUnit&&e.commuteDistanceUnit in c?e.commuteDistanceUnit:M.get(Object(f.b)().CurrentMarket?Object(f.b)().CurrentMarket.toLowerCase():"default");try{n=JSON.parse(e.commuteDaysOfWeek)}catch(e){}n||(n={Sunday:!1,Monday:!0,Tuesday:!0,Wednesday:!0,Thursday:!0,Friday:!0,Saturday:!1});let a=!e||"0"!=e.isTrafficScenarioEnabled,r=!e||"0"!=e.isCommuteScenarioEnabled;return t||!a&&!r?!t||a||r||(a=!0,r=!0):(a=!1,r=!1),{isTrafficScenarioEnabled:a,isCommuteScenarioEnabled:r,commuteDaysOfWeek:n,arriveAtHomeTime:(null==e?void 0:e.arriveAtHomeTime)?parseInt(e.arriveAtHomeTime):64800,arriveAtWorkTime:(null==e?void 0:e.arriveAtWorkTime)?parseInt(e.arriveAtWorkTime):32400,distanceUnit:i}}function R(){return Object(g.a)(this,void 0,void 0,(function*(){try{const e=yield v.a.readPdpWithTargetType(x.a.Traffic);if(null==e?void 0:e.value)return{home:H(F(e.value,"HomeLocation")),work:H(F(e.value,"WorkLocation"))}}catch(e){}return{home:null,work:null}}))}const F=(e,t)=>{const i=e.filter(e=>e.degree==t);if(0==i.length)return null;let n=i[0];return i.forEach(e=>{e.updatedDateTime>n.updatedDateTime&&(n=e)}),n},H=e=>{if(!e||!e.definitionName||!e.metadata)return null;try{const t=JSON.parse(e.metadata);return{latitude:t.DisplayCoordinates.Latitude,longitude:t.DisplayCoordinates.Longitude,displayName:t.Address.SingleLine}}catch(e){}return null},U=(e,t,i,n,a,r,s)=>{if(t&&i)return v.a.updateTrafficMyRoutes(e?"HomeLocation":"WorkLocation",`${i},${t}`,r,JSON.stringify({DisplayCoordinates:{Latitude:t,Longitude:i},OriginalName:n,Address:{SingleLine:a},EntityId:r,bond_metadata:"Microsoft.Bing.GeoNotes.V1.Place"}),s)};var N=i("/FrS"),B=i("msIb"),$=i("tERu"),V=i("/+Un");class q{constructor(e){this.preferIncidents=e}getIncidentsResponse(e,t,i={}){return Object(g.a)(this,void 0,void 0,(function*(){const n=u.oneServiceTrafficApi.replace("{APIKEY}",u.apiKey).replace("{MARKET}",Object(f.b)().CurrentMarket).replace("{OCID}",u.ocid).replace("{USER}",null!=e?e:Object(f.b)().UserId),a=new URL(n,u.msnAssetsHost),r=(yield Object(V.d)())===$.c.SignedIn?B.a.getOneServiceParamsWithAuth(Object(f.b)().UserId,u.ocid):B.a.getOneServiceParamsWithoutAuth(Object(f.b)().UserId,u.ocid),s=new Set(["apikey","ocid"]);var o;(o=r)&&o.forEach(e=>{e.value&&!s.has(e.key)&&a.searchParams.set(e.key,e.value)});const c=this.makeRequest("GET",a.href,i).then(e=>this.getIncidentsFromApiResponse(JSON.parse(e),t));return yield Promise.resolve(c).then(e=>e).catch(e=>(Object(p.c)(e,m.Ii,"Getting the proper json response from the datatstore and parsing it failed",a.href),null))}))}makeRequest(e,t,i={}){return new Promise((function(n,a){const r=new XMLHttpRequest;if(r.open(e,t),r.timeout=1e4,r.onload=function(){n(r.response)},r.onerror=function(){a(r.response)},i)for(const e in i)r.setRequestHeader(e,i[e]);r.send()}))}getIncidentsFromApiResponse(e,t){if((null==e?void 0:e.length)>0&&"TrafficDelays"==e[0].type){const i=JSON.parse(e[0].data);return this.parseIncidentsFromJson(i,t)}return null}parseIncidentsFromJson(e,t){if(!e)return null;const i={roads:this.getRoads(e.TrafficDelays,e.TrafficIncidents),zoomLevel:e.SuggestedZoomLevel,cameras:this.getCameras(e.TrafficCameras),areaTrafficDelay:T(e.AreaTrafficDelay),commuteData:t&&S(e,t),location:e.Location&&k(e.Location),home:e.Home&&k(e.Home.Location),work:e.Work&&k(e.Work.Location)};return e.Location&&(i.location={latitude:e.Location.Latitude,longitude:e.Location.Longitude,locality:e.Location.City}),e.LocationMode&&(i.locationDetectionMode="AutoDetect"===e.LocationMode?N.d.DetectCurrentLocation:N.d.SpecifyLocation),i}getRoads(e,t){const i=new Array,n=new Array,a=new Array;return e&&e.forEach(e=>{const t={delay:e.Delay,name:e.Incident,locality:e.Locality,congestion:e.TrafficCongestion,isIncident:!1},n=e.BoundingBoxMin,a=e.BoundingBoxMax;n&&a&&"number"==typeof n.Latitude&&"number"==typeof n.Longitude&&"number"==typeof a.Longitude&&"number"==typeof a.Longitude&&(t.location={latitude:((n.Latitude+a.Latitude)/2).toString(),longitude:((n.Longitude+a.Longitude)/2).toString()}),i.push(t)}),t&&(t.filter(e=>1==e.ShowOnCard).forEach(e=>{n.push(this.convertIncidentToRoad(e))}),t.filter(e=>null==e.ShowOnCard||0==e.ShowOnCard).forEach(e=>{a.push(this.convertIncidentToRoad(e))})),this.preferIncidents?n.concat(i).concat(a):i.concat(n).concat(a)}convertIncidentToRoad(e){const t={id:e.IncidentId,delay:e.Delay,name:e.Incident,description:e.Description,delayColor:e.DelayColor,alertCCodes:e.AlertCCodes,isIncident:!0,isHighPriorityIncident:e.ShowOnCard};return e.StartTime&&(t.startTime=new Date(e.StartTime)),e.EndTime&&(t.endTime=new Date(e.EndTime)),e.Location&&"number"==typeof e.Location.Latitude&&"number"==typeof e.Location.Longitude&&(t.location={latitude:e.Location.Latitude,longitude:e.Location.Longitude}),t}getCameras(e){if(!e)return new Array;const t=new Array;return e.forEach(e=>{const i={id:e.Id,location:{latitude:e.Location.Latitude,longitude:e.Location.Longitude},name:e.Name,url:e.Url,temporaryPassword:e.TemporaryPassword,copyrightNotice:e.CopyrightNotice,gridId:e.GridId};t.push(i)}),t}}},"/FrS":function(e,t,i){"use strict";var n,a;i.d(t,"k",(function(){return n})),i.d(t,"j",(function(){return a})),i.d(t,"h",(function(){return r})),i.d(t,"g",(function(){return s})),i.d(t,"d",(function(){return o})),i.d(t,"f",(function(){return c})),i.d(t,"m",(function(){return d})),i.d(t,"l",(function(){return l})),i.d(t,"i",(function(){return u})),i.d(t,"e",(function(){return h})),i.d(t,"c",(function(){return g})),i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return m})),function(e){e.overviewRequestStart="OverviewRequest.start",e.overviewRequestDuration="OverviewRequest.duration",e.overviewRequestInternal="OverviewRequest.internal",e.overviewRequestNetwork="OverviewRequest.network",e.pdpRequestStart="pdpRequest.start",e.pdpRequestDuration="pdpRequest.duration"}(n||(n={})),function(e){e[e.HomeFromCookie=1]="HomeFromCookie",e[e.HomeFromPdp=2]="HomeFromPdp",e[e.HomeFromUserSet=3]="HomeFromUserSet",e[e.HomeFromServerCookie=4]="HomeFromServerCookie"}(a||(a={}));const r="WeatherCondition";var s,o,c,d,l;!function(e){e[e.normal=0]="normal",e[e.alert=1]="alert",e[e.nowcast=2]="nowcast"}(s||(s={})),function(e){e[e.DetectCurrentLocation=1]="DetectCurrentLocation",e[e.SpecifyLocation=2]="SpecifyLocation"}(o||(o={})),function(e){e[e.Start=1]="Start",e[e.WCComplete=2]="WCComplete"}(c||(c={})),function(e){e[e.Fahrenheit=1]="Fahrenheit",e[e.Celsius=2]="Celsius"}(d||(d={})),function(e){e[e.RainThreshold=11.9]="RainThreshold"}(l||(l={}));const u={WeatherSpartanHomeLocationCookie:"weaSpartanHomeLocation",WeatherHomeLocationCookie:"weaPeregrineHomeLocation",WeatherSpartanDegreeSettingCookie:"weaSpartanDegreeType",WeatherDegreeSettingCookie:"weaPeregrineDegreeType",WeatherSpartanDetectLocationSetting:"weaDetectLocation",WeatherDetectLocationSetting:"weaPeregrineDetectLocation",WeatherSpartanRecentLocationCookie:"weaSpartanRecentLocations",WeatherRecentLocationCookie:"weaPeregrineRecentLocations",WeatherSpartanFavoriteLocationCookie:"weaSpartanFavoriteLocations",WeatherFavoriteLocationCookie:"weaPeregrineFavoriteLocations",WeatherRecentLocationLocalStorage:"weaRecentLocation",EnglishLocationMarkets:"en-",cookieExpirationTimeInDays:365,AirQualityF0:["AQ","SM","DU","VO","AS"]};var h,g,p,m;!function(e){e[e.setHomeFail=1]="setHomeFail",e[e.exceedPinLocationLimit=2]="exceedPinLocationLimit"}(h||(h={})),function(e){e.Hurricane="Hurricane",e.NormalWeather="NormalWeather",e.Nowcast="Nowcast",e.SevereWeather="SevereWeather",e.GoodWeatherWeekend="GoodWeatherWeekend",e.Holiday="Holiday"}(g||(g={})),function(e){e.ImageContent="ImageContent"}(p||(p={})),function(e){e.L1Minimap="L1Minimap",e.CardMinimap="CardMinimap"}(m||(m={}))},"/ooL":function(e,t,i){"use strict";var n=i("NkR4"),a=Object(n.a)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),r=i("SNCn"),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.a=function(e){return(e=Object(r.a)(e))&&e.replace(s,a).replace(o,"")}},"0+nS":function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.SysTag="SysTag",e.UserQuery="UserQuery"}(n||(n={}))},"0hJ9":function(e,t,i){"use strict";var n=i("v6nU");t.a=function(e){return"number"==typeof e&&e==Object(n.a)(e)}},"2pXY":function(e,t,i){"use strict";t.a=function(e,t,i){for(var n=-1,a=null==e?0:e.length;++n<a;)if(i(t,e[n]))return!0;return!1}},"3MDl":function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return u}));var n=i("eftJ"),a=i("QBS5"),r=i("oePG"),s=i("RM8H"),o=i("C5kU"),c=i("6fxl"),d=i("TDEi");function l(e){return Object(s.c)(e)&&"treeitem"===e.getAttribute("role")}class u extends d.a{constructor(){super(...arguments),this.expanded=!1,this.focusable=!1,this.handleExpandCollapseButtonClick=e=>{this.disabled||(e.preventDefault(),this.setExpanded(!this.expanded))},this.handleClick=e=>{if(!e.defaultPrevented){return e.composedPath().find(e=>e instanceof HTMLElement&&l(e))===this&&this.handleSelected(),!0}},this.isNestedItem=()=>l(this.parentElement)}itemsChanged(e,t){this.$fastController.isConnected&&this.items.forEach(e=>{l(e)&&(e.nested=!0)})}static focusItem(e){e.focusable=!0,e.focus()}childItemLength(){const e=this.childItems.filter(e=>l(e));return e?e.length:0}handleSelected(e){this.$emit("selected-change",e)}setExpanded(e){this.expanded=e,this.$emit("expanded-change",this)}}Object(n.a)([Object(a.b)({mode:"boolean"})],u.prototype,"expanded",void 0),Object(n.a)([Object(a.b)({mode:"boolean"})],u.prototype,"selected",void 0),Object(n.a)([Object(a.b)({mode:"boolean"})],u.prototype,"disabled",void 0),Object(n.a)([r.d],u.prototype,"focusable",void 0),Object(n.a)([r.d],u.prototype,"childItems",void 0),Object(n.a)([r.d],u.prototype,"items",void 0),Object(n.a)([r.d],u.prototype,"nested",void 0),Object(n.a)([r.d],u.prototype,"renderCollapsedChildren",void 0),Object(c.a)(u,o.a)},"5e7c":function(e,t,i){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16"><path d="M3.78 13.92A.5.5 0 0 1 3 13.5V4.01c0-1.1.9-2 2-2h6A2 2 0 0 1 13 4v9.5a.5.5 0 0 1-.78.42L8 11.1l-4.22 2.82ZM12 4v-.12A1 1 0 0 0 11 3l-6 .01a1 1 0 0 0-1 1v8.56l3.72-2.49a.5.5 0 0 1 .56 0L12 12.57V4Z"/></svg>'},"5xIM":function(e,t,i){var n,a,r;a=[t,e],void 0===(r="function"==typeof(n=function(e,t){"use strict";var i=5e3,n="callback";function a(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function s(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,c=t.timeout||i,d=t.jsonpCallback||n,l=void 0;return new Promise((function(i,n){var u=t.jsonpCallbackFunction||a(),h=d+"_"+u;window[u]=function(e){i({ok:!0,json:function(){return Promise.resolve(e)}}),l&&clearTimeout(l),s(h),r(u)},o+=-1===o.indexOf("?")?"?":"&";var g=document.createElement("script");g.setAttribute("src",""+o+d+"="+u),t.charset&&g.setAttribute("charset",t.charset),g.id=h,document.getElementsByTagName("head")[0].appendChild(g),l=setTimeout((function(){n(new Error("JSONP request to "+e+" timed out")),r(u),s(h),window[u]=function(){r(u)}}),c),g.onerror=function(){n(new Error("JSONP request to "+e+" failed")),r(u),s(h),l&&clearTimeout(l)}}))}})?n.apply(t,a):n)||(e.exports=r)},"623N":function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.consumer="consumer",e.work="work"}(n||(n={}))},"635p":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=Object.freeze(function(){const e=JSON.parse(document.head.dataset.clientSettings||"{}"),t={activityId:e.aid||"",appType:e.apptype,categoryKey:e.categoryKey,pageType:e.pagetype,verticalKey:e.verticalKey||e.vk,ocid:e.ocid};try{if(e.locale)t.market=`${e.locale.language}-${e.locale.market}`;else{const e=location.pathname.split("/");e&&e[1]&&(t.market=e[1].toLowerCase())}}catch(e){}return t}())},"6ADy":function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return h}));var n=i("rvYQ"),a=i("I6Lx"),r=i("kN1G"),s=i("tMmC");let o,c;function d(){const e=Object(n.b)();if(!o){!function(e){o=new URL("",e),g(o)}(Object(r.j)()&&Object(r.k)()?e.EnterpriseServiceUrlBase:e.ServiceUrlBase)}return o}function l(){const e=Object(n.b)();if(!c){!function(e){c=new URL("",e),g(c)}(Object(r.j)()&&Object(r.k)()?e.EnterpriseServiceUrlBase:e.FeedServiceUrlBase)}return c}function u(e,t=d()){return new URL(e+(null==t?void 0:t.search),t)}function h(e,t=l()){return new URL(e+(null==t?void 0:t.search),t)}function g(e){let t=!1;"dev"!==e.searchParams.get("env.service")&&Object(a.a)().UserIsSignedIn&&(t=!0),s.a.log("u-si: "+Object(n.b)().UserId),s.a.log("a-si: "+t),s.a.log("ss-si: "+Object(a.a)().UserIsSignedIn)}},"7qs3":function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var n,a=i("D57K"),r=i("h3hC"),s=i("ypwz"),o=i("tERu"),c=i("HxRh"),d=i("XlyT"),l=i("rvYQ"),u=i("I6Lx"),h=i("u5KZ"),g=i("6ADy"),p=i("msIb"),m=i("KETb"),f=i("k112"),v=i("KUTD"),b=i("Qo3E"),y=i("8ntK");!function(e){e[e.feedbackDefault=2224]="feedbackDefault",e[e.windowsFeed=2475]="windowsFeed"}(n||(n={}));class S{constructor(){this.manifestType="Sas",this.appId=n.feedbackDefault,this.source="Client",this.type="Idea"}}var T=i("HDSB"),O=i("4L2h"),w=i("r6MD"),C=i("/+Un"),I=i("ac9z");class j extends class{constructor(e,t){this.fetchImpl=e,this.additionalHeaders=t,this.isWindowsDashboard=l.a.AppType===s.a.NewsAndInterests||l.a.AppType===s.a.WindowsNewsPlus||l.a.AppType===s.a.WindowsNewsWidgets,this.providersServiceEndpointURL=Object(g.c)("./Msn/Providers"),this.cardActionsServiceEndpointURL=Object(g.c)("./Graph/Actions"),this.userFeedbackEventhubUrl="/labs/api/feedbackSignal",this.ocid="feeds",this.isWindowsDashboard?this.ocid="winp2":u.b.IsBlendedEnterprise&&(this.ocid="entnewsntp")}ShowFewer(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,r.a.Dislike,null)}))}UnshowFewer(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,r.a.Dislike)}))}ShowMore(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,r.a.Like)}))}UnshowMore(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,r.a.Like)}))}Save(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,r.a.Save)}))}Unsave(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,r.a.Save)}))}Hide(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,r.a.Dislike,null)}))}Unhide(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.DeleteCardActionRequest(e,r.a.Dislike)}))}Mute(e){return Object(a.a)(this,void 0,void 0,(function*(){return this.PostCardActionRequest(e,r.a.Mute,"SourceProvider")}))}Report(e,t,i){return Object(a.a)(this,void 0,void 0,(function*(){const n=u.b.ClientSettings?u.b.ClientSettings.aid:"";let a="";const r={serviceType:"oneservice",oneServiceTraceId:"",oneServiceActivityId:n};l.a.AppType===s.a.Windows&&(a=h.a.getPageMetadata().JoinIdProps.IDXId,r.oneServiceTraceId="",r.oneServiceActivityId=n),h.a.sendTraceInfoEvent(r);const o=JSON.stringify({article:{id:e},canvas:{name:l.a.AppType,version:navigator.userAgent,pageType:u.b.ClientSettings.pagetype},data:{activityId:n,feedbackTags:t,feedbackText:i},appEnvironment:l.a,clientSettings:u.b.ClientSettings,extSchema:r}),d=Object(g.b)().origin+this.userFeedbackEventhubUrl,m={method:"POST",headers:Object.assign(Object.assign({},yield p.a.getOneServiceHeaders()),this.additionalHeaders),body:o,credentials:"include"};let f;try{if(f=yield fetch(d,m),f.status>=400)throw new Error(f.statusText)}catch(e){h.a.sendAppErrorEvent(Object.assign(Object.assign({},c.db.CardActionPostActionError),{message:"Error while posting action for card action",pb:Object.assign(Object.assign({},c.db.CardActionPostActionError.pb),{customMessage:`url: ${d}, error: ${e}`})}))}return f}))}reportNonCMS(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){this.ReportOCV(e,t,i,n)}))}ReportOCV(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){let a=!1;const r="https://petrol.office.microsoft.com/v1/feedback",s=this.createOcvFeedbackData(e,t,i,n),o={method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};try{const e=yield this.fetchImpl(r,o);if(e.ok)a=!0;else{const t=`Error code: ${e.status} Error message: ${e.statusText} Request params: ${o} Service url: ${r}`;Object(d.b)(c.db.CardActionBadRequestReportingToOcv,"Request is not valid, it has no content, or the manifest is not formatted correctly",t)}}catch(e){const t=`Error code: ${e?e.code:"undefined"} Error message: ${e?e.message:"undefined"} Request params: ${o} Service url: ${r}`;Object(d.c)(e,c.db.CardActionExceptionReportingToOcv,"Exception reporting feedback to OCV",t)}}))}createOcvFeedbackData(e,t,i,n){var a,r,s,o;const c=new S,d=null===u.b||void 0===u.b?void 0:u.b.ClientSettings,g=null===l.a||void 0===l.a?void 0:l.a.HostPage,p=(null==d?void 0:d.aid)||"";let m="";const f=(null===(r=null===(a=null===l.a||void 0===l.a?void 0:l.a.CurrentRequestTargetScope)||void 0===a?void 0:a.pageExperiments)||void 0===r?void 0:r.join(","))||"",v=null===(s=null===l.a||void 0===l.a?void 0:l.a.CurrentRequestTargetScope)||void 0===s?void 0:s.browser;return m=h.a.getPageMetadata().JoinIdProps.IDXId,c.submitTime=(new Date).toISOString(),c.clientFeedbackId=Object(O.e)(),c.comment=i,c.rating=4,c.application={appData:`{"ScreenResolution":"${window&&window.screen?[screen.width,screen.height].join("x"):""}","DDDActivityId":"${m}","articleId":"${e}"}`},c.telemetry={audience:(null===l.a||void 0===l.a?void 0:l.a.CurrentMarket)||"",audienceGroup:(null==g?void 0:g.verticalKey)||"Production",channel:(null==g?void 0:g.categoryKey)||"",deviceType:(null==d?void 0:d.deviceFormFactor)||"",errorClassification:JSON.stringify({NotRelevant:t.NotRelevant,ImageQuality:t.BlurryImage,MisleadingTitle:t.Misleading,OutdatedArticle:t.Outdated,DuplicateArticle:t.Duplicate,OffensiveContent:t.Offensive,Vertical:n}),featureArea:(null==d?void 0:d.pagetype)||"",flights:f,isUserSubscriber:Object(C.e)(),platform:null===(o=l.a.CurrentRequestTargetScope)||void 0===o?void 0:o.os,processSessionId:p,sourceContext:l.a.AppType},c.web={browser:(null==v?void 0:v.browserType)||"",browserVersion:(null==v?void 0:v.version)||"",sourcePageName:(null==g?void 0:g.subcategoryKey)||"",sourcePageURI:""},c}ReportAd(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i=e.concat("&f="+t);let n=new Image(1,1);n.src=i,n=null}))}GetProviderIcon(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.GetPublisherDetails(e);return Object(w.a)(t,"value[0].logos[0].imageLink.href",void 0)}))}PostCardActionEvent(e,t,i,n=(()=>null),s,o,c=!0,d,l=5e3){return Object(a.a)(this,void 0,void 0,(function*(){switch(t){case r.a.ShowMore:return e&r.b.showMore?(c&&b.a.renderToast({id:y.a.ShowMore+"-"+i,toastType:y.a.ShowMore,expirationInMs:l,onClick:()=>{s?s(i,e^r.b.showMore,t,!0):this.PostCardActionEvent(e^r.b.showMore,t,i,n)},referrerButton:d}),yield this.ShowMore(i)):(b.a.expireToast(y.a.ShowMore+"-"+i),yield this.UnshowMore(i)),n(i,e);case r.a.ShowFewer:return e&r.b.showFewer?(c&&b.a.renderToast({id:y.a.ShowFewer+"-"+i,toastType:y.a.ShowFewer,expirationInMs:l,onClick:()=>{s?s(i,e^r.b.showFewer,t,!0):this.PostCardActionEvent(e^r.b.showFewer,t,i,n)},referrerButton:d}),yield this.ShowFewer(i)):(b.a.expireToast(y.a.ShowFewer+"-"+i),yield this.UnshowFewer(i)),n(i,e);case r.a.Save:return e&r.b.saved?(c&&b.a.renderToast({id:y.a.Save+"-"+i,toastType:y.a.Save,expirationInMs:l,referrerButton:d}),yield this.Save(i)):(b.a.expireToast(y.a.Save+"-"+i),yield this.Unsave(i)),n(i,e);case r.a.Hide:return e&r.b.hide?yield this.Hide(i):yield this.Unhide(i),n(i,e);case r.a.Mute:yield this.Mute(o);break;case r.a.ReportAd:return n(i,e);default:return}}))}GetPublisherDetails(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=this.providersServiceEndpointURL,i={method:"GET",headers:Object.assign(Object.assign({},yield p.a.getOneServiceHeaders()),this.additionalHeaders)};[{key:"ids",value:e},...yield this.getOneServiceCommonParam()].forEach(e=>e.value&&t.searchParams.set(e.key,e.value));try{const n=yield Object(m.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){return yield this.fetchImpl(t.href,i)})),"getProviderDetails");if(!n.ok){const i=`OneService returned error response. Status: ${n.status} for providerId: ${e} (url: ${t.href}`;throw new Error(i)}return n.json()}catch(e){h.a.sendAppErrorEvent(Object.assign(Object.assign({},c.db.CardActionGetActionError),{message:`Error while calling getPublisherDetails action for card action: url: ${t.href}, error: ${e}`}))}}))}DeleteCardActionRequest(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i=this.cardActionsServiceEndpointURL,n={method:"DELETE",credentials:"include",headers:Object.assign(Object.assign({},yield p.a.getOneServiceHeaders()),this.additionalHeaders)};[{key:"$filter",value:`actionType eq '${t}' and targetId eq '${e}'`},...yield this.getOneServiceCommonParam()].forEach(e=>e.value&&i.searchParams.set(e.key,e.value));try{const r=yield Object(m.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){return yield this.fetchImpl(i.href,n)})),"deleteCardAction"+t);if(r.status>=400){const i=`OneService returned error response. Status: ${r.status} for actionType: ${t} and targetId: ${e}`;throw new Error(i)}return Object(f.a)(this.getPreloadReloadReason(t)),Object(I.e)(),r}catch(e){h.a.sendAppErrorEvent(Object.assign(Object.assign({},c.db.CardActionDeleteActionError),{message:`Error while calling delete action for card action: url: ${i.href}, error: ${e}`}))}}))}PostCardActionRequest(e,t,i){return Object(a.a)(this,void 0,void 0,(function*(){const n=this.cardActionsServiceEndpointURL,r={method:"POST",body:JSON.stringify({actionType:t,targetId:e,targetType:i}),headers:Object.assign(Object.assign({},yield p.a.getOneServiceHeaders()),this.additionalHeaders),credentials:"include"};(yield this.getOneServiceCommonParam()).forEach(e=>e.value&&n.searchParams.set(e.key,e.value));try{const s=yield Object(m.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){return yield this.fetchImpl(n.href,r)})),"getCardAction"+t);if(s.status>=400){const n=`OneService returned error response. Status: ${s.status} for actionType: ${t}, targetId: ${e} and targetType: ${i}`;throw new Error(n)}return Object(f.a)(this.getPreloadReloadReason(t)),Object(I.e)(),s.json()}catch(e){h.a.sendAppErrorEvent(Object.assign(Object.assign({},c.db.CardActionPostActionError),{message:`Error while posting action for card action: url: ${n.href}, error: ${e}`}))}}))}getOneServiceCommonParam(){return Object(a.a)(this,void 0,void 0,(function*(){return this.isWindowsDashboard?p.a.getOneServiceParamsWithoutAuth(l.a.UserId,this.ocid,!1):(yield this.isUserSignedIn())?p.a.getOneServiceParamsWithAuth(l.a.UserId,this.ocid,!u.b.IsBlendedEnterprise):p.a.getOneServiceParamsWithoutAuth(l.a.UserId,this.ocid,!u.b.IsBlendedEnterprise)}))}isUserSignedIn(){return Object(a.a)(this,void 0,void 0,(function*(){if(u.b.UserIsSignedIn)return!0;return(yield Object(C.d)())===o.c.SignedIn}))}getPreloadReloadReason(e){switch(e){case r.a.Mute:return v.a.MutePublisher;case r.a.Save:return v.a.Save;case r.a.Like:return v.a.Like;case r.a.Dislike:return v.a.Dislike;default:return v.a.SettingsChange}}}{constructor(e,t){let i;i=e||(Object(T.a)()?window.fetch.bind(window):fetch),super(i,t)}}let A;const k=(e,t)=>A||(A=new j(e,t),A)},"8ntK":function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.Save="Save",e.Mute="Mute",e.Follow="Follow",e.Unfollow="Unfollow",e.InterestFailure="InterestFailure",e.ShowMore="ShowMore",e.ShowFewer="ShowFewer",e.Hide="Hide",e.DisableNotification="DisableNotification",e.EnableNotification="EnableNotification",e.RecommendedInterestsFailure="RecommendedInterestsFailure",e.Refresh="Refresh"}(n||(n={}))},"8zqh":function(e,t,i){"use strict";t.a='<svg viewBox="0 0 16 16" width="16" height="16"><path d="M16 4v7a2.03 2.03 0 0 1-2 2H1.95c-.27 0-.52-.05-.76-.16a2.1 2.1 0 0 1-.62-.41 2.1 2.1 0 0 1-.41-.62c-.1-.24-.16-.49-.16-.76V2h14v2h2Zm-1 1h-1v5.5c0 .14-.05.25-.15.35-.1.1-.21.15-.35.15a.48.48 0 0 1-.35-.15.48.48 0 0 1-.15-.35V3H1v8.05a.96.96 0 0 0 .27.68c.1.08.2.15.3.2.12.05.25.07.38.07H14a.97.97 0 0 0 .7-.29.97.97 0 0 0 .3-.71V5Zm-3 0H2V4h10v1Zm0 6H8v-1h4v1Zm0-2H8V8h4v1Zm0-2H8V6h4v1Zm-5 4H2V5.98h5V11Zm-4-1h3V6.98H3V10Z"/></svg>'},Aiug:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r}));const n=[{id:"ar-ae",value:"ar-ae",displayString:"الإمارات العربية المتحدة (العربية)",direction:"rtl"},{id:"ar-eg",value:"ar-eg",displayString:"مصر (العربية)",direction:"rtl"},{id:"ar-sa",value:"ar-sa",displayString:"المملكة العربية السعودية (العربية)",direction:"rtl"},{id:"bn-in",value:"bn-in",displayString:"India (বাংলা)",direction:"ltr"},{id:"cs-cz",value:"cs-cz",displayString:"Česká republika (čeština)",direction:"ltr"},{id:"da-dk",value:"da-dk",displayString:"Danmark (Dansk)",direction:"ltr"},{id:"de-at",value:"de-at",displayString:"Österreich (Deutsch)",direction:"ltr"},{id:"de-ch",value:"de-ch",displayString:"Schweiz (Deutsch)",direction:"ltr"},{id:"de-de",value:"de-de",displayString:"Deutschland (Deutsch)",direction:"ltr"},{id:"el-gr",value:"el-gr",displayString:"Ελλάδα (ελληνικά)",direction:"ltr"},{id:"en-ae",value:"en-ae",displayString:"United Arab Emirates (English)",direction:"ltr"},{id:"en-au",value:"en-au",displayString:"Australia (English)",direction:"ltr"},{id:"en-ca",value:"en-ca",displayString:"Canada (English)",direction:"ltr"},{id:"en-gb",value:"en-gb",displayString:"United Kingdom (English)",direction:"ltr"},{id:"en-ie",value:"en-ie",displayString:"Ireland (English)",direction:"ltr"},{id:"en-in",value:"en-in",displayString:"India (English)",direction:"ltr"},{id:"en-my",value:"en-my",displayString:"Malaysia (English)",direction:"ltr"},{id:"en-nz",value:"en-nz",displayString:"New Zealand (English)",direction:"ltr"},{id:"en-ph",value:"en-ph",displayString:"Philippines (English)",direction:"ltr"},{id:"en-sg",value:"en-sg",displayString:"Singapore (English)",direction:"ltr"},{id:"en-us",value:"en-us",displayString:"United States (English)",direction:"ltr"},{id:"en-xl",value:"en-xl",displayString:"International Edition (English)",direction:"ltr"},{id:"en-za",value:"en-za",displayString:"South Africa (English)",direction:"ltr"},{id:"es-ar",value:"es-ar",displayString:"Argentina (español)",direction:"ltr"},{id:"es-cl",value:"es-cl",displayString:"Chile (español)",direction:"ltr"},{id:"es-co",value:"es-co",displayString:"Colombia (español)",direction:"ltr"},{id:"es-es",value:"es-es",displayString:"España (español)",direction:"ltr"},{id:"es-mx",value:"es-mx",displayString:"México (español)",direction:"ltr"},{id:"es-pe",value:"es-pe",displayString:"Perú (español)",direction:"ltr"},{id:"es-us",value:"es-us",displayString:"United States (español)",direction:"ltr"},{id:"es-ve",value:"es-ve",displayString:"Venezuela (español)",direction:"ltr"},{id:"es-xl",value:"es-xl",displayString:"América Latina (español)",direction:"ltr"},{id:"fi-fi",value:"fi-fi",displayString:"Suomi (suomi)",direction:"ltr"},{id:"fr-be",value:"fr-be",displayString:"Belgique (français)",direction:"ltr"},{id:"fr-ca",value:"fr-ca",displayString:"Canada (français)",direction:"ltr"},{id:"fr-ch",value:"fr-ch",displayString:"Suisse (français)",direction:"ltr"},{id:"fr-fr",value:"fr-fr",displayString:"France (français)",direction:"ltr"},{id:"fr-xl",value:"fr-xl",displayString:"Afrique francophone (français)",direction:"ltr"},{id:"he-il",value:"he-il",displayString:"ישראל (עברית)",direction:"rtl"},{id:"hi-in",value:"hi-in",displayString:"India (हिंदी)",direction:"ltr"},{id:"hu-hu",value:"hu-hu",displayString:"Magyarország (magyar)",direction:"ltr"},{id:"id-id",value:"id-id",displayString:"Indonesia (Bahasa Indonesia)",direction:"ltr"},{id:"it-it",value:"it-it",displayString:"Italia (italiano)",direction:"ltr"},{id:"ja-jp",value:"ja-jp",displayString:"日本 (日本語)",direction:"ltr"},{id:"ko-kr",value:"ko-kr",displayString:"한국 (한국어)",direction:"ltr"},{id:"mr-in",value:"mr-in",displayString:"India (मराठी)",direction:"ltr"},{id:"nb-no",value:"nb-no",displayString:"Norge (norsk, bokmål)",direction:"ltr"},{id:"nl-be",value:"nl-be",displayString:"België (Nederlands)",direction:"ltr"},{id:"nl-nl",value:"nl-nl",displayString:"Nederland (Nederlands)",direction:"ltr"},{id:"pl-pl",value:"pl-pl",displayString:"Polska (polski)",direction:"ltr"},{id:"pt-br",value:"pt-br",displayString:"Brasil (português)",direction:"ltr"},{id:"pt-pt",value:"pt-pt",displayString:"Portugal (Português)",direction:"ltr"},{id:"ru-ru",value:"ru-ru",displayString:"Россия (Pусский)",direction:"ltr"},{id:"sv-se",value:"sv-se",displayString:"Sverige (svenska)",direction:"ltr"},{id:"te-in",value:"te-in",displayString:"India (తెలుగు)",direction:"ltr"},{id:"th-th",value:"th-th",displayString:"ไทย (ไทย)",direction:"ltr"},{id:"tr-tr",value:"tr-tr",displayString:"Türkiye (Türkçe)",direction:"ltr"},{id:"vi-vn",value:"vi-vn",displayString:"Việt Nam (Tiếng Việt)",direction:"ltr"},{id:"zh-cn",value:"zh-cn",displayString:"中华人民共和国 (简体中文)",direction:"ltr"},{id:"zh-hk",value:"zh-hk",displayString:"香港特别行政區 (繁體中文)",direction:"ltr"},{id:"zh-tw",value:"zh-tw",displayString:"台灣 (繁體中文)",direction:"ltr"}];function a(e,t){return e.displayString<t.displayString?-1:e.displayString>t.displayString?1:0}function r(e){if(""!==document.dir)return"rtl"===document.dir;const t=n.find(t=>t.id===e);return t&&"rtl"===t.direction}},B9v6:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i("Uw7R");const a=Object(n.b)();function r(e,t){const i=performance.now();t&&t.logStart&&s(e+"-start",i);const n=t&&t.perfTimeline,a=n&&n.startMeasure(e).endMeasure;return function(){const n=performance.now();t&&t.logEnd&&s(e+"-end",n),t&&!t.logDuration||s(e,n-i),a&&a()}}function s(e,t=performance.now()){return a[e]=Math.round(10*t)/10,t}},CgWR:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.AutosMarketplaceCard="autosmarketplaceCardEnabled",e.HoroscopeCard="horoscopeCardEnabled",e.WeatherCard="weatherCardEnabled",e.SportsCard="sportsCardEnabled",e.MoneyCard="moneyCardEnabled",e.FinanceCard="financeCardEnabled",e.OnThisDayCard="onthisdayCardEnabled",e.ShoppingCard="shoppingCardEnabled",e.TrafficCard="trafficCardEnabled",e.EsportsCard="esportsCardEnabled",e.ElectionsCard="genericelectionCardEnabled",e.LotteryCard="lotteryCardEnabled",e.QnaCard="qnaCardEnabled",e.RecipesCard="recipeCardEnabled",e.TravelCard="travelCardEnabled",e.HealthCard="healthCardEnabled",e.TopStoriesCard="topstoriesCardEnabled",e.LocalGuideCard="localGuideCardEnabled"}(n||(n={}))},CzGr:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("D57K"),a=(i("fuIx"),i("Zsg4"),i("e8jz"));function r(){return Object(n.a)(this,void 0,void 0,(function*(){const e={},t=Object(a.b)();if(t){e.MUID=t.muid;const i=yield Object(a.a)("service::api.msn.com::MBI_SSL");"MSA"===t.accountType&&i?e.UserAuthToken=i:"AAD"===t.accountType&&i&&(e.Authorization=i)}return e}))}},FaOE:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n,a=i("Am8i"),r=i("Gsg7"),s=i("635p"),o=i("mJTN");!function(e){e[e.Router=0]="Router",e[e.ExternalLink=2]="ExternalLink",e[e.PrimeExternalLink=3]="PrimeExternalLink"}(n||(n={}));const c=new class{constructor(){this.routeMap=new Map,this.market=s.a.market,this.currentUrl=new URL(location.href.toLowerCase())}init(e){if(this.options||!e)return;this.options=e,this.config=e.config,this.options.localizedStrings=this.options.localizedStrings||{},this.options.blockedQueryParams=this.options.blockedQueryParams||[],"/"===location.pathname&&(location.pathname=`/${this.market}${e.basePath||""}`);const t=this.currentUrl.searchParams.get("spapage");this.currentPath=t?`/${this.market}${e.basePath}/${t}`:this.currentUrl.pathname,this.currentUrl.searchParams.delete("spapage"),this.options.blockedQueryParams.forEach(e=>{this.currentUrl.searchParams.delete(e.toLowerCase())}),this.setRoutes(this.config),this.currentRoute&&(o.b.set(o.a.CurrentRoute,this.currentRoute),window.history.replaceState(this.currentRoute,"")),window.addEventListener("popstate",e=>{o.b.set(o.a.CurrentRoute,e.state||this.routeMap.get("myfeed"))})}subscribe(e){(e||"function"==typeof e)&&o.b.subscribe(o.a.CurrentRoute,e)}getCurrentRoute(){return o.b.get(o.a.CurrentRoute)}navigate(e,t){const i=o.b.get(o.a.CurrentRoute);if(i&&i.id===e)return;const n=this.routeMap.get(e),a=new URL(n.destinationUrl);if(a.hash&&(a.hash="",n.destinationUrl=decodeURIComponent(a.toString())),!n)return;const r=Object.assign(Object.assign({},n),{dynamicContext:t});history.pushState(r,n.display,n.destinationUrl),o.b.set(o.a.CurrentRoute,r),window.dispatchEvent(new CustomEvent("header-route-changed",{detail:{route:n}}))}getRouteById(e){return this.routeMap.get(e)}updateMarket(e){location.replace(location.href.replace(`/${this.market}/`,`/${e}/`))}preserveQueryParams(e){const t=e.searchParams;this.currentUrl.search&&this.currentUrl.searchParams.forEach((i,n)=>{n=n.toLowerCase(),-1===t.getAll(n).indexOf(i)&&e.searchParams.append(n,i)}),!e.searchParams.get("ocid")&&this.options.ocid&&e.searchParams.set("ocid",this.options.ocid)}getUrlInfo(e){const{renderType:t,path:i,externalUrl:a}=e.renderInfo;if(e.id===this.config.homeNavigationItem.id)return{url:`${location.origin}/${this.market}/feed${this.currentUrl.search}`,path:`/${this.market}/feed`};if(t===n.Router){const e=`${0===i.indexOf("personalize")?"":"/interest"}/${i}`;return{url:`${location.origin}/${this.market}/feed${e}${this.currentUrl.search}${location.hash}`,path:`/${this.market}/feed${e}`}}let r=new URL(a);return-1===r.hostname.indexOf(".msn.com")&&-1===r.hostname.indexOf(".msn.cn")||(r.hostname!==location.hostname&&(r=new URL(`${r.pathname}${r.search}`,location.origin)),this.preserveQueryParams(r)),{url:decodeURIComponent(r.toString()),path:r.pathname,searchParams:r.searchParams}}setRoutes(e){if(!e)return;const{contextualNavItems:t=[],hamburgerMenuItems:i=[],homeNavigationItem:n,interestsNavigationItem:a}=e;n&&i.length&&t.length&&(this.buildNavMap(n),this.mapChildItems(i),this.mapChildItems(t),this.buildNavMap(a))}processRoute(e,t){const{id:i,display:n,displayKey:s}=e,o=s?this.options.localizedStrings[s]:n,c=this.getUrlInfo(e),d=decodeURIComponent(c.url),l=Object.assign(Object.assign({},e),{display:o,destinationUrl:d,parentId:t,telemetryMetadata:new r.a({name:o,action:a.a.Click,behavior:a.b.Navigate,content:{headline:o},destinationUrl:d,overrideDestinationUrl:d,feed:{id:i,name:o,type:"category filter"}}).getMetadata()});return this.detectCurrentRoute(l,c.path,c.searchParams),l}detectCurrentRoute(e,t="",i){if(t=t.toLowerCase(),this.currentPath===t||this.currentPath===t+"/"){let t=!1;if(i&&i.toString()&&i.forEach((e,i)=>{i=i.toLowerCase(),-1===this.currentUrl.searchParams.getAll(i).indexOf(e.toLowerCase())&&(t=!0)}),t)return;this.currentRoute=e}}buildNavMap(e){if(!e)return;const{id:t,children:i=[]}=e;this.setRouteMap(this.processRoute(e)),this.mapChildItems(i,e.id)}mapChildItems(e=[],t){e.forEach(e=>{this.setRouteMap(this.processRoute(e,t));const{children:i}=e;i&&i.length&&this.mapChildItems(i,e.id)})}setRouteMap(e){this.routeMap.set(e.id,Object.assign(Object.assign({},this.routeMap.get(e.id)||{}),e))}}},GxxB:function(e,t,i){"use strict";t.a='<svg width="16" height="13" viewBox="0 0 16 13"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1v1H1.5C.67 2 0 2.67 0 3.5v8c0 .83.67 1.5 1.5 1.5h13c.83 0 1.5-.67 1.5-1.5v-8c0-.83-.67-1.5-1.5-1.5H11V1a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1Zm5 0H6v1h4V1Zm4.5 2c.28 0 .5.22.5.5v2c0 .83-.67 1.5-1.5 1.5H9v-.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V7H2.5A1.5 1.5 0 0 1 1 5.5v-2c0-.28.22-.5.5-.5h13ZM7 8H2.5c-.56 0-1.08-.19-1.5-.5v4c0 .28.22.5.5.5h13a.5.5 0 0 0 .5-.5v-4c-.42.31-.94.5-1.5.5H9v.5a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5V8Z"/></svg>'},HFNa:function(e,t,i){"use strict";var n,a,r,s,o,c;i.d(t,"e",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return b})),function(e){e.BroadcastNews_BreakingNews="BroadcastNews_BreakingNews",e.BroadcastNews_DailyBrief="BroadcastNews_DailyBrief",e.BroadcastNews_TopStories="BroadcastNews_TopStories",e.Community_SocialAchievements="Community_SocialAchievements",e.Community_SocialAlerts="Community_SocialAlerts",e.Community_SocialFollowers="Community_SocialFollowers",e.Community_SocialReactions="Community_SocialReactions",e.Community_SocialReplies="Community_SocialReplies",e.Elections_Deadline="Elections_Deadline",e.Elections_PrimaryResults="Elections_PrimaryResults",e.Elections_ScheduleChange="Elections_ScheduleChange",e.EsportsTeam_MatchUpcoming="EsportsTeam_MatchUpcoming",e.Finance_StockChangeAtMarketClose="Finance_StockChangeAtMarketClose",e.Finance_Watchlist="Finance_Watchlist",e.Flight_Info="Flight_Info",e.Flight_Info_TimerBased="Flight_Info_TimerBased",e.HotelReservation_PriceDrop="HotelReservation_PriceDrop",e.Lottery_DrawHappened="Lottery_DrawHappened",e.MsnNews_DailyBriefCoronavirus="MsnNews_DailyBriefCoronavirus",e.QuizType_NewQuizAvailable="QuizType_NewQuizAvailable",e.RealEstateCategory_ListingsUpdated="RealEstateCategory_ListingsUpdated",e.RealEstateEntity_Updated="RealEstateEntity_Updated",e.Rebates_CashOutAvailable="Rebates_CashOutAvailable",e.Rebates_PurchaseCancelled="Rebates_PurchaseCancelled",e.Rebates_PurchaseConfirmed="Rebates_PurchaseConfirmed",e.Rewards_ConfirmationOfDonation="Rewards_ConfirmationOfDonation",e.Rewards_ReminderToRedeem="Rewards_ReminderToRedeem",e.SapphireClient_Recall="SapphireClient_Recall",e.Shopping_DealOfTheDay="Shopping_DealOfTheDay",e.Shopping_DealOfTheDay_2="Shopping_DealOfTheDay_2",e.Shopping_PriceDrop="Shopping_PriceDrop",e.SportsTeam_GameEnded="SportsTeam_GameEnded",e.SportsTeam_SportsTopStories="SportsTeam_SportsTopStories"}(n||(n={})),function(e){e.AllNotifications="AllNotifications",e.AllCommunityNotifications="AllCommunityNotifications",e.AllFinanceNotifications="AllFinanceNotifications",e.AllShoppingNotifications="AllShoppingNotifications",e.AllNewsNotifications="AllNewsNotifications",e.AllSportsNotifications="AllSportsNotifications",e.Community_SocialAchievements="Community_SocialAchievements",e.Community_SocialAlerts="Community_SocialAlerts",e.Community_SocialFollowers="Community_SocialFollowers",e.Community_SocialReactions="Community_SocialReactions",e.Community_SocialReplies="Community_SocialReplies",e.News_BreakingNews="News_BreakingNews",e.News_DailyBrief="News_DailyBrief",e.News_TopStories="News_TopStories",e.Finance_StockChangeAtMarketClose="Finance_StockChangeAtMarketClose",e.Shopping_DealOfTheDay="Shopping_DealOfTheDay",e.SportsTeam_GameEnded="SportsTeam_GameEnded",e.SportsTeam_SportsTopStories="SportsTeam_SportsTopStories"}(a||(a={})),function(e){e.New="New",e.Seen="Seen"}(r||(r={})),function(e){e.AddInterest="AddInterest",e.BlockInference="BlockInference",e.DisableFeatureConsumption="DisableFeatureConsumption"}(s||(s={})),function(e){e.Follow="Follow",e.NotInterested="NotInterested",e.Disable="Disable",e.StopNotifying="StopNotifying"}(o||(o={})),function(e){e.Post="Post"}(c||(c={}));var d=i("D57K"),l=i("rvYQ"),u=i("dTwT"),h=i("I6Lx"),g=i("BQg2"),p=i("HxRh"),m=i("u5KZ"),f=i("5Uqz"),v=i("A90Q");class b{constructor(){this.notificationHost="https://www.bing.com",this.getNotificationSettingClientPath="pnp/api/v1/notifications/settings/read",this.updateNotificationSettingClientPath="profile/interestmanager/update",this.getNotificationCountClientPath="bnc/notifications/count",this.getNotificationListClientPath="bnc/notifications"}getNotificationHeaders(){const e={"X-PERSONALBING-CSRF":"1"},t=Object(l.b)().CurrentMarket;t&&(e["X-Search-UILang"]=t);const i=Object(u.a)().getItem(v.e);i&&(e["X-Search-RPSToken"]=i);const n=Object(f.b)();return n&&(e["X-Search-ClientID"]=n),h.b.CurrentFlights&&(e["X-PERSONALBING-FLIGHTS"]=h.b.CurrentFlights),e}getNotificationSetting(){return Object(d.a)(this,void 0,void 0,(function*(){const e={service:"Anaheim"},t=new g.a;for(const i in e)t.set(i,e[i]);const i=new URL(this.getNotificationSettingClientPath,this.notificationHost);let n;i.search=t.toString();try{const e=yield fetch(i.href,{credentials:"same-origin",headers:this.getNotificationHeaders()});if(!e.ok)throw Error(e.statusText);n=yield e.json()}catch(e){return void m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCDataFetchError),{message:"Error while fetching notifications",pb:{customMessage:"Error: "+e}}))}if(n)return n;m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCJsonParseError),{message:"Didn't get valid JSON from notifications response."}))}))}updateNotificationSetting(e){return Object(d.a)(this,void 0,void 0,(function*(){const t=new URL(this.updateNotificationSettingClientPath,this.notificationHost),i=[];let n,a={};try{if("string"==typeof e){a[JSON.parse(JSON.parse(e)[0].ParametersJson).FeatureName]=!1}else a=e}catch(e){return void m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCSettingUpdateError),{message:"Error while updating notification settings",pb:{customMessage:"Error: "+e}}))}for(const t in a)i.push({Partner:"Platform",Name:"SetIsConsumptionAllowedAllUp",ParametersJson:JSON.stringify({InterestConsumingService:"Anaheim",FeatureName:t,NewIsConsumptionAllowed:e[t]})});if(i.length){try{const e=yield fetch(t.href,{credentials:"same-origin",headers:this.getNotificationHeaders(),method:"POST",body:JSON.stringify(i)});if(!e.ok)throw Error(e.statusText);n=yield e.json()}catch(e){return void m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCSettingUpdateError),{message:"Error while updating notification settings",pb:{customMessage:"Error: "+e}}))}return n}}))}getNotificationCount(){return Object(d.a)(this,void 0,void 0,(function*(){const e=new g.a;e.set("app","anaheim");const{pagetype:t}=h.b.ClientSettings||{};t&&e.set("pageId",t);const i=new URL(this.getNotificationCountClientPath,this.notificationHost);let n;i.search=e.toString();try{const e=yield fetch(i.href,{credentials:"same-origin",headers:this.getNotificationHeaders()});if(!e.ok)throw Error(e.statusText);n=yield e.json()}catch(e){return void m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCDataFetchError),{message:"Error while fetching notification count",pb:{customMessage:"Error: "+e}}))}if(n)return n;m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCJsonParseError),{message:"Didn't get valid JSON from notification count response."}))}))}getNotificationList(){return Object(d.a)(this,void 0,void 0,(function*(){const e=new g.a;e.set("app","anaheim");const{pagetype:t}=h.b.ClientSettings||{};t&&e.set("pageId",t);const i=new URL(this.getNotificationListClientPath,this.notificationHost);let n;i.search=e.toString();try{const e=yield fetch(i.href,{credentials:"same-origin",headers:this.getNotificationHeaders()});if(!e.ok)throw Error(e.statusText);n=yield e.json()}catch(e){return void m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCSettingFetchError),{message:"Error while fetching notification settings",pb:{customMessage:"Error: "+e}}))}if(n)return n;m.a.sendAppErrorEvent(Object.assign(Object.assign({},p.Uf.WCJsonParseError),{message:"Didn't get valid JSON from notification settings response."}))}))}}},JOOR:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="#0078D4"},KETb:function(e,t,i){"use strict";i.d(t,"a",(function(){return P})),i.d(t,"b",(function(){return E}));var n=i("D57K"),a=i("XlyT"),r=i("IhCV"),s=i("z2Ro"),o=i("vq4Z"),c=i("VcDS");class d extends s.a{constructor(e,t,i,n){super(e,i,c.a.BeginActivity,r.a.newGuid(),new Date,t),this.LogLevel=o.a.Activity,this.Ended=!1,this.correlationVector=n}}var l=i("KSHU"),u=i("mRXR");class h extends s.a{constructor(e,t,i,n,a,s,d,l){super(e,l,c.a.BeginNetworkActivity,r.a.newGuid(),new Date,d),this.serviceName=t,this.LogLevel=o.a.Activity,this.Ended=!1,this.requestUri=i,this.requestHttpMethod=n,this.currentOperationName=a,this.correlationVector=s}}var g=i("9RHM");class p extends l.a{constructor(e,t){super(e),this.correlationVectorProvider=t}static getInstance(e,t){var i=e||"Default",n=p.InstancesMap[i];if(n)return n;var a=new u.a(i,o.a.Activity);return n=new p(a,t),p.InstancesMap[i]=n,n}isActivityEnabled(){return this.logger.isEnabledFor(o.a.Activity)}createActivity(e,t,i){if(this.isActivityEnabled()){let n,a;t&&(n=t.ActivityId,a=this.getVectorForNewActivity(t,!1));let r=new d(e,n,i,a);return this.logger.log(o.a.Activity,r),r}return t||null}createActivityCallback(e,t,i){return this.isActivityEnabled()?this.createActivity(e(),t,i):t||null}endActivity(e){if(this.isActivityEnabled()&&e&&!e.Ended){e.Ended=!0;const t=new Date,i=Object(g.a)(e);i.LogType=c.a.EndActivity,i.LogDateTime=t;const n=i.LogDateTime.getTime()-e.LogDateTime.getTime();i.Message=i.Message+" ElapsedTime (Milliseconds):"+n.toString(),i.elapsedTimeInMs=n,this.logger.log(o.a.Activity,i)}}createNetworkActivity(e,t,i,n,a,r,s,o){if(this.isActivityEnabled()){r||s||console.warn("'correlationVector' or 'parentActivity' is required to create network activity");let c=r||this.getVectorForNewActivity(s,!0),d=s?s.ActivityId:"";return new h(e,t,i,n,a,c,d,o)}return null}endSuccessfulNetworkActivity(e,t,i){this.endNetworkActivity(e,!0,t,i)}endFailedNetworkActivity(e,t,i,n){this.endNetworkActivity(e,!1,t,i,n)}endNetworkActivity(e,t,i,n,a){if(e&&!e.Ended){e.Ended=!0;let r=new Date,s=Object(g.a)(e);s.LogType=c.a.EndNetworkActivity,s.LogDateTime=r,s.elapsedTimeInMs=s.LogDateTime.getTime()-e.LogDateTime.getTime(),s.successful=t,s.responseSize=i,s.responseStatusCode=n,s.errorMessage=a,this.logger.log(o.a.Activity,s)}}getVectorForNewActivity(e,t){return e&&this.correlationVectorProvider?(e.latestChildCorrelationVector?e.latestChildCorrelationVector=this.correlationVectorProvider.incrementExternalVector(e.latestChildCorrelationVector):(e.latestChildCorrelationVector=this.correlationVectorProvider.extendExternalVector(e.correlationVector),t&&(e.latestChildCorrelationVector=this.correlationVectorProvider.incrementExternalVector(e.latestChildCorrelationVector))),e.latestChildCorrelationVector):""}}p.InstancesMap={};var m=i("/wq8");class f{constructor(e){if(this.loggingService=e,!e)throw"loggingService is required for LoggedExceptionManager."}error(e){throw this.loggingService.error(e),e}fatal(e){throw this.loggingService.fatal(e),e}}var v=i("HDSB");class b{constructor(e,t,i,n,a,r,s){if(!e)throw new Error("loggingService is required for ExponentialBackoffRetry.");const o=new f(e);this.logInvalidParams(o,t,i,n,a,s),this.loggingService=e,this.maxRetries=t||b.defaultMaxRetries,this.baseRetryDelayInMs=i||b.defaultBaseRetryDelayInMs,this.maxRetryDelayInMs=n||b.maxAllowedRetryDelayInMs,this.factor=a||b.defaultFactor,this.minOffsetInMs=r||b.defaultMinOffsetInMs,this.maxOffsetInMs=s||b.defaultMaxOffsetInMs,Object(v.a)()&&this.loggingService.infoCallback(()=>"ExponentialBackoffRetry has been configured.",null,{maxRetries:t,minTimeout:i,maxTimeout:n,factor:a})}executeRequest(e,t,i){return Object(n.a)(this,void 0,void 0,(function*(){return new Promise((a,r)=>Object(n.a)(this,void 0,void 0,(function*(){yield this.tryRequest(e,a,r,0,t,i)})))}))}logInvalidParams(e,t,i,n,a,r){t&&(t<1||t>b.maxAllowedRetries)&&e.fatal(`maxRetries should be at least 1 and less than ${b.maxAllowedRetries}.`),i&&i<b.defaultBaseRetryDelayInMs&&e.fatal("baseRetryDelay has to be a positive value greater than or equal to 100."),i&&r&&i<=r&&e.fatal("baseRetryDelay must not be smaller than the maximum delay offset."),n&&(n<=0||n>b.maxAllowedRetryDelayInMs)&&e.fatal(`maxRetryDelay has to be a positive value less than ${b.maxAllowedRetryDelayInMs}.`),a&&a<=0&&e.fatal("factor has to be a positive value.")}tryRequest(e,t,i,a,r,s){return Object(n.a)(this,void 0,void 0,(function*(){try{const i=1e4,n=yield this.timeoutServiceRequest(i,e());t(n)}catch(n){if(Object(v.a)()&&a<this.maxRetries){const o=3,c=parseFloat((Math.random()*(this.minOffsetInMs-this.maxOffsetInMs)+this.maxOffsetInMs).toFixed(o)),d=.5,l=Math.random()<d?-1:1,u=Math.min(this.baseRetryDelayInMs*Math.pow(this.factor,a),this.maxRetryDelayInMs)+c*l;this.loggingService.warnCallback(()=>`Retrying the request in ${u} milliseconds.`,s,{error:n,currentRetry:a+1,requestInfo:r}),setTimeout(()=>this.tryRequest(e,t,i,a+1,r,s),u)}else this.loggingService.errorCallback(()=>Object(v.a)()&&a<this.maxRetries?"ExponentialBackoffRetry has exceeded maximum retries "+this.maxRetries:"Request has failed.",s,{error:n,currentRetry:a,requestInfo:r}),i(n)}}))}timeoutServiceRequest(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return new Promise((i,a)=>Object(n.a)(this,void 0,void 0,(function*(){const n=setTimeout(()=>a(new Error("Service Request Timed out!")),e);try{const e=yield t;i(e),clearTimeout(n)}catch(e){a(e),clearTimeout(n)}})))}))}}b.defaultBaseRetryDelayInMs=100,b.defaultFactor=2,b.defaultMaxOffsetInMs=25,b.defaultMaxRetries=5,b.defaultMinOffsetInMs=1,b.maxAllowedRetries=10,b.maxAllowedRetryDelayInMs=2e3;var y,S=i("VOUN"),T=i("hqLi");class O extends s.a{constructor(e,t,i,n,a){super(e,i,c.a.Instrumentation,n,a),this._counterName=e,this.CounterValue=t}get CounterName(){return this._counterName}incrementValue(){if("number"!=typeof this.CounterValue)throw"ERROR: Counter value is never initialized, cannot perform increment action.";this.CounterValue++}}class w extends l.a{constructor(e){super(e)}static getInstance(e){const t=e||"Default";let i=w.InstancesMap[t];if(i)return i;let n=new u.a(t,o.a.Trace);return i=new w(n),w.InstancesMap[t]=i,i}static getDimensionedLogItems(e,t){let i=[],n=new O(e.CounterName,e.CounterValue,Object(g.a)(e.Data),e.ActivityId,e.LogDateTime);if(n.LogLevel=o.a.Trace,i.push(n),t&&!Object(T.a)(t))for(let n of Object.keys(t))for(let a of t[n]){let t=n.indexOf(":")>-1?`${e.CounterName}(${n.replace(":","-")}: ${a})`:`${e.CounterName}(${n}: ${a})`,r=new O(t,e.CounterValue,Object(g.a)(e.Data),e.ActivityId,e.LogDateTime);r.LogLevel=o.a.Trace,i.push(r)}return i}logPerfCounter(e,t,i,n){const a=new O(e,t,n);this.logPerfCounterItem(a,i)}logPerfCounterItem(e,t){const i=w.getDimensionedLogItems(e,t);for(let e of i)this.logger.log(o.a.Trace,e)}}w.InstancesMap={};class C extends s.a{constructor(e,t,i,n,a,r,s,c){super(e,s),this.pageName=e,this.LogLevel=o.a.Activity,this._userActivityType=t,this.correlationVector=i,this.trackingData=n,this.pageTitle=a,this.pageUri=r,this.eventData=c}get userActivityType(){return this._userActivityType}}!function(e){e[e.None=0]="None",e[e.PageAction=1]="PageAction",e[e.PageView=2]="PageView"}(y||(y={}));class I extends l.a{constructor(e){super(e)}static getInstance(e){var t=e||"Default",i=I.InstancesMap[t];if(i)return i;var n=new u.a(t,o.a.Activity);return i=new I(n),I.InstancesMap[t]=i,i}isActivityTrackingEnabled(){return this.logger.isEnabledFor(o.a.Activity)}logPageView(e,t,i,n,a,r){this.isActivityTrackingEnabled()&&this.logger.log(o.a.Activity,this.getUserActivityLogItem(e,t,i,a,r,n))}logPageActionEvent(e,t,i,n,a,r,s){if(this.isActivityTrackingEnabled()){if(!e)throw"''eventData' required for logging page action event.";e.elementTitle&&e.eventType&&e.elementTitle.trim()&&e.eventType.trim()&&this.logger.log(o.a.Activity,this.getUserActivityLogItem(t,i,n,r,s,a,e))}}getUserActivityLogItem(e,t,i,n,a,r,s){if(!e)throw"''pageName' is required for logging user activity.";return s?new C(e,y.PageAction,t,i,n,a,r,s):new C(e,y.PageView,t,i,n,a,r)}}I.InstancesMap={};class j{constructor(e,t,i,n){this.loggingServiceInstance=e||S.a.getInstance(),this.activityServiceInstance=t||p.getInstance(),this.userActivityServiceInstance=i||I.getInstance(),this.perfCounterServiceInstance=n||w.getInstance()}get loggingService(){return this.loggingServiceInstance}get activityLoggingService(){return this.activityServiceInstance}get userActivityTrackingService(){return this.userActivityServiceInstance}get perfCounterLoggingService(){return this.perfCounterServiceInstance}getLoggingServiceByName(e){return this.checkLoggerName(e),S.a.getInstance(e)}getActivityLoggingServiceByName(e){return this.checkLoggerName(e),p.getInstance(e)}getUserActivityTrackingServiceByName(e){return this.checkLoggerName(e),I.getInstance(e)}getPerfCounterLoggingServiceByName(e){return this.checkLoggerName(e),w.getInstance(e)}addActivityLoggingService(e){this.checkServiceInstance(e),p.getInstance(e.getLoggerName())}checkLoggerName(e){if(!e)throw"'loggerName' is required."}checkServiceInstance(e){if(!e)throw"'serviceInstance' is required."}}var A=i("msIb"),k=i("tMmC");let x,M;function P(e,t,i){return Object(n.a)(this,void 0,void 0,(function*(){let n,r;try{if(n=yield fetch(e,t),n&&n.ok)return n}catch(t){Object(a.c)(t,i,"Exception calling 1S primary Url: "+e)}return n&&n.headers&&n.headers.get("OneWebServiceLatency")?n:e.indexOf("assets.msn.com/service/")>0?(r=e.replace("assets.msn.com/service/","api.msn.com/"),yield fetch(r,t)):n}))}function E(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const i=L().activityLoggingService.createActivity(t);return yield A.a.serviceRequestOnComplete(()=>function(){if(M)return M;return M=new b(L().loggingService,3),M}().executeRequest(e,null,i),()=>L().activityLoggingService.endActivity(i))}))}function L(){if(x)return x;const e=p.getInstance("ExperienceActivityLogger");return Object(v.a)()&&k.a.isDebug()&&e.addAppender(new m.a(o.a.Activity)),x=new j(k.a.getLoggingService(),e),x}},LHdR:function(e,t,i){"use strict";var n=i("XhxR"),a=i("zI0X"),r=i("2pXY"),s=i("aPP9"),o=i("FROA"),c=i("d9YH"),d=i("U64u"),l=o.a&&1/Object(d.a)(new o.a([,-0]))[1]==1/0?function(e){return new o.a(e)}:c.a;t.a=function(e,t,i){var o=-1,c=a.a,u=e.length,h=!0,g=[],p=g;if(i)h=!1,c=r.a;else if(u>=200){var m=t?null:l(e);if(m)return Object(d.a)(m);h=!1,c=s.a,p=new n.a}else p=t?[]:g;e:for(;++o<u;){var f=e[o],v=t?t(f):f;if(f=i||0!==f?f:0,h&&v==v){for(var b=p.length;b--;)if(p[b]===v)continue e;t&&p.push(v),g.push(f)}else c(p,v,i)||(p!==g&&p.push(v),g.push(f))}return g}},LJMo:function(e,t,i){"use strict";var n;function a(e){switch(e){case"ArticlePreview":return 13;case"SlideshowPreview":return 14;case"VideoPreview":return 15;default:return null}}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a})),function(e){e.Article="article",e.Slideshow="slideshow",e.Video="video",e.Spotlight="content360",e.Infopane="infopane",e.TabbedInfopane="tabbedInfopane",e.HalfPane="HalfPane",e.HeadToHead="HeadToHead",e.Mosaic="Mosaic",e.Triptych="Triptych",e.TabbedInfopaneTab="tabbedInfopaneTab",e.WebContent="webcontent",e.ExternalLink="link",e.DenseList="DenseList",e.BackFillContent="BackfillContent",e.MyBriefRiverCard="toppicks",e.NativeAd="nativead",e.CmsAd="cmsad",e.ShoppingCard="ShoppingCard",e.ShoppingCarousel="ShoppingCarousel",e.ComicsCarousel="ComicsCarousel",e.EditorsPickCarousel="EditorsPickCarousel",e.SelectCarousel="SelectCarousel",e.DailyFixGamesCarousel="DailyFixGamesCarousel",e.NewsSegmentCarousel="NewsSegmentCarousel",e.SubscriptionCarousel="SubscriptionCarousel",e.TopStories="topStories",e.WorkHeadlines="workNews",e.Trending="trendingnow",e.LocalNews="XfeedUpsell",e.LocalNewsFeed="LocalNewsFeed",e.TrendingInTenMinutes="trendingInTenMinutes",e.Horoscope="Horoscope",e.Elections="GenericElection",e.RecommendedSearchCarousel="RecommendedSearch",e.OnThisDay="OnThisDay",e.Lottery="Lottery",e.PartnerUpsell="PartnerUpsell",e.Qna="qnacard",e.Recipes="recipecard",e.TravelDestinationCard="TravelDestinationCard",e.TravelDestinationCarouselCard="TravelDestinationCarouselCard",e.TravelInspirationCard="TravelInspirationCard",e.BingHealthCovid19StatsCard="Covid19Stats",e.PlaceholderCard="placeholder",e.BingVideo="BingVideo",e.BingVideoCarousel="BingVideoCarousel",e.EsportsHighlight="esportsHighlight",e.EsportsLiveStream="esportsLiveStream",e.EsportsMatch="esportsMatch",e.EsportsTournament="esportsTournament",e.WeatherSummary="WeatherSummary",e.WeatherSummary_spotlight="WeatherSummary_spotlight",e.StockQuote="StockQuote",e.StockQuote_spotlight="StockQuote_spotlight",e.MoneyInfo="MoneyInfo",e.SportsMatch="SportsMatch",e.SportsOlympics="SportsOlympics",e.TrafficDelays="TrafficDelays",e.ShoppingMerchantCategoryDeals="ShoppingMerchantCategoryDeals",e.Group="group",e.Upsell="FreUpsell",e.Dense="densetab",e.LocalGuide="LocalDay",e.IndustryNewsCard="IndustryNewsCard",e.RecommendedCardFeed="RecommendedCardFeed",e.RecommendedInterests="RecommendedInterests",e.AutosEntityList="AutosEntityList",e.ContainerizedHalfu="containerizedHalfu",e.TopicFeed="TopicFeed"}(n||(n={}))},MMvm:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("D57K"),a=i("ax+D"),r=i("rvYQ"),s=i("y+Kz"),o=i("6ADy"),c=i("msIb"),d=i("KETb"),l=i("fuIx"),u=i("CzGr"),h=i("e8jz"),g=i("Zsg4"),p=i("HxRh"),m=i("tERu"),f=i("/+Un"),v=i("NkTa");class b{constructor(e,t){this.fetchImpl=e,this.handleAppErrorEventCall=t,this.endPoint="msn/suggestions",this.servicdeOcid="feeds"}getSuggestedInterests(e,t,i){return Object(n.a)(this,void 0,void 0,(function*(){if(a.a.isNullOrWhiteSpace(e))return[];const n=e.trim(),r=yield this.getRequestInit(),s=[...yield this.getCommonParams(this.servicdeOcid),{key:"qscope",value:"news"},{key:"q",value:n},{key:"Type",value:i||"provider,bingtopic,category"},{key:"$top",value:String(t)}],c=Object(o.c)(this.endPoint);s.forEach(e=>e.value&&c.searchParams.set(e.key,e.value));const d=yield this.sendRequest(decodeURIComponent(c.href),r);if(!d)return null;let l=null;try{l=d.value[0].groups[0].suggestionItems}catch(e){this.handleAppErrorEventCall(p.ff.ErrorResponseFromOneServiceIsInvalid)}return Object(v.a)(l,"id")}))}getRequestInit(e=null){return Object(n.a)(this,void 0,void 0,(function*(){return null==e&&(e={method:"GET"}),(yield Object(f.d)())===m.c.SignedIn&&(e.credentials="include"),e.headers=Object(l.b)()?yield Object(u.a)():yield c.a.getOneServiceHeaders(),e}))}getCommonParams(e){return Object(n.a)(this,void 0,void 0,(function*(){if(Object(l.b)())return this.getSapphireQueryParams();return(yield Object(f.d)())===m.c.SignedIn?c.a.getOneServiceParamsWithAuth(r.a.UserId,e):c.a.getOneServiceParamsWithoutAuth(r.a.UserId,e)}))}getSapphireQueryParams(){const e=c.a.getOneServiceNonDynamicParamsWithoutAuth(this.servicdeOcid),t=Object(h.b)();return t&&(e.push({key:s.s.market,value:t.market}),e.push({key:s.s.fdhead,value:t.features}),e.push({key:s.s.activityId,value:t.activityId}),t.latitude&&t.longitude&&e.push({key:s.s.location,value:`${t.latitude}|${t.longitude}`})),e}sendRequest(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return Object(l.b)()?yield this.sapphireRequest(decodeURIComponent(e),t):yield this.networkRequest(decodeURIComponent(e),t)}))}sapphireRequest(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const i={url:e,headers:t.headers,body:t.body,refresh:!0},n=yield Object(g.c)(i);return JSON.parse(n||"{}")}))}networkRequest(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return yield Object(d.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const i=yield this.fetchImpl(e,t);return i.ok?i.json():(this.handleAppErrorEventCall(p.ff.ErrorResponseFromOneService),null)})),"getSuggestedInterests")}))}}},MP7k:function(e,t,i){"use strict";t.a='<svg viewBox="0 0 16 16" width="16" height="16"><path d="M3 5v1H2V5h1Zm0 2v1H2V7h1Zm-1 3V9h1v1H2Zm12-5v1h-1V5h1Zm-1 3V7h1v1h-1Zm-3 7.96V9.04l6 3.46-6 3.46Zm1-5.2v3.47l3-1.73-3-1.73ZM0 2h16v9.05l-1-.57V3h-1v1h-1V3H3v1H2V3H1v9h1v-1h1v1h6v1H0V2Z"/></svg>'},NkR4:function(e,t,i){"use strict";t.a=function(e){return function(t){return null==e?void 0:e[t]}}},NkTa:function(e,t,i){"use strict";var n=i("wh7w"),a=i("LHdR");t.a=function(e,t){return e&&e.length?Object(a.a)(e,Object(n.a)(t,2)):[]}},OTRt:function(e,t,i){"use strict";var n,a;i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return a})),function(e){e.CardView="cardview",e.FlatView="flatview"}(n||(n={})),function(e){e.t3="T3",e.t6="T6"}(a||(a={}))},OkDC:function(e,t,i){"use strict";var n;i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"b",(function(){return o})),function(e){e.Publisher="Publisher",e.Article="Article",e.Topic="Topic"}(n||(n={}));const a={Publisher:{actionType:"More",targetType:"SourceProvider"},Article:{actionType:"Like"},Topic:{actionType:"Follow"}};var r,s;!function(e){e.Get="GET",e.Post="POST",e.Delete="DELETE"}(r||(r={})),function(e){e.Providers="Providers",e.ArticlesMulti="ArticlesMulti",e.Confirmation="Confirmation",e.Topics="Topics",e.Upsell="Upsell"}(s||(s={}));const o=-1},OlwA:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("A8DD"),a=i("BQg2"),r=i("HDSB");const s=Object(r.a)()?function(e,t){if(!Object(r.a)())return-1;const i=e?new a.a(e.search):null,n=i?i.get("suiv"):null;if(n){const e=parseInt(n);if(!isNaN(e))return e}const s=t&&t.userAgent;if(s){const e=s.match(/serviceui[/\s]*(\d+)*\.?\d*/i);if(e&&e.length){const t=parseInt(e[1],10)||1;if(!isNaN(t))return t}}return-1}(window.location,window.navigator):-1;new class{constructor(e){this.serviceUiVersion=e;const t=this.serviceUiVersion;this.serviceUiAvailable=this.serviceUiVersion>0;const i=t>=5;this.persistentStorage=i,this.canQueryFavIcons=i,this.canQueryAdId=i;const n=t>=8;this.topSiteStorage=n;const a=t>=10;this.canHideOrShowSearchHistory=a;const r=t>=11;this.canGetAuthToken=r;const s=t>=14;this.canUseNewAuth=s,this.canUseWindowsPerfMarker=t>=9}}(s);var o=i("D57K"),c=i("/Hwq"),d=i("B9v6"),l=i("tMmC"),u=i("xYH4");Object(r.a)()&&new class{constructor(e){this.window=e,this.waitingCalls=[],this.registeredEvents=[],this.serviceUIFrameContext=e.ServiceUIFrameContext,this.window.addEventListener("erroravailable",this.onErrorAvailable.bind(this))}setDiagnostics(e,t){this._appErrorTracker=e,this._appError=t,this.perfTimeline=Object(c.c)("ServiceUI","ServiceUI")}getObjectAsync(e){return Object(o.a)(this,void 0,void 0,(function*(){let t;try{if(!e||!e.cacheKey&&!e.resultAvailableInEvent)throw new Error("cacheKey property is required.");if(!e.eventName&&!e.checkCacheBeforeMessage)throw new Error("eventName property is required when not checking cache.");if(e.enforceSerialCalls&&!e.messageName)throw new Error("messageName property is required when enforceSerialCalls is enabled.");const i=this.getCachedResult(e);if(i)return i;e.messageName&&this.perfTimeline&&(t=Object(d.b)("SUI-"+e.messageName,{logDuration:!0,perfTimeline:this.perfTimeline}));const n=this.createCallInformation(e);return yield Promise.race([this.startCancellationTimerForRequest(n),this.processCallForGetObjectAsync(n)])}finally{t&&t()}}))}sendMessage(e){if(!this.serviceUIFrameContext)return void l.a.logError(`serviceUICommDirect: unable to send ${e&&e.messageName} message because there is no serviceUI context defined`);l.a.log("serviceUICommDirect: sending message: "+JSON.stringify(e));let t=null;e.userArguments&&(t=JSON.stringify(e.userArguments)),this.serviceUIFrameContext.postFrameMessage(e.messageName,t)}invokeMethodAsync(e){return Object(o.a)(this,void 0,void 0,(function*(){let t;try{const i=e.methodName;if(!i)throw new Error("methodName property is required when calling invokeMethodAsync.");if(e.messageName)throw new Error("messageName property should not be present in requestArguments when calling invokeMethodAsync.");if(this.perfTimeline&&(t=Object(d.b)("SUI-"+i,{logDuration:!0,perfTimeline:this.perfTimeline})),e.enforceSerialCalls)throw new Error("Serial execution is not supported.");const n=this.serviceUIFrameContext[i];if(!n)throw new Error("serviceUICommDirect: method not supported : "+i);if(e.eventName){const t=this.createCallInformation(e);return yield Promise.race([this.startCancellationTimerForRequest(t),this.processCallForInvokeMethodAsync(t,n)])}return yield n(...e.userArguments)}finally{t&&t()}}))}getCachedResult(e){const{checkCacheBeforeMessage:t,messageName:i}=e;if(t||!i||(this.window._startedServiceUIMessages||{})[i]){const t=this.getResultFromCache(e);if(t)return t;if(!e.eventName)throw new Error("Item was not found in the frame message cache.")}}startCancellationTimerForRequest(e){return Object(o.a)(this,void 0,void 0,(function*(){return yield new Promise((t,i)=>{const n=e.timeoutMs<=0?0:e.timeoutMs||5e3;e.timeoutId=n&&this.window.setTimeout(()=>{const t=this.waitingCalls.indexOf(e);t>=0&&this.waitingCalls.splice(t,1);const n="Timed out waiting for event "+e.eventName;i(new Error(n)),this.recordAppErrorEvent(n),e.isSerial&&this.sendNextSerialMessage(e.requestKey)},n)})}))}createCallInformation(e){let t;return t={timeoutId:null,eventName:e.eventName,messageName:e.messageName,requestKey:e.methodName||e.messageName,userArguments:e.userArguments,isSerial:e.enforceSerialCalls,timeoutMs:e.timeoutMs,resolve:null,reject:null,successCallback:i=>{this.window.clearTimeout(t.timeoutId);const n=e.resultAvailableInEvent?this.getResultFromEvent(e,i):this.getResultFromCache(e);n?t.resolve(n):t.reject(new Error("Result was not found in the "+(e.resultAvailableInEvent?"message cache":"callback event.")))},errorCallback:e=>{this.window.clearTimeout(t.timeoutId),t.reject(e)}}}processCallForGetObjectAsync(e){return Object(o.a)(this,void 0,void 0,(function*(){return yield new Promise((t,i)=>{e.resolve=t,e.reject=i;const n=!this.findFirstCallWithRequestKey(e.requestKey);this.waitingCalls.push(e),this.registerEvent(e),this.postMessage(e,n)})}))}processCallForInvokeMethodAsync(e,t){return Object(o.a)(this,void 0,void 0,(function*(){return yield new Promise((i,n)=>{e.resolve=i,e.reject=n,this.waitingCalls.push(e),this.registerEvent(e),t(...e.userArguments)})}))}registerEvent(e){this.registeredEvents.indexOf(e.eventName)<0&&(e.isSerial?this.addSerialServiceUIEventListener(e.eventName,e.requestKey):this.addConcurrentServiceUIEventListener(e.eventName),this.registeredEvents.push(e.eventName))}postMessage(e,t){e.messageName&&(e.isSerial?t&&this.sendNextSerialMessage(e.requestKey):this.sendMessage(e))}getCachedFrameMessageObject(e){const t=this.serviceUIFrameContext.getCachedFrameMessage(e);return Object(u.b)(t)}addConcurrentServiceUIEventListener(e){this.window.addEventListener(e,t=>{for(let i=this.waitingCalls.length-1;i>=0;i--){const n=this.waitingCalls[i];n.eventName===e&&(n.successCallback(t),this.waitingCalls.splice(i,1))}})}addSerialServiceUIEventListener(e,t){this.window.addEventListener(e,e=>{const i=this.findFirstCallWithRequestKey(t,!0);i&&(i.successCallback(e),this.sendNextSerialMessage(t))})}sendNextSerialMessage(e){const t=this.findFirstCallWithRequestKey(e);t&&this.sendMessage(t)}findFirstCallWithRequestKey(e,t=!1){for(let i=0;i<this.waitingCalls.length;i++){const n=this.waitingCalls[i];if(n.requestKey===e)return t&&this.waitingCalls.splice(i,1),n}return null}getResultFromCache(e){const t=this.getCachedFrameMessageObject(e.cacheKey);return t||null}getResultFromEvent(e,t){const i=t&&Object(u.b)(t.data);return i||null}onErrorAvailable(){const e=this.serviceUIFrameContext.getCachedFrameMessage("error"),t=Object(u.b)(e);if(t){this.recordAppErrorEvent(e);for(let e=this.waitingCalls.length-1;e>=0;e--){let i=this.waitingCalls[e];if(i.messageName===t.message&&(i.isSerial?(i=this.findFirstCallWithRequestKey(i.requestKey,!0),this.sendNextSerialMessage(i.requestKey)):this.waitingCalls.splice(e,1),i.errorCallback(t.errorMessage),i.isSerial))break}}else this.recordAppErrorEvent(e,"Could not parse error message as JSON.")}recordAppErrorEvent(e,t){return Object(o.a)(this,void 0,void 0,(function*(){null!=this._appErrorTracker&&(yield this._appErrorTracker.trackError(Object.assign({},this._appError)))}))}}(window);var h=i("I6Lx"),g=i("/+Un");let p=!h.b.IsPreload;function m(){return Object(g.e)()}Object(n.a)().then(e=>{p=e.pageRevealed})},PJ2e:function(e,t,i){"use strict";t.a='<svg viewBox="0 0 16 16" width="16" height="16"><path d="m13.38 3.87.06.1.04.08 2.06 4.53c.14.3.21.63.21.97v.57c0 .2-.03.37-.09.55a1.84 1.84 0 0 1-1.06 1.18 1.95 1.95 0 0 1-.69.84 1.93 1.93 0 0 1-2 .05c-.3-.19-.53-.43-.7-.74H5.54a1.87 1.87 0 0 1-3.31 0H.87a.86.86 0 0 1-.61-.26.86.86 0 0 1-.26-.62v-2A2.78 2.78 0 0 1 .84 7.1a2.92 2.92 0 0 1 2.04-.84h.34l2.6-2.6c.27-.26.6-.4.97-.4H14l-.62.62ZM9.75 4v2.25h3.9l-.85-1.88a.58.58 0 0 0-.24-.27.58.58 0 0 0-.33-.1H9.75ZM6.79 4a.69.69 0 0 0-.24.05.6.6 0 0 0-.2.13L4.27 6.25H9V4H6.79Zm-2.92 8.25c.16 0 .3-.03.44-.09s.26-.14.35-.24c.1-.1.19-.22.25-.36.06-.13.09-.28.09-.44 0-.15-.03-.3-.1-.43a1.04 1.04 0 0 0-.24-.35c-.1-.1-.21-.19-.35-.25-.13-.06-.28-.09-.43-.09-.16 0-.3.03-.44.1a1.12 1.12 0 0 0 .44 2.15Zm0-3a1.81 1.81 0 0 1 1.33.55 1.83 1.83 0 0 1 .55 1.32v.13H9V7H2.87A2.12 2.12 0 0 0 .75 9.13v2c.01.08.05.12.14.12H2L2 11.19v-.06a1.89 1.89 0 0 1 1.88-1.88Zm9 3c.16 0 .3-.03.44-.09s.26-.14.35-.24c.1-.1.19-.22.25-.36.06-.13.09-.28.09-.44 0-.15-.03-.3-.1-.43a1.04 1.04 0 0 0-.24-.35c-.1-.1-.21-.19-.35-.25-.13-.06-.28-.09-.44-.09-.15 0-.3.03-.43.1a1.12 1.12 0 0 0 .44 2.15ZM15 9.55c0-.12-.01-.23-.04-.34l-.1-.33L14 7H9.75v4.25h1.26l-.01-.06v-.06a1.89 1.89 0 0 1 1.88-1.88c.23 0 .45.04.66.13a1.8 1.8 0 0 1 .98.84c.11.2.18.41.21.64.1-.12.16-.23.2-.34.05-.12.07-.25.07-.4v-.57Z"/></svg>'},Qo3E:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("u5KZ"),a=i("XlyT"),r=i("HxRh");class s{static renderToast(e){this.renderToastCallback?this.renderToastCallback(e):n.a.sendAppErrorEvent(Object(a.a)(r.Qi,"Undefined toast render callback function"))}static setRenderToastCallback(e){this.renderToastCallback=e}static expireToast(e){this.expireToastCallback?this.expireToastCallback(e):n.a.sendAppErrorEvent(Object(a.a)(r.Pi,"Undefined toast expire callback function"))}static setExpireToastCallback(e){this.expireToastCallback=e}static setCurrentToast(e,t){this.currentToastId!==e&&(this.currentToastId=e,this.renderToastCallback=t,this.currentToastIdChangeCallbacks.forEach(t=>t(e)),this.renderToast())}static addCurrentToastIdChangeCallback(e){e&&this.currentToastIdChangeCallbacks.push(e)}}s.currentToastIdChangeCallbacks=[]},RIQ7:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return d}));var n=i("Am8i"),a=i("u5KZ"),r=i("y+Kz");function s(e,t){if(e){const i={type:n.e.Module,name:t,content:{}};return e.addOrUpdateChild(i)}return null}function o(){if(!a.a)return;const e=a.a.getPageMetadata();return e&&e.contract&&e.contract.page?e.contract.page.ocid:void 0}function c(e){const t=o(),i=e.toLowerCase();if(!t||-1!=i.indexOf("?ocid=")||-1!=i.indexOf("&ocid="))return e;const n=-1==e.indexOf("?")?"?":"&";return`${e}${n}ocid=${encodeURIComponent(t)}`}function d(e){if(!e)return null;const t=Object.assign({},e);return t[r.r.entAuthorization]&&(t[r.r.entAuthorization]="*****"),t[r.r.rpsToken]&&(t[r.r.rpsToken]="*****"),t}},RX41:function(e,t,i){"use strict";i.d(t,"b",(function(){return oi})),i.d(t,"a",(function(){return ci}));var n,a=i("D57K"),r=i("h3hC"),s=i("7qs3"),o=i("S8sE"),c=i("3KaK");!function(e){e.c1="c1",e.c2="c2",e.c3="c3",e.c4="c4",e.c5="c5"}(n||(n={}));var d=i("mJTN"),l=i("k3mM"),u=i("rvYQ"),h=i("zfSW"),g=i("SHdd"),p=i("5Uqz");let m=parseInt(Object(p.a)("cbypass"))||0;async function f(){m=Date.now(),Object(p.c)("cbypass",m.toString(),10/1440,u.a.HostPage.topDomain,"/"),await l.b.purgeCacheAsync(l.a.river),Object(h.d)({id:g.a.UpdateMyFeed,payload:m})}var v=i("Hrev"),b=i("tERu"),y=i("lEej"),S=i("J/Ia"),T=i("rOCc"),O=i("T4lJ");let w;class C{constructor(e={}){this.options=e,this.defaultColumSize=300,this.update=()=>{const e=this.identifyBreakpoint(window.innerWidth);this.breakpoint.column!==e.column&&(this.breakpoint=e,d.b.set(d.a.ColumnArrangement,e.column)),this.openRequestAnimationFrame=!1},this.requestFrame=()=>{this.openRequestAnimationFrame||(this.openRequestAnimationFrame=!0,window.requestAnimationFrame(this.update))},this.options.gutterSize=this.options.gutterSize||12,this.options.breakpointOverrides=this.options.breakpointOverrides||new Map,this.options.enableFiveColumnLayout=this.options.enableFiveColumnLayout||!1,this.setBreakpoints(),this.breakpoint=this.identifyBreakpoint(window.innerWidth),d.b.set(d.a.ColumnArrangement,this.breakpoint.column),window.addEventListener("resize",this.requestFrame)}get currentColumnArrangement(){return this.breakpoint.column}setBreakpoints(){this.breakpoints=[this.getBreakpoint(n.c1),this.getBreakpoint(n.c2,2),this.getBreakpoint(n.c3,3),this.getBreakpoint(n.c4,4)],this.options.enableFiveColumnLayout&&this.breakpoints.push(this.getBreakpoint(n.c5,5))}getBreakpoint(e,t){return{column:e,width:this.options.breakpointOverrides.get(e)||this.calculateBreakpointWidth(t)}}calculateBreakpointWidth(e){return!e||e<=0?0:this.defaultColumSize*e+this.options.gutterSize*(e-1)+32}identifyBreakpoint(e){for(let t=this.breakpoints.length-1;t>-1;t--){const i=this.breakpoints[t];if(e>=i.width)return i}}}let I=!1;function j(){if(I)return;const e=function(){const e=u.a.AuthCookieName;if(e===v.b.Unknown)return b.c.NotSignedIn;const t=e===v.b.AppAnon?v.a.AppAnonCookieExists:v.a.AnonCookieExists;return Object(p.a)(t)?b.c.SignedIn:b.c.NotSignedIn}(),t=Object(O.c)();var i;d.b.set(d.a.IsSignedIn,e),d.b.set(d.a.CookieConsentStatus,t?y.a.Required:y.a.NotRequired),t&&window.addEventListener(S.a,A),Object(O.d)()&&A(),w||(w=new C(i)),I=!0}function A(){const e=window.OnetrustActiveGroups;let t=[];e&&(t=e.trim().split(",").filter(e=>e&&e.trim()&&e in T.a).map(e=>T.a[e])||[]),t.length||t.push(T.a.C0001),d.b.set(d.a.OnetrustActiveCookieGroups,t)}var k=i("hSGL"),x=i("u8F0"),M=i("+DBQ"),P=i("Zn5T"),E=i("s9+9"),L=i("Aiug"),D=i("Am8i"),R=i("Gsg7"),F=i("kpPY");const H="contentLinkButton",U="cinterests",N="followedinterests",B="discoverinterests",$="recommendedtopics",V="Saved Stories",q="Read Stories",Z="Content Card",z="destination",_="Save",W="Undo save",G="Card Action Ellipses",J="Followed Publishers Management",K="Publisher Management",Q="Information Cards",Y="Feed Settings",X="Productivity Settings",ee="Interests Nav",te="Publisher Confirmation",ie="Unhide",ne="Unmute",ae="Cancel",re="Close",se="TuneYourFeed",oe="moreoptions",ce="restoredefaultinterests",de="Hamburger",le="Dismiss",ue="Language and content settings",he="InterestsSearchBox",ge="Topic_{0}",pe="Publisher_{0}",me="Notification";class fe{constructor(e){this.rootTelemetryObject=e,this.moreOptionsTelemetryTag=e=>{var t;return null===(t=this.followedInterestsSectionTelemetryObject)||void 0===t?void 0:t.addOrUpdateChild({name:oe,behavior:D.b.More,content:{headline:e},destinationUrl:""}).getMetadataTag()},this.moreOptionsRestoreDefaultTelemetryTag=e=>{var t;return null===(t=this.followedInterestsSectionTelemetryObject)||void 0===t?void 0:t.addOrUpdateChild({name:ce,behavior:D.b.Rearrange,content:{headline:e},destinationUrl:""}).getMetadataTag()},this.settingCardTelemetryTag=(e,t)=>null==e?void 0:e.addOrUpdateChild({name:t,content:{headline:t},destinationUrl:location.href,type:D.e.Interaction}).getMetadataTag(),this.topicsSectionTelemetryObject=e=>{var t;return null===(t=this.interestsTelemetryObject)||void 0===t?void 0:t.addOrUpdateChild({name:e})},this.topicsSectionTelemetryTag=e=>{var t;return null===(t=this.interestsTelemetryObject)||void 0===t?void 0:t.addOrUpdateChild({name:e}).getMetadataTag()},this.publisherActionButtonTelemetryTag=(e,t)=>{var i;return null===(i=this.hiddenPublishersSectionTelemetryObject)||void 0===i?void 0:i.addOrUpdateChild({name:ie,type:D.e.Interaction,behavior:D.b.Show,content:{headline:e,id:t}}).getMetadataTag()},this.notificationTopicTelemetryTag=e=>{var t;if(!e)return"";const i=e.type?"GeneralSettings":e.name+"Notification";return null===(t=this.notificationSectionTelemetryObject)||void 0===t?void 0:t.addOrUpdateChild({name:i,content:{headline:i}}).getMetadataTag()},this.notificationSwitchClickTelemetryTag=(e,t)=>{var i;return null===(i=this.notificationSectionTelemetryObject)||void 0===i?void 0:i.addOrUpdateChild({name:e,type:D.e.Interaction,behavior:t?D.b.TurnOn:D.b.TurnOff,content:{headline:e}}).getMetadataTag()},e&&(this.interestsTelemetryObject=this.rootTelemetryObject,this.interestsSearchBoxTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:he}),this.recommendedInterestsTopicsSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:$}),this.followedInterestsSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:N}),this.followedPublishersSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:K}),this.hiddenPublishersSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:K}),this.savedStoriesSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:V}),this.readStoriesSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:q}),this.informationCardSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:Q}),this.feedSettingsSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:Y}),this.productivitySettingsSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:X}),this.notificationSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:me}),this.marketSettingsSectionTelemetryObject=this.interestsTelemetryObject.addOrUpdateChild({name:ue}),this.interestsTelemetryTag=this.interestsTelemetryObject.getMetadataTag(),this.interestsSearchBoxTelemetryTag=this.interestsSearchBoxTelemetryObject.getMetadataTag(),this.recommendedInterestsTopicsSectionTelemetryTag=this.recommendedInterestsTopicsSectionTelemetryObject.getMetadataTag(),this.followedInterestsSectionTelemetryTag=this.followedInterestsSectionTelemetryObject.getMetadataTag(),this.followedPublishersSectionTelemetryTag=this.followedPublishersSectionTelemetryObject.getMetadataTag(),this.hiddenPublishersSectionTelemetryTag=this.hiddenPublishersSectionTelemetryObject.getMetadataTag(),this.savedStoriesSectionTelemetryTag=this.savedStoriesSectionTelemetryObject.getMetadataTag(),this.readStoriesSectionTelemetryTag=this.readStoriesSectionTelemetryObject.getMetadataTag(),this.informationCardSectionTelemetryTag=this.informationCardSectionTelemetryObject.getMetadataTag(),this.feedSettingsSectionTelemetryTag=this.feedSettingsSectionTelemetryObject.getMetadataTag(),this.productivitySettingsSectionTelemetryTag=this.productivitySettingsSectionTelemetryObject.getMetadataTag(),this.notificationSectionTelemetryTag=this.notificationSectionTelemetryObject.getMetadataTag(),this.marketSettingsSectionTelemetryTag=this.marketSettingsSectionTelemetryObject.getMetadataTag())}}class ve{constructor(e,t,i,n,a,r){if(this.rootTelemetryObject=e,!e)return;const s={brand:a,category:n,headline:i,id:t,vertical:n},o=e.addOrUpdateChild({name:Z,behavior:D.b.Navigate,content:s});this.contentCardTelemetryTag=o.getMetadataTag(),this.destinationTelemetryTag=o.addOrUpdateChild({name:z,behavior:D.b.Navigate,content:s,destinationUrl:r}).getMetadataTag(),this.moreButtonTelemetryObject=o.addOrUpdateChild({name:G,behavior:D.b.More,type:D.e.ActionButton,content:s}),this.moreButtonTelemetryTag=this.moreButtonTelemetryObject.getMetadataTag(),this.saveButtonTelemetryTag=o.addOrUpdateChild({name:_,behavior:D.b.Save,content:s}).getMetadataTag(),this.undoSaveButtonTelemetryTag=o.addOrUpdateChild({name:W,behavior:D.b.UndoSave,content:s}).getMetadataTag()}}class be{constructor(e,t,i,n,a,r,s){if(this.rootTelemetryObject=e,!e)return;const o=Object(F.a)(s===D.c.Publisher?pe:ge,i);this.followButtonTelemetryTag=e.addOrUpdateChild({name:o,behavior:D.b.Unfollow,type:D.e.ActionButton,content:{headline:n?Object(F.a)(n,i):"",type:s,id:t},destinationUrl:"",feed:{id:t}}).getMetadataTag(),this.unfollowButtonTelemetryTag=e.addOrUpdateChild({name:o,behavior:D.b.Follow,type:D.e.ActionButton,content:{headline:a?Object(F.a)(a,i):"",type:s,id:t},destinationUrl:"",feed:{id:t}}).getMetadataTag(),this.contentLinkButtonTelemetryTag=e.addOrUpdateChild({name:H,behavior:D.b.Navigate,type:D.e.ActionButton,content:{headline:r?Object(F.a)(r,i):"",type:s,id:t},destinationUrl:"",feed:{id:t}}).getMetadataTag()}}class ye{constructor(e,t,i,n){this.dialogTelemetryObject=this.getChildTelemetryItem(t,e,{name:te,content:{headline:""}}),this.dialogTelemetryTag=this.dialogTelemetryObject.getMetadataTag(),this.actionButtonTelemetryObject=this.getChildTelemetryItem(t,this.dialogTelemetryObject,{name:ne,behavior:D.b.Unmute,content:{headline:i},destinationUrl:""}),this.actionButtonTelemetryTag=this.actionButtonTelemetryObject.getMetadataTag(),this.cancelButtonTelemetryObject=this.getChildTelemetryItem(t,this.dialogTelemetryObject,{name:ae,behavior:D.b.MuteCancel,content:{headline:n},destinationUrl:""}),this.cancelButtonTelemetryTag=this.cancelButtonTelemetryObject.getMetadataTag(),this.closeButtonTelemetryObject=this.getChildTelemetryItem(t,this.dialogTelemetryObject,{name:re,behavior:D.b.Close,content:{headline:""},destinationUrl:""}),this.closeButtonTelemetryTag=this.closeButtonTelemetryObject.getMetadataTag()}getChildTelemetryItem(e,t,i){if(!t)return null;const n=`${t.contract.name}-${i.name}`,a=e[n]||t.addOrUpdateChild(i);return e[n]=a,a}}class Se{constructor(e,t,i,n,a,r){this.followButtonTelemetryTag=new R.a({name:t,behavior:D.b.Unfollow,type:D.e.ActionButton,content:{headline:Object(F.a)(i,a),type:r,id:e}}).getMetadataTag(),this.unfollowButtonTelemetryTag=new R.a({name:t,behavior:D.b.Follow,type:D.e.ActionButton,content:{headline:Object(F.a)(n,a),type:r,id:e}}).getMetadataTag()}}var Te=i("+djJ"),Oe=i("XlyT"),we=i("HxRh"),Ce=i("uH2+"),Ie=i("623N"),je=i("MMvm"),Ae=i("0+nS");class ke{constructor(e="Personalize"){this.getPageType=()=>this.pageType,this.initializeData=async e=>{const{config:t,fetchTopicsAndUserInterests:i,fetchFollowedPublishers:n,fetchMutedPublishers:a,fetchReadStories:r,fetchSavedStories:s,fetchNotificationSetting:o,fetchUserPreferences:c}=e,{enableFollowedPublishersExperience:d,enableMutedPublishersExperience:l,enableNotificationExperience:u}=t;i().then(()=>{if(d&&n(),l&&a(),this.isPersonalizePage){const{enableSavedStoriesExperience:e,enableReadStoriesExperience:i}=t;e&&s(),i&&r(),u&&o(),c()}})},this.pageType=e,this.isPersonalizePage="Personalize"===this.pageType}}class xe{constructor(){this.pageType="MySaves",this.getPageType=()=>this.pageType,this.initializeData=async e=>{const{savedStoriesLoaded:t,fetchSavedStories:i}=e;t||await i()}}}class Me{constructor(){this.pageType="History",this.getPageType=()=>this.pageType,this.initializeData=async e=>{const{readStoriesLoaded:t,fetchReadStories:i,savedStoriesLoaded:n,fetchSavedStories:a}=e;n||await a(),t||await i()}}}class Pe{constructor(){this.pageType="Setting",this.getPageType=()=>this.pageType,this.initializeData=async e=>{const{settingLoaded:t,fetchUserPreferences:i}=e;t||await i()}}}class Ee{constructor(){this.getPageType=()=>"Notification",this.initializeData=async e=>{await e.fetchNotificationSetting()}}}var Le,De=i("lifk"),Re=i("vLdU"),Fe=i("+8mm"),He=i("Z3LZ"),Ue=i("kS2v"),Ne=i("ax+D"),Be=i("g447"),$e=i("AxnZ"),Ve=i("I6Lx"),qe=i("HFNa"),Ze=i("k112"),ze=i("KUTD");!function(e){e.More="More",e.Mute="Mute"}(Le||(Le={}));var _e=i("y+Kz"),We=i("6ADy"),Ge=i("msIb"),Je=i("KETb"),Ke=i("ac9z"),Qe=i("/+Un"),Ye=i("fuIx"),Xe=i("e8jz"),et=i("CzGr"),tt=i("Zsg4");class it{constructor(e,t=!0){this.fetchImpl=e,this.addPageInfoToOcid=t,this.followedPublishersEndpoint="v1/News/Users/Me/PreferredProviders",this.publishersServiceEndpoint="Msn/Providers",this.actionsServiceEndpoint="Graph/Actions",this.ocid="feeds"}getUserMutedPublishers(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.getUserActions(Le.Mute);if(!e||!e.value)return null;if(!e.value.length)return[];const t=e.value.reduce((e,t)=>(e[t.targetId]=t,e),{}),i=yield this.getPublisherDetails(Object.keys(t));if(!i||!i.value||!i.value.length)return null;return i.value.map(e=>{const i={createdDateTime:t[e.id].createdDateTime};return Object.assign(Object.assign({},e),i)})}))}getUserFollowedPublishers(e=100){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit(),i=[...yield this.getCommonParams(),{key:_e.s.top,value:""+e}],n=Object(We.c)(this.followedPublishersEndpoint);this.appendQs(i,n),Object(Ye.b)()||Object(Ke.c)(n);const a=yield this.sendRequest(decodeURIComponent(n.href),t,"getFollowedPublishers");return null==a?void 0:a.value}))}publisherUserAction(e,t,i){return Object(a.a)(this,void 0,void 0,(function*(){if(!e||!t)return null;const n=yield this.getRequestInit();n.method=i;let a=yield this.getCommonParams();"POST"===i?n.body=JSON.stringify({actionType:t,targetId:e,targetType:"SourceProvider"}):"DELETE"===i&&(a=[...a,{key:_e.s.filter,value:`actionType eq '${t}' and targetId eq '${e}'`}]);const r=Object(We.c)(this.actionsServiceEndpoint);this.appendQs(a,r);const s=yield this.sendRequest(decodeURIComponent(r.href),n,"deleteUserAction "+t,!0,!0);if(s.status>=400){const i=`OneService returned error response. Status: ${s.status} for actionType: ${t}, targetId: ${e}`;throw new Error(i)}return s}))}getUserPublisherStatus(e,t){var i;return Object(a.a)(this,void 0,void 0,(function*(){const n=yield this.getRequestInit();n.method="GET";const a=[...yield this.getCommonParams(),{key:_e.s.filter,value:`actionType eq '${t}' and targetId eq '${e}'`}],r=Object(We.c)(this.actionsServiceEndpoint);this.appendQs(a,r),Object(Ye.b)()||Object(Ke.c)(r);const s=yield this.sendRequest(decodeURIComponent(r.href),n,"getUserPublisherStatus "+t);return!!(null===(i=s.value)||void 0===i?void 0:i.length)}))}getUserActions(e,t=100){return Object(a.a)(this,void 0,void 0,(function*(){const i=yield this.getRequestInit(),n=[...yield this.getCommonParams(),{key:_e.s.filter,value:`actionType eq '${e}' and deleted eq false`},{key:_e.s.top,value:""+t}],a=Object(We.c)(this.actionsServiceEndpoint);return this.appendQs(n,a),Object(Ye.b)()||Object(Ke.c)(a),yield this.sendRequest(decodeURIComponent(a.href),i,"getUserActions "+e)}))}getPublisherDetails(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit(),i=Object(We.c)(this.publishersServiceEndpoint),n=[...Ge.a.getOneServiceParamsWithoutAuth(null,this.ocid,this.addPageInfoToOcid),{key:_e.s.ids,value:e.join(",")}];return this.appendQs(n,i),yield this.sendRequest(decodeURIComponent(i.href),t,"getPublisherDetails")}))}getCommonParams(){return Object(a.a)(this,void 0,void 0,(function*(){if(Object(Ye.b)())return this.getSapphireQueryParams();return(yield this.isUserSignedIn())?Ge.a.getOneServiceParamsWithAuth(u.a.UserId,this.ocid,this.addPageInfoToOcid):Ge.a.getOneServiceParamsWithoutAuth(u.a.UserId,this.ocid,this.addPageInfoToOcid)}))}getSapphireQueryParams(){const e=Ge.a.getOneServiceNonDynamicParamsWithoutAuth(this.ocid,this.addPageInfoToOcid),t=Object(Xe.b)();return t&&(e.push({key:_e.s.market,value:t.market}),e.push({key:_e.s.fdhead,value:t.features}),e.push({key:_e.s.activityId,value:t.activityId}),t.latitude&&t.longitude&&e.push({key:_e.s.location,value:`${t.latitude}|${t.longitude}`})),e}getRequestInit(e=null){return Object(a.a)(this,void 0,void 0,(function*(){return null==e&&(e={method:"GET"}),(yield this.isUserSignedIn())&&(e.credentials="include"),e.headers=Object(Ye.b)()?yield Object(et.a)():yield Ge.a.getOneServiceHeaders(),e}))}isUserSignedIn(){return Object(a.a)(this,void 0,void 0,(function*(){const e=Object(Ve.a)().UserIsSignedIn;if(void 0!==e)return e;return(yield Object(Qe.d)())===b.c.SignedIn}))}sendRequest(e,t,i,n,r){return Object(a.a)(this,void 0,void 0,(function*(){return Object(Ye.b)()?yield this.sapphireRequest(decodeURIComponent(e),t):yield this.networkRequest(decodeURIComponent(e),t,i,n,r)}))}sapphireRequest(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i={url:e,headers:t.headers,body:t.body,refresh:!0};let n;switch(t.method){case"POST":n=yield Object(tt.j)(i);break;case"DELETE":n=yield Object(tt.a)(i);break;default:n=yield Object(tt.c)(i)}return JSON.parse(n||"{}")}))}networkRequest(e,t,i,n,r){return Object(a.a)(this,void 0,void 0,(function*(){return Object(Je.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){const i=yield this.fetchImpl(e,t);if(!i.ok)throw Error(i.statusText);return n&&Object(Ke.d)(),r?i:i.json()})),i)}))}appendQs(e,t){e.forEach(e=>{e.value&&t.searchParams.set(e.key,e.value)})}}var nt,at,rt,st,ot=i("W3y6"),ct=i("ZwaX"),dt=i("hme2"),lt=i("u5KZ"),ut=i("Qo3E"),ht=i("8ntK"),gt=i("3MDl"),pt=i("LJMo");!function(e){e.Cancel="cancel",e.Share="share",e.Save="save",e.Like="like",e.Dislike="dislike",e.FollowPublisher="followPublisher",e.HideStory="hide",e.MutePublisher="mute",e.ReportArticle="reportArticle",e.Report="report",e.AdChoice="adChoice",e.ShowMore="showMore",e.ShowFewer="showFewer",e.Divider="divider",e.ManageInterests="manageInterests"}(nt||(nt={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(at||(at={})),function(e){e[e.OffensiveOrAdult=1]="OffensiveOrAdult",e[e.InaccurateOrMisleading=2]="InaccurateOrMisleading",e[e.Outdated=3]="Outdated",e[e.Duplicate=4]="Duplicate",e[e.DisplayIssue=5]="DisplayIssue",e[e.Other=6]="Other"}(rt||(rt={})),function(e){e[e.Misleading=1]="Misleading",e[e.Inappropriate=2]="Inappropriate",e[e.BadImage=3]="BadImage",e[e.Other=4]="Other"}(st||(st={}));var mt,ft=i("OTRt"),vt=i("zJcZ");!function(e){e.SavedContent="SavedContent",e.ReadHistory="ReadHistory"}(mt||(mt={}));class bt{constructor(e){this.config=e,this.requestUserFeedBase="MSN/User/me/"}getUserStoriesFromFeed(e,t=!1){return Object(a.a)(this,void 0,void 0,(function*(){const i=this.config.initialRequest;if(!i)return lt.a.sendAppErrorEvent(Object.assign(Object.assign({},e===mt.SavedContent?we.df.InterestsSavedStoriesInvalidConfigError:we.df.InterestsReadStoriesInvalidConfigError),{message:"default OneService fetch configuration was invalid"})),null;const n=(yield Object(Qe.d)())===b.c.SignedIn?Ge.a.getOneServiceParamsWithAuth(u.a.UserId,i.ocid,i.addPageInfoToOcid):Ge.a.getOneServiceParamsWithoutAuth(u.a.UserId,i.ocid,i.addPageInfoToOcid),r=Object(Ke.b)(),s=[...n,{key:_e.s.responseSchema,value:t?ft.b.CardView:ft.b.FlatView},{key:_e.s.timeOut,value:""+i.timeoutMs},{key:_e.s.top,value:""+i.count},{key:_e.s.select,value:"title,id,url,images,provider"},{key:Ke.a,value:r?r.toString():null}],o=Object(We.c)(this.requestUserFeedBase+e);let c;s.forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});try{const e=yield Object(Je.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){const e={credentials:"include",method:"GET",headers:yield Ge.a.getOneServiceHeaders()},t=yield fetch(decodeURIComponent(o.href),e);if(!t||!t.ok)throw Error(t.statusText);return t})),"OneServiceCardProvider.fetch");c=e&&e.ok?yield e.json():null}catch(t){return void lt.a.sendAppErrorEvent(Object.assign(Object.assign({},e===mt.SavedContent?we.df.InterestsRetrieveSavedStoriesError:we.df.InterestsRetrieveReadStoriesError),{message:"Error while fetching OneService user stories response",pb:Object.assign(Object.assign({},e===mt.SavedContent?we.df.InterestsRetrieveSavedStoriesError.pb:we.df.InterestsRetrieveReadStoriesError.pb),{customMessage:"Error: "+t})}))}if(!c)return void lt.a.sendAppErrorEvent(Object.assign(Object.assign({},e===mt.SavedContent?we.df.InterestsSavedStoriesInvalidJsonError:we.df.InterestsReadStoriesInvalidJsonError),{message:"Didn't get valid JSON from user stories response."}));const{value:d}=c;if(d&&Ne.a.arrayHasData(d))return t?this.mapUserStoriesToContentResponseCardView(d[0],e):this.mapUserStoriesToContentResponse(d[0].feedItems,e);lt.a.sendAppErrorEvent(Object.assign(Object.assign(Object.assign({},we.df.InterestsSavedStoriesInvalidListError),e===mt.SavedContent?we.df.InterestsSavedStoriesInvalidListError:we.df.InterestsReadStoriesInvalidListError),{message:"Didn't get valid user stories feed items list from response.",pb:Object.assign(Object.assign({},e===mt.SavedContent?we.df.InterestsSavedStoriesInvalidListError.pb:we.df.InterestsReadStoriesInvalidListError.pb),{customMessage:"serviceUrl.href: "+o.href})}))}))}mapUserStoriesToContentResponse(e,t){if(e)return{cardMetadata:e.map(e=>Object.assign(Object.assign({},e),{type:e.type||pt.a.Article,metadata:Object.assign(Object.assign({},e.metadata),{abstractLength:null,actions:t===mt.SavedContent?[nt.Save]:e.metadata.actions,kicker:[{feedName:" ",id:""}]})}))}}mapUserStoriesToContentResponseCardView(e,t){if(!e)return;const i=Object(vt.k)(e).feedItems;return t===mt.SavedContent&&i.map(e=>e.metadata.actions=[nt.Save]),{cardMetadata:i}}}var yt=i("oePG"),St=i("QBS5"),Tt=i("hqLi"),Ot=i("DYG5"),wt=i("9RHM"),Ct=i("3Me6"),It=i("aaiv"),jt=i("f8ag"),At=i("5e7c"),kt=i("V4iI"),xt=i("IqCT"),Mt=i("JOOR"),Pt=i("+Ht2"),Et=i("XgsJ"),Lt=i("w0HK"),Dt=i("uPYz"),Rt=i("OlwA"),Ft='<svg width="16" height="16" viewBox="0 0 14 14"><path d="M3.57 1.75h-.9C2.87.75 3.75 0 4.8 0h5.69A3.5 3.5 0 0 1 14 3.5v5.69c0 1.06-.75 1.94-1.75 2.14v-.9c.51-.18.88-.67.88-1.24V3.5A2.62 2.62 0 0 0 10.5.87H4.81c-.57 0-1.06.37-1.24.88Zm-1.38.88C.98 2.63 0 3.6 0 4.8v7C0 13.02.98 14 2.19 14h7c1.2 0 2.19-.98 2.19-2.19v-7c0-1.2-.98-2.18-2.2-2.18h-7ZM.88 4.8c0-.72.58-1.31 1.3-1.31h7c.73 0 1.32.59 1.32 1.31v7c0 .73-.59 1.31-1.31 1.31h-7c-.73 0-1.31-.58-1.31-1.3v-7Z"/></svg>',Ht='<svg width="16" height="16" viewBox="0 0 18 15"><path xmlns="http://www.w3.org/2000/svg" d="M0 .13h18v14.62H0V.12Zm16.88 13.5V1.24H1.13v12.38h15.75ZM13.5 3.5v1.13h-9V3.5h9ZM5.62 8v3.38H2.25V8h3.38ZM4.5 10.25V9.12H3.37v1.13H4.5Zm2.81 1.13V8h3.38v3.38H7.3Zm1.13-2.26v1.13h1.12V9.12H8.44Zm3.94 2.26V8h3.37v3.38h-3.38Zm1.12-2.26v1.13h1.13V9.12H13.5Z"/></svg>',Ut=i("PJ2e"),Nt=i("oOj7"),Bt=i("8zqh"),$t=i("ecad"),Vt=i("WbT4"),qt=i("uo0m"),Zt=i("MP7k");const zt={arrowsort:'<svg width="16" height="16" viewBox="0 0 20 20"><path d="M6 4a.5.5 0 0 1 .36.15l3.5 3.5a.5.5 0 1 1-.71.7L6.5 5.71v9.79a.5.5 0 0 1-1 0V5.71L2.86 8.35a.5.5 0 0 1-.71-.7l3.47-3.47A.5.5 0 0 1 5.9 4l.1-.01Zm8 0c.28 0 .5.22.5.5v9.79l2.65-2.64a.5.5 0 0 1 .7.7l-3.46 3.47a.5.5 0 0 1-.3.17L14 16a.5.5 0 0 1-.23-.06l-.06-.04-.07-.06-3.5-3.49a.5.5 0 0 1 .72-.7l2.64 2.64V4.5c0-.28.23-.5.5-.5Z"/><path d="M5.75 4c.2 0 .39.07.54.22l3 3A.75.75 0 0 1 8.23 8.3L6.5 6.56v8.69a.75.75 0 0 1-1.5 0V6.57L3.28 8.28a.75.75 0 1 1-1.06-1.06l2.95-2.94A.75.75 0 0 1 5.75 4Zm8.5 0c.42 0 .75.34.75.75v8.68l1.72-1.71a.75.75 0 1 1 1.06 1.06l-2.95 2.94a.75.75 0 0 1-1.12.06l-3-3a.75.75 0 0 1 1.06-1.07l1.73 1.73V4.75c0-.41.34-.75.75-.75Z"/></svg>',open:'<svg width="12" height="12" viewBox="8 8 16 16"><path d="M21 21.5c0 .2-.05.4-.13.57a1.6 1.6 0 0 1-.8.8 1.38 1.38 0 0 1-.58.13H10.5c-.2 0-.4-.04-.57-.12a1.57 1.57 0 0 1-.8-.8A1.38 1.38 0 0 1 9 21.5v-9c0-.2.04-.39.12-.57a1.6 1.6 0 0 1 .8-.8c.19-.08.38-.12.58-.12h4c.13 0 .24.05.34.15a.48.48 0 0 1 .15.35c0 .13-.05.25-.15.35a.48.48 0 0 1-.35.15H10.5a.48.48 0 0 0-.35.15.48.48 0 0 0-.15.35v8.99a.48.48 0 0 0 .15.35.48.48 0 0 0 .35.15h9a.48.48 0 0 0 .34-.15.48.48 0 0 0 .15-.35v-4c0-.13.05-.24.15-.34a.48.48 0 0 1 .35-.15c.14 0 .25.05.35.15.1.1.15.21.15.35v3.99zm1.5-7.5c0 .13-.06.25-.16.35a.48.48 0 0 1-.7 0 .48.48 0 0 1-.15-.35v-2.3l-5.15 5.16a.48.48 0 0 1-.36.15.48.48 0 0 1-.35-.16.48.48 0 0 1-.15-.34c0-.14.05-.26.15-.36L20.77 11h-2.29a.48.48 0 0 1-.35-.15.48.48 0 0 1-.15-.35c0-.14.05-.25.15-.35a.49.49 0 0 1 .35-.15H22c.13 0 .25.05.35.15a.47.47 0 0 1 .15.35V14z"/><path d="M21 21.5c0 .2-.04.4-.12.58a1.55 1.55 0 0 1-.8.8 1.4 1.4 0 0 1-.58.12h-9c-.2 0-.4-.04-.58-.12a1.54 1.54 0 0 1-.8-.8A1.4 1.4 0 0 1 9 21.5v-9c0-.2.04-.4.12-.58.08-.18.19-.34.33-.47a1.56 1.56 0 0 1 .47-.33c.18-.08.38-.12.58-.12h4c.14 0 .25.05.35.15.1.1.15.21.15.35 0 .14-.05.25-.15.35a.48.48 0 0 1-.35.15h-4a.48.48 0 0 0-.35.15.48.48 0 0 0-.15.35v9a.48.48 0 0 0 .15.35.48.48 0 0 0 .35.15h9a.48.48 0 0 0 .35-.15.48.48 0 0 0 .15-.35v-4c0-.14.05-.25.15-.35a.48.48 0 0 1 .35-.15c.14 0 .25.05.35.15.1.1.15.22.15.35v4zm2-7.5a.9.9 0 0 1-.08.38 1.06 1.06 0 0 1-.54.54.9.9 0 0 1-.38.08c-.3 0-.5-.07-.65-.21a1.12 1.12 0 0 1-.29-.54 2.56 2.56 0 0 1-.07-.68l.01-.67-4.3 4.3a.97.97 0 0 1-1.1.22 1.08 1.08 0 0 1-.53-.54.9.9 0 0 1-.08-.38c0-.13.03-.26.08-.39a.88.88 0 0 1 .21-.31l4.29-4.3a10.52 10.52 0 0 0-.62 0c-.18 0-.36 0-.53-.03a1.38 1.38 0 0 1-.47-.14c-.13-.07-.24-.17-.33-.3s-.13-.31-.13-.53a.9.9 0 0 1 .08-.38 1.06 1.06 0 0 1 .54-.54.91.91 0 0 1 .38-.08H22c.14 0 .27.02.39.07a1.07 1.07 0 0 1 .54.54.94.94 0 0 1 .08.39V14z"/></svg>',myinterests:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M8 0a7.78 7.78 0 0 1 4.03 1.1 7.88 7.88 0 0 1 2.88 2.87A7.74 7.74 0 0 1 16 8a7.78 7.78 0 0 1-1.1 4.04 8.17 8.17 0 0 1-4.78 3.68 7.99 7.99 0 0 1-7.78-2.06 8.34 8.34 0 0 1-2.06-3.54 7.98 7.98 0 0 1 2.06-7.77A8.18 8.18 0 0 1 5.88.3C6.55.09 7.26 0 8 0Zm-.91 10.52c.11 0 .22-.02.32-.06.1-.05.2-.1.28-.19l3.35-3.35a.86.86 0 0 0 .24-.6.79.79 0 0 0-.07-.32.73.73 0 0 0-.18-.27.73.73 0 0 0-.26-.18.79.79 0 0 0-.33-.07c-.11 0-.22.03-.33.07a.8.8 0 0 0-.27.18L7.09 8.48l-.93-.93a.82.82 0 0 0-.93-.17.8.8 0 0 0-.27.17.82.82 0 0 0-.25.6c0 .1.02.22.06.33.05.1.11.2.2.27l1.51 1.52c.08.08.17.14.28.2.1.03.22.05.33.05Z"/></svg>',workinterests:'<svg width="16" height="13" viewBox="0 0 16 13"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1v1H1.5C.67 2 0 2.67 0 3.5v8c0 .83.67 1.5 1.5 1.5h13c.83 0 1.5-.67 1.5-1.5v-8c0-.83-.67-1.5-1.5-1.5H11V1a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1Zm5 0H6v1h4V1Zm4.5 2c.28 0 .5.22.5.5v2c0 .83-.67 1.5-1.5 1.5H9v-.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V7H2.5A1.5 1.5 0 0 1 1 5.5v-2c0-.28.22-.5.5-.5h13ZM7 8H2.5c-.56 0-1.08-.19-1.5-.5v4c0 .28.22.5.5.5h13a.5.5 0 0 0 .5-.5v-4c-.42.31-.94.5-1.5.5H9v.5a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5V8Z"/></svg>',news:Bt.a,entertainment:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M16 7a.97.97 0 0 0-.71.3 1 1 0 0 0 .32 1.62c.12.05.25.08.39.08v4H0V9a.97.97 0 0 0 .7-.29A.97.97 0 0 0 1 8a.97.97 0 0 0-.3-.7A.94.94 0 0 0 0 7V3h16v4Zm-1-3H1v2.27A1.99 1.99 0 0 1 2 8a1.97 1.97 0 0 1-1 1.73V12h14V9.73A1.99 1.99 0 0 1 14 8a1.97 1.97 0 0 1 1-1.73V4Z"/></svg>',sports:qt.a,esports:'<svg viewBox="0 0 16 13" width="16" height="16"><path d="M6.27 5.93H5.4v-.86a.4.4 0 1 0-.8 0v.86h-.87a.4.4 0 1 0 0 .8h.87v.87a.4.4 0 1 0 .8 0v-.87h.87a.4.4 0 1 0 0-.8zm4.4.74a.67.67 0 1 0 0 1.33.67.67 0 0 0 0-1.33zm1.33-2A.67.67 0 1 0 12 6a.67.67 0 0 0 0-1.33zm3.9 5.5v-.03l-1.24-4.98v-.01A4.2 4.2 0 0 0 10.69 2H5.33c-1.8 0-3.4 1.28-3.95 3.15L.11 10.14a2.53 2.53 0 0 0 .72 2.63c.4.37.87.57 1.32.57l.27-.02c.54-.1 1.08-.45 1.6-1.08l.01-.02.01-.01 1.35-1.57A1.92 1.92 0 0 1 7 10h2.03c.22 0 .48 0 .71.08.26.08.49.22.72.53l.02.02 1.44 1.58.01.02c.55.63 1.1.98 1.64 1.08l.27.02c.45 0 .9-.2 1.3-.54l.02-.02h.01c.42-.42.67-.84.78-1.26.05-.19.08-.37.08-.56 0-.26-.04-.52-.12-.79zm-.92 1.07c-.06.22-.2.47-.5.8-.28.23-.47.28-.64.29l-.11-.01c-.23-.04-.6-.22-1.06-.77h-.01l-.01-.02-.02-.01-1.4-1.55a2.43 2.43 0 0 0-1.2-.85C9.62 9 9.25 9 9.03 9H6.97a2.93 2.93 0 0 0-2.3.94h-.02v.01l-.01.02-1.37 1.58v.01l-.02.01c-.42.54-.78.71-1 .75h-.1c-.18 0-.39-.06-.68-.3A1.54 1.54 0 0 1 1 10.87c0-.15.02-.3.07-.45v-.02l1.27-4.97C2.8 3.93 4.02 3 5.34 3h5.35a3.2 3.2 0 0 1 3 2.42l1.23 4.95v.03l.01.02c.06.2.09.38.09.52 0 .11-.01.21-.04.3z"/></svg>',business:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M16 3v10H1v-2H0V2h14v1h2Zm-4 0c0 .14.03.27.08.4.05.11.12.22.2.31.1.09.21.16.33.21.12.05.25.08.39.08V3h-1ZM1 4a.97.97 0 0 0 .7-.29A.97.97 0 0 0 2 3H1v1Zm0 4a2 2 0 0 1 2 2h8a2 2 0 0 1 2-2V5a1.97 1.97 0 0 1-1.84-1.22c-.1-.24-.16-.5-.16-.78H3a1.97 1.97 0 0 1-1.23 1.84c-.24.1-.5.16-.77.16v3Zm12 1a.97.97 0 0 0-.71.3 1 1 0 0 0-.29.7h1V9ZM1 10h1a.97.97 0 0 0-.3-.7A.94.94 0 0 0 1 9v1Zm14-6h-1v7H2v1h13V4ZM3.5 7a.48.48 0 0 1-.35-.15A.48.48 0 0 1 3 6.5c0-.14.05-.25.15-.35.1-.1.21-.15.35-.15.14 0 .25.05.35.15.1.1.15.21.15.35 0 .14-.05.25-.15.35-.1.1-.21.15-.35.15Zm7 0a.48.48 0 0 1-.35-.15.48.48 0 0 1-.15-.35c0-.14.05-.25.15-.35.1-.1.21-.15.35-.15.14 0 .25.05.35.15.1.1.15.21.15.35 0 .14-.05.25-.15.35-.1.1-.21.15-.35.15ZM7 9a1.97 1.97 0 0 1-1.84-1.22C5.06 7.54 5 7.28 5 7V6a2 2 0 0 1 2.77-1.84A2 2 0 0 1 9 6v1a1.97 1.97 0 0 1-1.23 1.84c-.24.1-.5.16-.77.16ZM6 7c0 .14.03.27.08.4.05.11.12.22.2.31.1.09.21.16.33.21.12.05.25.08.39.08a.97.97 0 0 0 .7-.29A.97.97 0 0 0 8 7V6a.97.97 0 0 0-.3-.7A.94.94 0 0 0 7 5a.97.97 0 0 0-.71.3A1 1 0 0 0 6 6v1Z"/></svg>',yourmoney:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M14 5h1v9h-1V5ZM4 8.5l1-1V14H4V8.5Zm-2 2 1-1V14H2v-3.5Zm4-4 1-1V14H6V6.5Zm2-1 1 1V14H8V5.5ZM10.5 8l.5-.5V14h-1V7.5l.5.5ZM12 6.5l1-1V14h-1V6.5Zm-12 6 1-1V14H0v-1.5ZM16 0v4h-1V1.71l-4.5 4.5-3-3L0 10.7V9.3l7.5-7.5 3 3L14.29 1H12V0h4Z"/></svg>',lifestyle:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M15.06 6.48 8 15.18.94 6.47 5.14 2h5.73l4.2 4.48ZM9.86 6 8.73 3H7.27L6.14 6h3.72ZM6.09 7 8 13.7 9.91 7H6.1Zm-.73-4-2.8 3h2.67l1.13-3h-1Zm-2.9 4 4.23 5.21L5.19 7H2.46Zm6.85 5.21L13.55 7H10.8l-1.49 5.21ZM13.45 6l-2.8-3h-1l1.12 3h2.68Z"/></svg>',fashionbeauty:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M10 0c.08 0 .16.02.23.05L16 2.94V4a.48.48 0 0 0-.35.15c-.1.1-.15.21-.15.35v1A3.54 3.54 0 0 1 12 9a3.45 3.45 0 0 1-2.48-1.02A3.45 3.45 0 0 1 8.5 5.5a.48.48 0 0 0-.15-.35A.48.48 0 0 0 8 5a.48.48 0 0 0-.35.15c-.1.1-.15.21-.15.35A3.54 3.54 0 0 1 4 9a3.45 3.45 0 0 1-2.48-1.02A3.45 3.45 0 0 1 .5 5.5v-1a.48.48 0 0 0-.15-.35A.48.48 0 0 0 0 4V2.94L5.77.05A.47.47 0 0 1 6 0c.14 0 .25.05.35.15a7.16 7.16 0 0 0 .4.38c.08.07.13.15.18.23.05.08.07.16.07.24 0 .14-.05.25-.15.35-.1.1-.21.15-.35.15a.49.49 0 0 1-.34-.13l-.26-.26L2.12 3H6c.2 0 .37.03.5.08a1.78 1.78 0 0 1 .69.42l.26.24c.08.08.16.14.25.19.1.05.2.07.3.07.1 0 .2-.02.3-.07a5.33 5.33 0 0 0 .5-.43l.3-.24A1.73 1.73 0 0 1 10 3h3.88L10.1 1.1l-.27.27a.46.46 0 0 1-.33.13.48.48 0 0 1-.35-.15.48.48 0 0 1-.08-.6c.05-.07.1-.15.17-.22l.21-.2.2-.18c.1-.1.21-.15.35-.15ZM6.5 5a.95.95 0 0 0-.08-.38.92.92 0 0 0-.22-.32.92.92 0 0 0-.32-.22A.95.95 0 0 0 5.5 4H2a.48.48 0 0 0-.35.15c-.1.1-.15.21-.15.35v1A2.48 2.48 0 0 0 4 8a2.42 2.42 0 0 0 1.76-.73A2.54 2.54 0 0 0 6.5 5.5V5ZM12 8a2.42 2.42 0 0 0 1.76-.73 2.53 2.53 0 0 0 .74-1.77 9.23 9.23 0 0 0-.02-.76l.02-.38c.02-.13.04-.25.09-.36H10.5a1 1 0 0 0-.71.3.98.98 0 0 0-.21.32.95.95 0 0 0-.08.38v.5A2.48 2.48 0 0 0 12 8Z"/></svg>',health:Nt.a,autos:Ut.a,self:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M12.67 7.16c.26.12.46.3.6.56a1.48 1.48 0 0 1-.22 1.84A1.5 1.5 0 0 1 12 10c0 .28-.08.54-.23.79a1.4 1.4 0 0 1-.6.55l-3.94 1.97a.47.47 0 0 1-.23.06.45.45 0 0 1-.22-.06l-3.95-1.97a1.4 1.4 0 0 1-.61-.55c-.14-.24-.21-.5-.21-.8a1.56 1.56 0 0 1-1.07-.42 1.5 1.5 0 0 1-.22-1.85c.15-.25.35-.44.6-.56l1.72-.86 1.23-2.47c.1-.2.25-.37.43-.51s.38-.23.6-.28A2.14 2.14 0 0 1 5 2 2 2 0 0 1 7.77.16 2 2 0 0 1 9 2a2.14 2.14 0 0 1-.3 1.04 1.54 1.54 0 0 1 1.02.79l1.24 2.47 1.71.86ZM7 1a.97.97 0 0 0-.71.3 1 1 0 0 0 .32 1.62c.12.05.25.08.39.08a.97.97 0 0 0 .7-.29A.97.97 0 0 0 8 2a.97.97 0 0 0-.3-.7A.94.94 0 0 0 7 1Zm3.73 9.45c.09-.05.15-.1.2-.18A.53.53 0 0 0 11 10a.46.46 0 0 0-.15-.35.48.48 0 0 0-.57-.1l-3.05 1.53a.57.57 0 0 1-.23.05.56.56 0 0 1-.22-.05L3.73 9.55a.47.47 0 0 0-.23-.05.48.48 0 0 0-.35.15c-.1.1-.15.21-.15.35 0 .1.02.18.07.27.05.07.12.13.2.18L7 12.3l3.73-1.86ZM12 9c.14 0 .25-.05.35-.15a.48.48 0 0 0 .07-.6.44.44 0 0 0-.2-.2l-1.85-.93a.53.53 0 0 1-.23-.22L8.83 4.27a.45.45 0 0 0-.19-.2.48.48 0 0 0-.26-.07H5.62a.48.48 0 0 0-.26.08.45.45 0 0 0-.19.2L3.86 6.9a.53.53 0 0 1-.23.22l-1.85.93a.49.49 0 0 0-.13.8c.1.1.21.15.35.15.07 0 .14-.02.23-.05l2.32-1.16.5-1.02c.05-.08.1-.14.2-.2a.48.48 0 0 1 .6.08c.1.1.15.21.15.35 0 .07-.02.14-.05.23l-.58 1.15a.5.5 0 0 1-.15.17 1.95 1.95 0 0 1-.43.24l-.19.09L7 10.06l2.4-1.2a4.1 4.1 0 0 1-.63-.32.54.54 0 0 1-.14-.17l-.58-1.15A.57.57 0 0 1 8 7c0-.14.05-.25.15-.35a.48.48 0 0 1 .6-.07c.1.04.15.11.2.2l.5 1 2.32 1.17c.09.03.16.05.23.05Z"/></svg>',video:Zt.a,local:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M15 16H0l3-9h4V4.95A2.53 2.53 0 0 1 5 2.5 2.42 2.42 0 0 1 5.73.74 2.54 2.54 0 0 1 7.5 0a2.44 2.44 0 0 1 1.76.74A2.44 2.44 0 0 1 10 2.5a2.46 2.46 0 0 1-1.2 2.13c-.24.15-.5.26-.8.32V7h4l3 9ZM6 2.5a1.47 1.47 0 0 0 .44 1.06 1.5 1.5 0 1 0 1.65-2.44A1.47 1.47 0 0 0 7.5 1a1.47 1.47 0 0 0-1.06.44A1.5 1.5 0 0 0 6 2.5ZM1.4 15h12.2l-2.32-7H8v3.75c0 .05-.02.09-.06.13a.45.45 0 0 1-.14.07l-.17.04a1.37 1.37 0 0 1-.27 0 2.4 2.4 0 0 1-.16-.04.61.61 0 0 1-.15-.07.17.17 0 0 1-.05-.13V8H3.72l-2.33 7Z"/></svg>',society:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M2.5 5a2.44 2.44 0 0 1 1.76.74 2.44 2.44 0 0 1 .54 2.74A2.54 2.54 0 0 1 3.47 9.8 2.48 2.48 0 0 1 0 7.5a2.42 2.42 0 0 1 .73-1.76A2.53 2.53 0 0 1 2.5 5Zm0 4a1.47 1.47 0 0 0 1.06-.44 1.5 1.5 0 1 0-2.44-1.65 1.47 1.47 0 0 0 .32 1.65A1.5 1.5 0 0 0 2.5 9Zm11.97.6a3.33 3.33 0 0 1 1.42 2.05 3.45 3.45 0 0 1-2.03 4.07 3.45 3.45 0 0 1-3.84-.75 3.54 3.54 0 0 1-.94-3.2A4.43 4.43 0 0 1 6 7.5a4.4 4.4 0 0 1 1.32-3.18 4.51 4.51 0 0 1 3.74-1.29 2.38 2.38 0 0 1 .14-1.5A2.5 2.5 0 0 1 14.47.2c.3.13.56.31.79.54A2.44 2.44 0 0 1 16 2.5a2.48 2.48 0 0 1-1.82 2.4c.27.39.47.8.6 1.24a4.42 4.42 0 0 1-.31 3.47ZM12 2.5c0 .32.1.61.29.87a4.27 4.27 0 0 1 1.02.61l.1.02h.09a1.47 1.47 0 0 0 1.06-.44 1.5 1.5 0 1 0-2.44-1.65c-.08.19-.12.38-.12.59Zm-5 5a3.53 3.53 0 0 0 1.44 2.83c.3.22.62.38.98.5.32-.57.75-1.01 1.3-1.34a3.5 3.5 0 0 1 2.86-.33 3.46 3.46 0 0 0-.72-4.25h-.03a4.44 4.44 0 0 0-1.14-.7h-.01A3.5 3.5 0 0 0 7 7.5Zm5.5 7.5a2.42 2.42 0 0 0 1.76-.73 2.53 2.53 0 0 0 .54-2.77 2.54 2.54 0 0 0-2.38-1.5c-.33 0-.65.07-.94.21a2.68 2.68 0 0 0-1.29 1.35A2.48 2.48 0 0 0 12.5 15Z"/></svg>',shopping:Vt.a,passions:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M16 11.6a2.11 2.11 0 0 1-.6 1.47l-2.9 2.88-2.9-2.88a2.07 2.07 0 0 1 0-2.95 2.06 2.06 0 0 1 2.24-.48c.25.09.47.22.66.4.2-.18.42-.31.66-.4a2.06 2.06 0 0 1 1.57.02c.25.11.47.26.66.46a2.1 2.1 0 0 1 .61 1.47Zm-1 0c0-.16-.03-.3-.09-.43a1.1 1.1 0 0 0-1-.67c-.3 0-.56.1-.77.32l-.64.64-.64-.64c-.1-.1-.22-.18-.36-.23a1.1 1.1 0 0 0-1.18 1.77l2.18 2.18 2.18-2.18c.21-.21.32-.47.32-.77ZM9 9a4.95 4.95 0 0 0-4.96-.6A4.91 4.91 0 0 0 1 13H0a6 6 0 0 1 3.88-5.62 3.82 3.82 0 0 1-1.37-1.45A4.34 4.34 0 0 1 2 4a3.9 3.9 0 0 1 1.17-2.82A4.04 4.04 0 0 1 6 0a3.95 3.95 0 0 1 3.68 2.45A3.81 3.81 0 0 1 9.87 5a4.12 4.12 0 0 1-1.75 2.38c.34.12.66.28.94.46.3.19.58.4.85.64A2.55 2.55 0 0 0 9 9Zm0-5a2.95 2.95 0 0 0-.9-2.1 2.95 2.95 0 0 0-3.26-.66A3.06 3.06 0 0 0 3 4a2.92 2.92 0 0 0 .88 2.12 2.92 2.92 0 0 0 3.27.65 3.12 3.12 0 0 0 1.6-1.6C8.93 4.8 9 4.4 9 4Z"/></svg>',savedstories:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M14 0v13.8l-2-1v3.01l-5-2.5-5 2.5V2h2V0h10Zm-3 14.19V3H3v11.19l4-2 4 2Zm2-2V1H5v1h7v9.69l1 .5Z"/></svg>',hiddenpublishers:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M8 0a7.88 7.88 0 0 1 6.9 3.97A7.88 7.88 0 0 1 16 8a7.78 7.78 0 0 1-1.1 4.03 8.07 8.07 0 0 1-9.03 3.69 8.15 8.15 0 0 1-5.59-5.6 7.98 7.98 0 0 1 2.06-7.77A8.08 8.08 0 0 1 8 0Zm0 15a6.9 6.9 0 0 0 4.59-1.71L2.7 3.4A7 7 0 0 0 8 15Zm5.29-2.41a7.03 7.03 0 0 0 1.46-6.45 6.82 6.82 0 0 0-1.8-3.09 6.71 6.71 0 0 0-3.1-1.8A6.96 6.96 0 0 0 3.4 2.71l9.89 9.88Z"/></svg>',informationcards:Ht,globewestlegacy:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M7.93 0h.18c2.23 0 4.2.91 5.92 2.74A7.91 7.91 0 0 1 16 7.93v.14c0 2.57-1.13 4.72-3.38 6.46A7.9 7.9 0 0 1 8.07 16h-.14c-2.57 0-4.72-1.13-6.46-3.38A7.86 7.86 0 0 1 0 8.07v-.14C0 5.36 1.13 3.2 3.38 1.47A7.9 7.9 0 0 1 7.93 0ZM3.14 2.98c.19 0 .45.2.77.63l.2.04c0-.05.04-.07.1-.07v-.2l.24-.34-.17-.63c.11-.07.2-.1.27-.1h.23c.26 0 .48.19.67.57h.04l.26-.2c.56.2.9.4 1.04.6v.17c0 .12-.38.27-1.14.43l-.06.1v.03l.4.1v.07c-.07.08-.28.23-.64.44 0 .11-.23.25-.7.4a.26.26 0 0 0-.13-.04v.07l.03.07c-.05 0-.07.03-.07.06s.05.1.14.2v.04c-.43.25-.64.45-.64.6a.33.33 0 0 0-.03.17l.03.4h-.03c-.21-.36-.47-.54-.77-.54h-.2l-.17.04v.03h.07v.07l-.34-.04h-.17c-.37 0-.56.2-.56.6.03.36.2.54.5.54.16 0 .44-.06.83-.2h.04c-.16.39-.24.6-.24.64l.1.03a.4.4 0 0 1 .2-.07c.13 0 .44.27.94.82l.1.03v.03c0 .06-.09.1-.27.14-.34-.2-.53-.3-.56-.3 0 .02-.02.03-.04.03-.15-.32-.28-.48-.4-.48-.48 0-1.12-.26-1.94-.77l-.03.14L1 8.2c0 1.71.75 3.36 2.24 4.95.6.49 1.06.8 1.38.93v-.13l.23-1.14v-.03c0-.34-.26-1.1-.77-2.28a1.5 1.5 0 0 1-.07-.4v-.1l.04-.16-.1-.07c.3-.43.47-.7.47-.8v-.04c0-.06-.03-.16-.07-.3l.07-.03h.03l.07.03c0-.28.27-.46.83-.53h.07c.71.14 1.07.3 1.07.5.45.27.75.4.9.4.66.24 1.34.69 2.02 1.34.11.14.17.25.17.33v.04a.9.9 0 0 1-.27.3l.03.1c0 .54-.25.9-.77 1.1-.35.1-.53.28-.53.54-.19.4-.42.65-.71.76h-.17l-.27-.2-.07.04.04.06v.24c0 .23-.18.6-.54 1.1v.04c.63.13 1.2.2 1.72.2 2.33 0 4.28-1.07 5.85-3.21-.2-.4-.3-.76-.3-1.07 0-.23.05-.54.14-.94a2.57 2.57 0 0 0-.47-1c.04-.22.06-.39.06-.5 0-.16-.14-.25-.43-.29-.11 0-.26-.06-.44-.2a2.4 2.4 0 0 1-.76.25l-.14-.08a.94.94 0 0 1-.37.11h-.06c-.6-.15-.9-.36-.9-.61-.19-.08-.3-.17-.34-.27v-.03l.07-.1c-.14 0-.2-.07-.2-.2a.2.2 0 0 1 .1-.04V6.8c-.16-.05-.24-.1-.24-.17.05-.07.1-.22.17-.43l-.07-.5c0-.27.26-.58.77-.94l.2-.23a.26.26 0 0 1-.03-.1c.35-.43.54-.64.57-.64h.03c.6 0 1.3-.08 2.1-.23V3.5a7.42 7.42 0 0 0-1.06-1.03c-.5.2-.74.4-.74.56l.03.2c-.11.25-.36.37-.73.37l-.34-.03-.33.07a.65.65 0 0 1-.13-.27c.06-.24.1-.4.1-.5-.04 0-.07-.05-.1-.14a9.9 9.9 0 0 1 1.3-.4c0-.23-.22-.39-.67-.47v-.03c0-.05.14-.09.4-.1V1.7A7.6 7.6 0 0 0 7.96 1c-1.79 0-3.4.65-4.82 1.97Zm10.35.73-.03.17v.03c0 .17.15.3.47.4-.15-.26-.3-.46-.44-.6ZM4.6 5.08h.06v.14h-.07v-.14ZM3.7 6.9h.2c.1 0 .39.09.84.27v.07h-.3a3.5 3.5 0 0 0-.74-.27v-.07Zm-.06.03V7l-.17.03c0-.04.05-.07.17-.1Zm1.3.3c.34.04.5.09.5.14v.03c-.2.05-.34.07-.43.07h-.04l-.16-.03v-.04l.13-.16Z"/></svg>',soccerball:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="m7.95 4.88 2.94 2.14-1.12 3.46H6.13L5.01 7.02l2.94-2.14ZM10 7.3 7.95 5.81l-2.06 1.5.78 2.42h2.55L10 7.3ZM7.88.5a7.13 7.13 0 0 1 3.71 1c.56.33 1.05.71 1.5 1.16.44.46.82.95 1.14 1.5a7.24 7.24 0 0 1 .75 5.67 7.78 7.78 0 0 1-.74 1.76c-.32.56-.7 1.05-1.15 1.5-.46.44-.95.82-1.5 1.14a7.24 7.24 0 0 1-5.67.75 7.77 7.77 0 0 1-1.76-.74 6.86 6.86 0 0 1-1.5-1.15 7.24 7.24 0 0 1-1.9-7.16A7.33 7.33 0 0 1 7.87.5Zm4.58 3.79-.34 2.2 1.58 1.6.78-.78a6.46 6.46 0 0 0-.93-2.86l-1.09-.16ZM5.87 2.4l2 1 2-1-.49-.99a6.26 6.26 0 0 0-1.5-.17 7.31 7.31 0 0 0-1.51.17l-.5.99ZM2.2 4.45a6.56 6.56 0 0 0-.93 2.86l.78.78 1.58-1.6-.34-2.2-1.09.16Zm4.07 9.03-1.02-1.99-2.2-.37-.18 1.08a6.48 6.48 0 0 0 2.43 1.78l.97-.5Zm4.18.5a6.71 6.71 0 0 0 2.43-1.78l-.18-1.07-2.2.36-1.02 1.99.97.5Zm3.06-2.62a6.65 6.65 0 0 0 .97-3l-.8.78-2.35-2.39.5-3.32 1.1.17a6.67 6.67 0 0 0-2.55-1.86l.5 1-3 1.5-3-1.5.5-1A6.27 6.27 0 0 0 2.81 3.6l1.1-.17.5 3.32-2.36 2.4-.79-.8a6.74 6.74 0 0 0 .97 3l.19-1.08 3.31.54L7.3 13.8l-1 .51a8.14 8.14 0 0 0 1.58.19 6.6 6.6 0 0 0 1.58-.19l-.99-.51 1.55-2.99 3.31-.54.19 1.09Z"/></svg>',suitcase:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M14.5 3a1.47 1.47 0 0 1 1.06.44A1.5 1.5 0 0 1 16 4.5v9a1.47 1.47 0 0 1-.44 1.06 1.5 1.5 0 0 1-1.06.44h-13a1.47 1.47 0 0 1-1.06-.44A1.5 1.5 0 0 1 0 13.5v-9a1.47 1.47 0 0 1 .44-1.06A1.5 1.5 0 0 1 1.5 3H5V2a.97.97 0 0 1 .29-.7c.09-.1.2-.16.32-.22A.85.85 0 0 1 6 1h4a.97.97 0 0 1 .7.29c.1.09.16.2.22.32s.09.25.08.39v1h3.5ZM6 3h4V2H6v1ZM4 4v10h8V4H4Zm-3 9.5c0 .14.05.25.15.35.1.1.21.15.35.15H3V4H1.5a.48.48 0 0 0-.35.15c-.1.1-.15.21-.15.35v9Zm14-9a.48.48 0 0 0-.15-.35.48.48 0 0 0-.35-.15H13v10h1.5c.14 0 .25-.05.35-.15.1-.1.15-.21.15-.35v-9Z"/></svg>',entertainmentlogolegacy:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M0 16h16V0H0v16Zm5.28-6.76-3.8-2.58h4.78L7.8 2.1l1.58 4.56h4.76l-3.78 2.58 1.48 4.13L7.8 10.7l-4 2.67 1.47-4.13Z"/></svg>',readStories:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M8 4v4.29l2.85 2.86-.7.7L7 8.71V4h1Zm7.38.88A8.03 8.03 0 0 1 8 16a7.85 7.85 0 0 1-4.88-1.66 8.1 8.1 0 0 1-2.82-4.2l.96-.27a6.88 6.88 0 0 0 2.5 3.7A7 7 0 1 0 1.69 5H4v1H0V2h1v2.14a5.66 5.66 0 0 1 .62-.95 8 8 0 0 1 13.75 1.7Z"/></svg>',discover:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M2 11V9H0V0h12v2h2v4h-1V3H3v7h6v1H2Zm0-3V2h9V1H1v7h1Zm10-3H4V4h8v1Zm-2 2H4V6h6v1ZM4 8h5v1H4V8Zm9-1a2.92 2.92 0 0 1 2.12.88A2.95 2.95 0 0 1 16 10a2.94 2.94 0 0 1-.88 2.13 3.01 3.01 0 0 1-3.85.32l-3.42 3.4c-.1.1-.21.15-.35.15a.48.48 0 0 1-.35-.15.48.48 0 0 1-.15-.35c0-.14.05-.25.15-.35l3.4-3.42A2.83 2.83 0 0 1 10 10a2.92 2.92 0 0 1 .88-2.12A2.94 2.94 0 0 1 13 7Zm0 5a2 2 0 0 0 1.84-2.77 2 2 0 0 0-2.62-1.07A2.03 2.03 0 0 0 11 10a1.98 1.98 0 0 0 1.22 1.84c.24.1.5.16.78.16Z"/></svg>',notificationBell:'<svg width="16" height="18"><path d="M8 0c3.6 0 6.55 2.85 6.67 6.46v3.87l1.24 2.81a1.11 1.11 0 0 1-1.02 1.56h-4.22a2.67 2.67 0 0 1-5.34.16v-.16H1.1A1.11 1.11 0 0 1 .1 13.15l1.22-2.82V6.68C1.31 2.98 4.31 0 8 0Zm1.33 14.7H6.66a1.34 1.34 0 0 0 2.67.13v-.13ZM8 1.34a5.33 5.33 0 0 0-5.35 5.34v3.93l-1.2 2.76h13.1l-1.2-2.76V6.7l-.01-.2A5.33 5.33 0 0 0 8 1.34Z" fill-opacity=".83"/></svg>',notificationGeneral:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M13.93 7.72v.14a1.27 1.27 0 0 1 0 .28v.14l2.02 1.26-1.24 3L12.4 12c-.12.14-.25.27-.39.4l.53 2.31-3 1.24-1.25-2.02h-.56l-1.26 2.02-3-1.24L4 12.4a6.91 6.91 0 0 1-.4-.39l-2.31.53-1.24-3 2.02-1.25v-.56L.05 6.46l1.24-3L3.6 4c.12-.14.25-.27.39-.4L3.47 1.3l3-1.24 1.25 2.02h.14a1.27 1.27 0 0 1 .28 0h.14L9.54.05l3 1.24L12 3.6c.14.12.27.25.4.39l2.31-.53 1.24 3-2.02 1.25Zm-.91 1.01a102.3 102.3 0 0 1 .04-.74 4.43 4.43 0 0 0-.04-.73l1.84-1.15-.67-1.63-2.12.5a6.35 6.35 0 0 0-1.05-1.05l.5-2.12-1.63-.67-1.16 1.84A102.62 102.62 0 0 0 8 2.94a4.52 4.52 0 0 0-.74.04L6.1 1.14l-1.63.67.5 2.12a6.36 6.36 0 0 0-1.05 1.05l-2.12-.5-.67 1.63 1.84 1.16-.03.37a4.24 4.24 0 0 0 .03 1.1L1.14 9.9l.67 1.63 2.12-.5a7.27 7.27 0 0 0 1.05 1.05l-.5 2.12 1.63.67 1.16-1.84a102.49 102.49 0 0 0 .73.04l.37-.01.37-.03 1.15 1.84 1.63-.67-.5-2.12a7.26 7.26 0 0 0 1.05-1.05l2.12.5.67-1.63-1.84-1.16ZM8 5.06c.4 0 .79.08 1.14.24a2.9 2.9 0 0 1 1.8 2.7A2.92 2.92 0 0 1 8 10.94a2.93 2.93 0 1 1 0-5.88Zm0 5a2.07 2.07 0 0 0 1.46-.6c.19-.19.33-.4.44-.66.1-.25.16-.51.16-.8A2.01 2.01 0 0 0 8.8 6.1c-.25-.1-.51-.16-.8-.16A2.01 2.01 0 0 0 6.1 7.2a2.07 2.07 0 0 0 .45 2.27c.18.18.4.33.65.44.25.1.51.15.8.15Z" fill-opacity=".83"/></svg>',notificationNews:'<svg width="16" height="11" viewBox="0 0 16 11"><path d="M16 2v7a2.03 2.03 0 0 1-2 2H1.95c-.27 0-.52-.05-.76-.16a2.1 2.1 0 0 1-.62-.41 2.1 2.1 0 0 1-.41-.62C.06 9.57 0 9.32 0 9.05V0h14v2h2Zm-1 1h-1v5.5c0 .14-.05.25-.15.35-.1.1-.21.15-.35.15a.48.48 0 0 1-.35-.15.48.48 0 0 1-.15-.35V1H1v8.05a.96.96 0 0 0 .27.68c.1.08.2.15.3.2.12.05.25.07.38.07H14a.97.97 0 0 0 .7-.29A.97.97 0 0 0 15 9V3Zm-3 0H2V2h10v1Zm0 6H8V8h4v1Zm0-2H8V6h4v1Zm0-2H8V4h4v1ZM7 9H2V3.98h5V9ZM3 8h3V4.98H3V8Z" fill-opacity=".83"/></svg>',notificationSports:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M15.75 4.01a.88.88 0 0 0-1.17 0L13.21 5.3a.5.5 0 0 1-.69 0L7.8.77a1.9 1.9 0 0 0-2.55 0L3.17 2.71c-.32.3-.32.8 0 1.1.31.3.85.3 1.17 0L6.4 1.88c.06-.06.16-.06.21 0l1.43 1.33-1.4 1.3c-.57.54-.57 1.4 0 1.95.28.26.66.4 1.03.4s.75-.13 1.03-.4l1.37-1.3 1.27 1.22c.42.4.97.59 1.51.59.55 0 1.1-.2 1.52-.59l1.37-1.28A.7.7 0 0 0 15.75 4ZM5.7 6.54a.92.92 0 0 0-.97-.17.82.82 0 0 0-.53.79l.07 3.76H.9c-.5 0-.89.37-.89.84 0 .46.4.83.89.83h3.75c.38 0 .74-.14 1.02-.39.27-.26.4-.6.4-.95l-.05-2.08 2.45 2.26-3.37 3.15a.8.8 0 0 0 0 1.18c.17.17.4.24.62.24.22 0 .46-.08.62-.24l4-3.75a.82.82 0 0 0 .27-.6c0-.22-.1-.44-.26-.6L5.7 6.55Z" fill-opacity=".83"/><path d="M11.87 3.26a1.63 1.63 0 1 0 0-3.26 1.63 1.63 0 0 0 0 3.26Z" fill-opacity=".83"/></svg>',notificationFinance:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M5.17 6.45 1.61 9.57l5.8 2.9 8.46-5.29V8.4l-8.4 5.25-6.22-3.1v4.2h14.63v1.13H.12V.13h1.13v8.38l3.97-3.48 2.22 2.24 6.18-6.19 2.26 2.25V4.8l-2.26-2.25-6.18 6.19-2.27-2.28Z" fill-opacity=".55"/></svg>',notificationShopping:'<svg width="16" height="16" viewBox="0 0 2048 2048"><path d="M80 1088q0-51 19-98t56-83L987 75q36-36 83-55t98-20h624q53 0 99 20t82 55 55 81 20 100v624q0 51-19 98t-56 83l-832 832q-36 36-83 55t-98 20q-51 0-98-19t-83-55l-624-625q-75-75-75-181zm880 753q26 0 49-10t42-28l832-832q17-17 27-41t10-50V256q0-27-10-50t-27-40-41-28-50-10h-624q-54 0-91 37L245 997q-18 18-27 41t-10 50q0 53 37 90l624 625q38 38 91 38zm448-1329q0-27 10-50t27-40 41-28 50-10q26 0 49 10t41 27 28 41 10 50q0 27-10 50t-27 40-41 28-50 10q-27 0-50-10t-41-27-27-40-10-51z"/></svg>',notificationCommunity:'<svg width="14" height="15" viewBox="0 0 14 15"><path d="M11.78 5.41c.34.18.64.39.92.64a3.88 3.88 0 0 1 1.14 1.85c.1.35.16.72.16 1.1h-1a3.01 3.01 0 0 0-4.16-2.76A3.01 3.01 0 0 0 7 9c0 .47-.1.92-.33 1.35-.21.43-.5.78-.89 1.06.34.18.64.39.92.64a3.88 3.88 0 0 1 1.14 1.85c.1.35.16.72.16 1.1H7a3.01 3.01 0 0 0-3-3 3.01 3.01 0 0 0-3 3H0a3.88 3.88 0 0 1 .6-2.1 4 4 0 0 1 1.62-1.49 3.01 3.01 0 0 1-.99-3.57 3.12 3.12 0 0 1 1.6-1.6 2.93 2.93 0 0 1 2.52.09c.43.21.78.5 1.06.89a4.08 4.08 0 0 1 1.8-1.8 3 3 0 0 1-.98-3.58 3.12 3.12 0 0 1 1.6-1.6 2.84 2.84 0 0 1 2.33 0A3.01 3.01 0 0 1 13 3c0 .47-.1.92-.33 1.35-.21.43-.5.78-.89 1.06ZM4 11a1.96 1.96 0 0 0 1.4-.59A2.03 2.03 0 0 0 6 9c0-.27-.05-.53-.16-.77-.1-.25-.25-.46-.43-.64a1.92 1.92 0 0 0-.64-.43 1.88 1.88 0 0 0-1.55 0A2.03 2.03 0 0 0 2 9a1.97 1.97 0 0 0 1.22 1.84c.24.1.5.16.78.16Zm4-8a1.97 1.97 0 0 0 1.22 1.84 1.97 1.97 0 0 0 1.55 0 2.09 2.09 0 0 0 1.07-1.06 1.9 1.9 0 0 0 0-1.55c-.1-.25-.25-.46-.43-.64a1.92 1.92 0 0 0-.64-.43 1.88 1.88 0 0 0-1.55 0A2.03 2.03 0 0 0 8 3Z" fill-opacity=".55"/></svg>',weather:'<svg width="16" height="16" viewBox="0 0 16 14"><path d="M13.76 8.1c.33.09.63.23.9.42A2.95 2.95 0 0 1 16 11a2.94 2.94 0 0 1-.88 2.13A3.01 3.01 0 0 1 13 14H4.5a3.45 3.45 0 0 1-2.48-1.02A3.54 3.54 0 0 1 1 10.5a3.4 3.4 0 0 1 .57-1.91 3.47 3.47 0 0 1 1.52-1.3 3.39 3.39 0 0 1 .18-2.16 3.51 3.51 0 0 1 4.2-1.99A3.3 3.3 0 0 1 9.1 4.18c.24.24.42.52.56.82a4.38 4.38 0 0 1 2.54.9 4.43 4.43 0 0 1 1.57 2.2ZM6.5 4a2.54 2.54 0 0 0-2.3 1.53 2.42 2.42 0 0 0-.14 1.5 4.1 4.1 0 0 1 1.03.02c.19.03.38.08.56.15a3.92 3.92 0 0 1 1.23-1.35 4.34 4.34 0 0 1 1.67-.75 2.4 2.4 0 0 0-.89-.8A2.4 2.4 0 0 0 6.5 4Zm6.5 9a2 2 0 0 0 1.84-2.8c-.1-.24-.25-.45-.44-.63s-.4-.31-.66-.41c-.25-.1-.51-.16-.8-.16a3.44 3.44 0 0 0-1.16-2.14A3.35 3.35 0 0 0 9.5 6a3.39 3.39 0 0 0-2.13.73 3.56 3.56 0 0 0-1.25 1.89 2.5 2.5 0 0 0-3.4.11A2.48 2.48 0 0 0 2 10.5 2.48 2.48 0 0 0 4.5 13H13ZM2 7H0V6h2v1Zm.96-3.33L1.55 2.26l.7-.71 1.42 1.41-.7.71ZM7 2H6V0h1v2Zm3.04 1.67-.71-.7 1.41-1.42.71.7-1.41 1.42Z"/></svg>',finance:'<svg width="16" height="16" viewBox="0 0 16 14"><path d="M14 5h1v9h-1V5ZM4 8.5l1-1V14H4V8.5Zm-2 2 1-1V14H2v-3.5Zm4-4 1-1V14H6V6.5Zm2-1 1 1V14H8V5.5ZM10.5 8l.5-.5V14h-1V7.5l.5.5ZM12 6.5l1-1V14h-1V6.5Zm-12 6 1-1V14H0v-1.5ZM16 0v4h-1V1.71l-4.5 4.5-3-3L0 10.7V9.3l7.5-7.5 3 3L14.29 1H12V0h4Z"/></svg>',traffic:'<svg viewBox="0 0 16 13" width="16" height="16"><path d="M12.84 0c.21 0 .42.03.61.1a2.01 2.01 0 0 1 1.28 1.27l.13.36.24.73a190.94 190.94 0 0 1 .81 2.45l.09.26V9a.97.97 0 0 1-.3.71 1 1 0 0 1-.7.29h-1a.97.97 0 0 1-.4-.08 1.1 1.1 0 0 1-.31-.2 1.1 1.1 0 0 1-.21-.33A.97.97 0 0 1 13 9h-1v3a.97.97 0 0 1-.3.71 1 1 0 0 1-.7.29h-1a.97.97 0 0 1-.4-.08 1.1 1.1 0 0 1-.31-.2 1.1 1.1 0 0 1-.21-.33A.97.97 0 0 1 9 12H3a.97.97 0 0 1-.3.71A1 1 0 0 1 2 13H1a.97.97 0 0 1-.4-.08 1.1 1.1 0 0 1-.31-.2 1.1 1.1 0 0 1-.21-.33A.97.97 0 0 1 0 12V8.17l.09-.26a81.48 81.48 0 0 1 .8-2.45l.25-.73.13-.36a1.94 1.94 0 0 1 .72-.99A1.96 1.96 0 0 1 3.16 3h1.57l.54-1.63a1.94 1.94 0 0 1 .72-.99A1.96 1.96 0 0 1 7.16 0h5.68ZM7.16 1a.98.98 0 0 0-.95.68L5.79 3h8.44l-.44-1.32a.97.97 0 0 0-.94-.68H7.16Zm-4 3a.98.98 0 0 0-.95.68L1.79 6h8.44l-.44-1.32a.98.98 0 0 0-.36-.48.92.92 0 0 0-.57-.2H3.16ZM1 11h1.94l1-2h4.12l1 2H11V8.33l-.03-.1-.08-.23-.1-.3a10.92 10.92 0 0 0-.24-.7h-9.1a10.25 10.25 0 0 1-.14.38l-.1.32-.1.3-.08.23-.03.1V11Zm6.94 0-.5-1H4.56l-.49 1h3.88ZM15 8V5.33l-.03-.1-.08-.23-.1-.3a10.92 10.92 0 0 0-.24-.7h-3.98l.09.18.07.19L11.95 8H15Zm-1.5-3.13c.17 0 .32.07.44.2.12.11.19.26.19.43a.6.6 0 0 1-.2.45.6.6 0 0 1-.43.17.62.62 0 0 1-.45-.17.62.62 0 0 1-.18-.45.6.6 0 0 1 .18-.44.6.6 0 0 1 .45-.18Zm-11 4.25a.62.62 0 0 1-.45-.17.62.62 0 0 1-.17-.45.6.6 0 0 1 .17-.44.6.6 0 0 1 .45-.19c.17 0 .32.07.44.2.12.11.19.26.19.43a.6.6 0 0 1-.2.45.6.6 0 0 1-.43.18Zm7 0a.62.62 0 0 1-.45-.17.62.62 0 0 1-.18-.45.6.6 0 0 1 .18-.44.6.6 0 0 1 .45-.19c.17 0 .32.07.44.2.12.11.19.26.19.43a.6.6 0 0 1-.2.45.6.6 0 0 1-.43.18Z"/></svg>',qna:$t.a,reactions:'<svg width="16" height="16" viewBox="0 0 14 15"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.83 1.04Zm.02 0 .04.03c.05.03.12.1.2.22l.01.01c.17.23.24.63-.03 1.32a6.88 6.88 0 0 1-.63 1.22c-.14.19-.32.43-.46.76l-.1.27c-.14.44-.01.84.24 1.12.24.27.58.43.92.48.31.04.62.1.92.2.59.15.96.32 1.19.5.2.16.25.3.25.43a.94.94 0 0 1-.08.37 1.01 1.01 0 0 0-.04.7c.02.07.06.18.17.29.1.14.14.3.13.48v.03c0 .02-.01.07-.07.12l-.03.02a.85.85 0 0 0-.26 1.05.77.77 0 0 1-.01.46 2.24 2.24 0 0 1-.17.24c-.13.1-.25.22-.35.37-.11.15-.22.37-.22.63v.24c0 .05-.02.07-.03.09a1 1 0 0 1-.12.14l-.08.09-.2.2a.48.48 0 0 1-.18.12 9.1 9.1 0 0 1-.6.14c-.27.02-1.36.1-2.08.1-1.19 0-1.97-.02-2.89-.24-.48-.11-.87-.2-1.2-.3a1.62 1.62 0 0 0-.44-.06H1.78c-.22 0-.37-.13-.41-.28l-.04-.17c-.18-.7-.25-1.09-.28-1.8-.03-.82 0-1.27.19-2.05.02-.12.15-.23.32-.23h1.51c.54 0 1.02-.27 1.32-.7a49.88 49.88 0 0 1 1.59-2.19c.25-.3.42-.5.53-.59.82-.63 1.34-1.06 1.56-1.24l.01-.01c.37-.33.64-.57.84-.8.22-.26.37-.5.55-.83.1-.18.14-.35.17-.48.04-.16.11-.32.21-.46ZM9.06.38A1 1 0 0 1 9.83 0c.49 0 .86.33 1.11.69.48.65.42 1.48.1 2.3V3c-.18.45-.39.88-.64 1.29l-.01.01-.01.01-.14.2c-.13.17-.21.28-.3.48a3.8 3.8 0 0 0-.08.26l.03.05c.06.05.16.12.3.14.36.05.7.12 1.05.22.64.17 1.17.4 1.55.7.4.3.65.73.65 1.24 0 .25-.05.5-.15.74.24.35.35.75.33 1.15 0 .34-.17.65-.4.86.1.35.1.7 0 1.03-.04.16-.14.3-.2.4l-.18.25-.02.02a.6.6 0 0 1-.14.13.56.56 0 0 0-.14.13.22.22 0 0 0-.03.06v.32c-.05.45-.28.69-.41.84l-.02.01-.06.06c-.08.09-.18.2-.3.3a1.5 1.5 0 0 1-.58.34 10.11 10.11 0 0 1-.8.17c-.26.03-1.4.12-2.17.11a12.9 12.9 0 0 1-4.36-.58.58.58 0 0 0-.16-.02H1.78c-.63 0-1.24-.39-1.42-1.06l-.04-.17a8.33 8.33 0 0 1-.3-2.02c-.04-.9-.01-1.45.2-2.34C.39 7.7.97 7.3 1.57 7.3h1.51c.18 0 .35-.09.46-.24A50.86 50.86 0 0 1 5.17 4.8c.26-.32.5-.58.69-.74l.01-.01L7.4 2.84c.37-.34.58-.53.74-.71.15-.17.26-.34.41-.63a.96.96 0 0 0 .08-.23c.07-.32.22-.63.43-.89V.36Z"/></svg>',comments:'<svg width="16" height="16" viewBox="0 0 16 15"><path d="M0 0h16v11H5.71L2 14.71V11H0V0Zm15 10V1H1v9h2v2.29L5.29 10H15Z"/></svg>',feedsettings:Ft,genericelection:'<svg viewBox="0 0 2048 2048" width="16" height="16"><path d="M448 2048q-39 0-74-15t-61-41-42-62-15-74V320q0-39 15-74t41-61 62-42 74-15h203q10-29 28-52t42-41 52-26 59-9h384q31 0 59 9t52 26 42 40 28 53h203q39 0 74 15t61 41 42 62 15 74v1536q0 39-15 74t-41 61-62 42-74 15H448zm768-1792q26 0 45-19t19-45q0-26-19-45t-45-19H832q-26 0-45 19t-19 45q0 26 19 45t45 19h384zm384 1664q26 0 45-19t19-45V320q0-26-19-45t-45-19h-203q-10 29-28 52t-42 41-52 26-59 9H832q-31 0-59-9t-52-26-42-40-28-53H448q-26 0-45 19t-19 45v1536q0 26 19 45t45 19h1152zM512 872q0-26 19-45t45-19q14 0 27 7t25 16 22 21 20 19l181-180q19-19 45-19t45 19 19 45q0 26-19 45l-224 224q-19 19-45 19-24 0-43-17l-96-87q-11-9-16-21t-5-27zm640 24q-26 0-45-19t-19-45q0-26 19-45t45-19h320q26 0 45 19t19 45q0 26-19 45t-45 19h-320zm-640 616q0-26 19-45t45-19q14 0 27 7t25 16 22 21 20 19l181-180q19-19 45-19t45 19 19 45q0 26-19 45l-224 224q-19 19-45 19-24 0-43-17l-96-87q-11-9-16-21t-5-27zm640 24q-26 0-45-19t-19-45q0-26 19-45t45-19h320q26 0 45 19t19 45q0 26-19 45t-45 19h-320z"/></svg>',topstories:Bt.a};var _t=i("GxxB");const Wt={behavior:D.b.Show};function Gt(e,t,i,n,a){const{localizedStrings:r,stickyHeaderHeightPx:s}=e;let o;switch(a){case"Setting":o=function(e,t,i){const{root:n,Market:a}=jt.a.sdSettingsSectionIds,{heading:r}=e.localizedStrings.settings,{marketSettingsHeading:s}=e.localizedStrings,o=ni({name:ee,type:D.e.Module},t,i),c=ni({name:Q,type:D.e.Module},o,i),d=ni({name:Y,type:D.e.Module},o,i),l=ni({name:X,type:D.e.Module},o,i),h=ni({name:ue,type:D.e.Module},o,i),g=[{id:n,display:r,glyphStart:Ht,childItems:ei(e.sdSettingCards,e.localizedStrings.settings,jt.a.SdSettingsOrder,jt.a.sdSettingsSectionIds,c,i),telemetryTag:c.getMetadataTag()}];e.feedSettingCards&&g.unshift({id:jt.a.feedSettingsSectionIds.root,display:e.localizedStrings.feedSettings&&e.localizedStrings.feedSettings.heading,glyphStart:Ft,childItems:ei(e.feedSettingCards,e.localizedStrings.feedSettings,jt.a.FeedSettingsOrder,jt.a.feedSettingsSectionIds,d,i),telemetryTag:d.getMetadataTag()});e.productivitySettingCards&&g.push({id:jt.a.productivitySettingsSectionIds.root,display:e.localizedStrings.productivitySettings&&e.localizedStrings.productivitySettings.heading,glyphStart:_t.a,childItems:ei(e.productivitySettingCards,e.localizedStrings.productivitySettings,jt.a.ProductivitySettingsOrder,jt.a.productivitySettingsSectionIds,l,i),telemetryTag:l.getMetadataTag()});Object(u.b)().IsCnDomain||g.unshift({id:a,display:s||"Language & content",glyphStart:'<svg width="16" height="16" viewBox="0 0 16 16"><path d="M8 0a7.78 7.78 0 0 1 4.04 1.1 7.67 7.67 0 0 1 3.67 4.78 7.78 7.78 0 0 1 0 4.25 7.88 7.88 0 0 1-2.05 3.53 8.04 8.04 0 0 1-7.79 2.06 8.32 8.32 0 0 1-3.53-2.06 8.23 8.23 0 0 1-2.06-3.53A8.01 8.01 0 0 1 8 0Zm6.32 5a6.56 6.56 0 0 0-1.66-2.21 7.26 7.26 0 0 0-2.37-1.4 6.65 6.65 0 0 1 .9 1.73c.13.3.23.62.31.93.08.32.16.64.22.95h2.6ZM15 8c0-.7-.1-1.36-.29-2h-2.84a16.24 16.24 0 0 1 0 4h2.84c.2-.64.29-1.3.29-2Zm-7 7c.26 0 .5-.07.71-.21.22-.14.43-.33.62-.56.19-.22.35-.48.5-.77A8.84 8.84 0 0 0 10.7 11H5.3a10.29 10.29 0 0 0 .86 2.46c.16.29.32.55.51.77.19.23.4.42.61.56.23.14.46.21.72.21Zm2.87-5a16.3 16.3 0 0 0 0-4H5.13A21.67 21.67 0 0 0 5 8a16.16 16.16 0 0 0 .13 2h5.74ZM1 8c0 .7.1 1.36.29 2h2.83a16.35 16.35 0 0 1 0-4H1.3A6.9 6.9 0 0 0 1 8Zm7-7c-.26 0-.5.07-.72.21-.22.14-.42.33-.6.56-.2.22-.36.49-.52.78A9.34 9.34 0 0 0 5.3 5h5.4a10.26 10.26 0 0 0-.87-2.45c-.15-.3-.31-.56-.5-.78-.19-.23-.4-.42-.62-.56A1.29 1.29 0 0 0 8 1Zm-2.29.38a6.73 6.73 0 0 0-2.37 1.4A7.01 7.01 0 0 0 1.68 5h2.6a16.42 16.42 0 0 1 .52-1.88 8.88 8.88 0 0 1 .91-1.74ZM1.68 11a6.8 6.8 0 0 0 2.77 3.03c.4.24.82.44 1.26.59a6.65 6.65 0 0 1-.91-1.73A10.43 10.43 0 0 1 4.28 11h-2.6Zm8.6 3.62a6.73 6.73 0 0 0 2.38-1.4A7.23 7.23 0 0 0 14.32 11h-2.6a16.52 16.52 0 0 1-.52 1.9 8.14 8.14 0 0 1-.91 1.72Z"/></svg>',telemetryTag:h.getMetadataTag()});return{navItems:g,telemetryTag:o.getMetadataTag()}}(e,i,n);break;case"Notification":o=Jt.call(this,e,i,n);break;case"MyInterests":o=Qt.call(this,e,t,i,n,a),o.navItems=o.navItems.filter(e=>e.id!==jt.a.sectionIds.notification);break;default:o=Qt.call(this,e,t,i,n,a)}const c=function(e,t){const i=ni({name:de,type:D.e.ActionButton,behavior:D.b.Open},e,t).getMetadataTag(),n=ni({name:le,type:D.e.ActionButton,behavior:D.b.Close},e,t).getMetadataTag();return{navigationMenuTelemetryTag:i,navigationMenuDismissTelemetryTag:n}}(i,n);return{sidePaneLayoutTitle:null==r?void 0:r.sideNavigationTitle,sidePaneTreeViewData:o,sidePaneMenuTelemetryTags:c,stickyHeaderHeightPx:s||jt.a.defaultStickyHeaderHeightPx}}function Jt(e,t,i){const n=[],a=ni(Object.assign({name:ee},Wt),t,i);return e.enableNotificationExperience&&n.push(Kt(e,a,i,this.strings)),{navItems:n,telemetryTag:a.getMetadataTag()}}function Kt(e,t,i,n,a){var r,s;const{notification:o}=jt.a.sectionIds,{enableNotificationExperience:c,notification:d}=e;if(!c)return null;const l=ni(Object.assign({name:me},Wt),t,i);return{id:o,display:null===(s=null===(r=n)||void 0===r?void 0:r.notification)||void 0===s?void 0:s.cardName,glyphStart:ii(zt.notificationBell),telemetryTag:ni(Object.assign({name:me},Wt),t,i).getMetadataTag(),childItems:Yt(d,n.notification,l,i),showDivider:a}}function Qt(e,t,i,n,a){var r,s;const{discoverInterests:o,mutedPublishers:c,savedStories:d,readStories:l,tuneFeed:u}=jt.a.sectionIds,{localizedStrings:h,enableMutedPublishersExperience:g,enableSavedStoriesExperience:p,enableReadStoriesExperience:m,enableSidePaneTreeView:f,enableFollowedPublishersExperience:v,enableNotificationExperience:b,enableSageHub:y,childExperienceReferencesWC:S}=e,{discoverTopicsListSectionTitle:T,mutedPublisherSectionHeader:O,savedStoriesSectionHeader:w,readStoriesSectionHeader:C,tuneFeedButtonTitle:I}=h||{},j=ni(Object.assign({name:ee},Wt),i,n),A=ni(Object.assign({name:B},Wt),j,n),k={id:jt.a.sectionIds.followedInterests,display:null==h?void 0:h.followedTopicsListSectionTitle,glyphStart:ii(zt.myinterests),telemetryTag:ni(Object.assign({name:N},Wt),j,n).getMetadataTag()},x={id:o,display:T,glyphStart:ii(zt.discover),childItems:Xt(e,t,A,n),telemetryTag:A.getMetadataTag()};let M=[];return f?(k.showDivider=!0,M=[x,k]):M=[k].concat(x.childItems),v&&M.push({id:jt.a.sectionIds.followedPublishers,display:null==h?void 0:h.followedPublishersSectionTitle,glyphStart:ii(zt.news),telemetryTag:ni(Object.assign({name:J},Wt),j,n).getMetadataTag()}),"Personalize"===a&&(p&&M.push({id:d,display:w,glyphStart:ii(zt.savedstories),showDivider:!0,telemetryTag:ni(Object.assign({name:V},Wt),j,n).getMetadataTag()}),m&&M.push({id:l,display:C,glyphStart:ii(zt.readStories),telemetryTag:ni(Object.assign({name:q},Wt),j,n).getMetadataTag()}),e.feedSettingCards&&M.push({id:jt.a.feedSettingsSectionIds.root,display:null===(r=e.localizedStrings)||void 0===r?void 0:r.feedSettings.heading,glyphStart:Ft,telemetryTag:ni(Object.assign({name:Y},Wt),j,n).getMetadataTag()}),M.push({id:jt.a.sdSettingsSectionIds.root,display:null===(s=e.localizedStrings)||void 0===s?void 0:s.settings.heading,glyphStart:Ht,telemetryTag:ni(Object.assign({name:Q},Wt),j,n).getMetadataTag()})),g&&M.push({id:c,display:O,glyphStart:ii(zt.hiddenpublishers),showDivider:"Personalize"!==a,telemetryTag:ni(Object.assign({name:K},Wt),j,n).getMetadataTag()}),y&&(null==S?void 0:S.coldStartModal)&&M.push({id:u,display:I,glyphStart:ii(zt.arrowsort),glyphEnd:ii(zt.open),telemetryTag:ni({name:se,behavior:D.b.Open,type:D.e.FRE,content:{headline:I}},j,n).getMetadataTag()}),b&&M.push(Kt(e,j,n,this.strings,!0)),{navItems:M,telemetryTag:j.getMetadataTag()}}function Yt(e,t,i,n){var a,r;const s=[{id:qe.c.AllNotifications,display:null===(r=null===(a=null==t?void 0:t.topics)||void 0===a?void 0:a.General)||void 0===r?void 0:r.menuName,glyphStart:ii(zt.notificationGeneral),telemetryTag:ni(Object.assign({name:qe.c.AllNotifications},Wt),i,n).getMetadataTag()}];return(null==e?void 0:e.children)&&e.children.forEach(e=>{var a;s.push({id:e.type,display:(null===(a=t.topics[e.name])||void 0===a?void 0:a.topicName)||"",glyphStart:ii(zt["notification"+e.name]),telemetryTag:ni(Object.assign({name:e.type},Wt),i,n).getMetadataTag()})}),s}function Xt(e,t,i,n){const{iconsMapping:a}=e,{topicListIds:r,topicListMap:s}=t,o=[];if(!r)return o;const c=r.map(e=>{const t=s[e],r=ni(Object.assign({name:t.title},Wt),i,n).getMetadataTag();return{display:t.title,id:e,glyphStart:ii(zt[a[t.title]]),telemetryTag:r}});return o.concat(c)}function ei(e,t,i,n,a,r){const s=[];return i.forEach(i=>{if(e&&e[i]&&ti(t,i)){const e=n[i],o=ni({name:e,type:D.e.Module},a,r).getMetadataTag();s.push({display:ti(t,i),id:e,glyphStart:ii(zt[i.toLowerCase()]),telemetryTag:o})}}),s}function ti(e,t){return e&&e.settingCardDict&&e.settingCardDict[t]&&e.settingCardDict[t].cardName}function ii(e){return e||""}function ni(e,t,i){const n=`${t.contract.name}-${e.name}`;return i[n]||(i[n]=t.addOrUpdateChild(e)),i[n]}var ai=i("FaOE");var ri=i("d0Z1"),si=i("8X6I");let oi=null;class ci extends xt.a{constructor(){super(),this.viewportChangeHandler=e=>{this.useStickyHeaderHeightSmallScreen=this.config.stickyHeaderSmallScreenHeightPx&&(e===n.c1||e===n.c2)},this.handleClick=e=>{var t;if(!this.marketSelectorRef||!(null===(t=this.marketSelectorRef)||void 0===t?void 0:t.select.open))return;const i=e.path.some(e=>e instanceof Node&&this.marketSelectorRef.shadowRoot.contains(e));!this.marketSelectorRef.select.open||i||(this.marketSelectorRef.select.open=!1)},this.mapInterestsData=async()=>{var e;const t=(null===(e=this.context)||void 0===e?void 0:e.pageType)||"Personalize",{interestsRiverData:i,sidePaneLayoutData:n}=this.mapPersonalizeData(t);if(this.interestsData={interestsRiverData:i,interestsPageType:t,sidePaneLayoutData:n,rootTelemetryObject:Object(Tt.a)(this.interestsTelemetryObject)?null:this.interestsTelemetryObject,trackAppErrorEvent:this.onAppError,postCardActionStatus:this.postCardActionStatus,resetNonTopicFetchingStatesCallback:this.resetNonTopicFetchingStatesCallback,getScrollToSection:this.sectionScrollTo&&this.getScrollToSection,updateSegmentCardsEnabledStatus:this.updateSegmentCardsEnabledStatusData,updateFeedSettingsOptOutStatus:this.updateFeedSettingsOptOutStatusData,updateProductivityCardsEnabledStatus:this.updateProductivitySettingsEnableStatusData,getPdpUserPreference:this.getPdpUserPreference,searchData:this.getSearchData()},this.triggerTtvrMarker(t),this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{settings:this.interestsData.interestsRiverData.settings}),this.setInterestsRiverBottomPadding(),this.interestsData&&!1===this.navTreeFocus){await Object(o.a)();const e=this.shadowRoot.querySelector("fluent-tree-item");e&&(e.focus(),this.navTreeFocus=!0)}},this.triggerTtvrMarker=e=>{var t,i,n,a,r,s;const{interestsRiverData:o}=this.interestsData;if(!this.ttvrFired&&o){let c=!1;switch(e){case"MyInterests":c=!(!(null===(i=null===(t=o.discoverSectionData)||void 0===t?void 0:t.topicSections)||void 0===i?void 0:i.length)&&!(null===(a=null===(n=o.followedInterestsSectionData)||void 0===n?void 0:n.followedTopics)||void 0===a?void 0:a.length));break;case"MySaves":c=!!o.savedStoriesSectionData;break;case"History":c=!!o.readStoriesSectionData;break;case"Setting":c=!!(null===(s=null===(r=o.settings)||void 0===r?void 0:r.cards)||void 0===s?void 0:s.length);break;case"Notification":c=!!o.notification;break;default:return void(this.ttvrFired=!0)}c&&(this.setVisuallyReadyMarkers(),this.ttvrFired=!0)}},this.setVisuallyReadyMarkers=()=>{window.requestAnimationFrame(async()=>{Object(Te.n)(P.a.interestsWC),d.b.has(d.a.AboveTheFoldVisuallyReady)||d.b.set(d.a.AboveTheFoldVisuallyReady,P.a.interestsWC);const e=await Object(Pt.a)(E.a.MilestoneData);e&&Fe.a.updateVisuallyReadyTiming.getActionSender(e).send(Object(He.c)(P.a.interestsWC,void 0,void 0,void 0,window.performance.now()))})},this.sidePaneSticky=!1,this.searchBoxSticky=!1,this.useStickyHeaderHeightSmallScreen=!1,this.notificationSettingMap={},this.discoverSectionsToRender=1,this.isUserMsaAuthenticated=!1,this.sectionIds=new Set,this.renderedDiscoverSections=0,this.needToScroll=!1,this.scrollDebounceTimerMs=50,this.navTreeFocus=!1,this.expandedTreeItems={[jt.a.sectionIds.discoverInterests]:!0,[jt.a.sdSettingsSectionIds.root]:!0,[jt.a.feedSettingsSectionIds.root]:!0,[jt.a.productivitySettingsSectionIds.root]:!0,[jt.a.sectionIds.notification]:!0},this.interestsRiverTelemetryObjects={},this.sidePaneLayoutTelemetryObjects={},this.cardActionRef={ref:void 0},this.mutedPublishersChanged=()=>{this.mapInterestsData()},this.followedPublishersChanged=()=>{this.mapInterestsData()},this.savedStoriesChanged=()=>{this.mapInterestsData()},this.readStoriesChanged=()=>{this.mapInterestsData()},this.suggestionsChanged=()=>{this.mapInterestsData()},this.notificationSettingMapChanged=()=>{this.mapInterestsData()},this.onMenuClick=e=>{if(!e.target)return;const t=e.target,i=t.id;gt.a.focusItem(t),this.changeSelectedTreeItem(i),i.indexOf(jt.a.sectionIds.tuneFeed)>=0?this.startColdStartExperience():this.scrollToSection(i),this.sidePaneLayoutContainerRef&&this.sidePaneLayoutContainerRef.clientWidth<=jt.a.sidePaneLayoutResponsiveWidth&&(this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{sidePaneVisible:!1}))},this.startColdStartExperience=()=>{try{Object(dt.a)().getFreArtifacts().then(e=>{e&&e.subCards&&e.subCards.length&&e.stage?(this.freArtifact=e,this.renderColdStart=!0):Object(Oe.b)(we.Ni,"FRE request was made but returned insufficent data to render ColdStart")})}catch(e){Object(Oe.c)(e,we.Ue,"Getting data for the required artifacts failed in interests wc when initializing cold start experience")}},this.coldStartConfirmHandler=()=>{if(this.renderColdStart=!1,this.config.freGoBackToFeed)if(ai.a.getRouteById("myfeed"))ai.a.navigate("myfeed");else{const e=new URL(window.location.href);e.pathname=`/${Object(u.b)().CurrentMarket}/feed/`,window.history.pushState({shouldPush:!0},"",e.toString())}},this.closeColdStart=async()=>{this.renderColdStart=!1,this.freArtifact=null,await this.fetchFollowedPublishers(),await this.fetchTopicsAndUserInterests(),this.mapInterestsData()},this.onExpandedChange=e=>{if(!e.target)return;const t=e.target;this.expandedTreeItems[t.id.replace("menuItem-","")]=t.expanded},this.sidePaneAndSearchBoxScrollHandler=()=>{var e,t,i,n;const a=Math.max(document.documentElement.scrollTop,document.body.scrollTop),r=this.topStickyBreakpoint>=0&&a>this.topStickyBreakpoint,s=this.config.enableStickySearch&&this.topStickyBreakpoint>=0&&a>this.topStickyBreakpoint+jt.a.searchBoxHalfHeight;if(this.sidePaneSticky!==r&&(this.sidePaneSticky=r),this.searchBoxSticky!==s&&(this.searchBoxSticky=s),this.ignoreNextScrollEvent)return void(this.ignoreNextScrollEvent=!1);const o=this.getHeaderBottom();for(const a of this.sectionIds){let r=this.shadowRoot.getElementById(Ne.a.removeHyphens(a));if(a===jt.a.sectionIds.discoverInterests&&(r=(null===(e=this.interestsData.searchData)||void 0===e?void 0:e.enableSearch)?this.searchBoxRef:null===(n=null===(i=null===(t=null==r?void 0:r.shadowRoot)||void 0===t?void 0:t.firstElementChild)||void 0===i?void 0:i.shadowRoot)||void 0===n?void 0:n.firstElementChild),a===jt.a.sectionIds.notification&&(r=null==r?void 0:r.firstElementChild),r&&this.isSectionVisible(r,o))return void this.changeSelectedTreeItem("menuItem-"+a)}},this.sidePaneExpandedHandler=e=>{if(!e.target)return;const t=e.target;this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{sidePaneVisible:null==t?void 0:t.paneVisible})},this.openCardActions=(e,t,i,n)=>{const a=n,s=this.interestsNextState.cardActionStatusMap.get(e)||r.b.enabled,o={enabled:!0,buttonElement:a.currentTarget,cardStatus:s,article:t,onStatusChange:this.setCardActionState,isUserStoryCardAction:!0,parentTelemetryObject:i};this.cardActionRef.ref.updateCardActionProps(o)},this.onCardActionClick=(e,t,i)=>{const n=(this.interestsNextState.cardActionStatusMap.get(e)||r.b.enabled)^r.b.saved;lt.a.sendActionEvent(i.currentTarget,D.a.Click),this.interestsData.postCardActionStatus(i,e,n,t),this.setCardActionState(e,n)},this.setCardActionState=(e,t)=>{const i=this.interestsNextState.cardActionStatusMap;if(i.set(e,t),this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{cardActionStatusMap:i}),t&r.b.saved){const t=this.savedStories&&this.savedStories.filter(t=>t.id===e),i=this.readStories&&this.readStories.filter(t=>t.id===e);this.savedStories=t&&t.length||!i||!i.length?this.savedStories:this.savedStories.concat(i)}},this.onScroll=()=>{var e,t;"MySaves"!==(null===(e=this.interestsData)||void 0===e?void 0:e.interestsPageType)&&"History"!==(null===(t=this.interestsData)||void 0===t?void 0:t.interestsPageType)&&this.sidePaneAndSearchBoxScrollHandler()},this.handleSegmentCardsEnabledSwitchClick=(e=null)=>{lt.a.sendActionEvent(e,D.a.Click),this.updateSegmentCardsEnabledStatus(e.id,e=>!e)},this.setTrafficCardEnabledState=(e,t)=>{this.updateSegmentCardsEnabledStatus("Traffic",t=>e,t)},this.updateProductivitySettingsEnableStatus=e=>{lt.a.sendActionEvent(e,D.a.Click);const t=[],i=this.interestsNextState.settings.productivitySettings;i.cards.forEach(i=>{const n=this.getCardEnabledSettingName(i.cardType);i.cardType===e.id&&(i.toggleChecked=!i.toggleChecked),n&&t.push({cardType:n,enabled:i.toggleChecked})}),t.length>0&&this.interestsData.updateProductivityCardsEnabledStatus&&(async()=>{await this.interestsData.updateProductivityCardsEnabledStatus(t).then(e=>{e&&(this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{settings:Object.assign(Object.assign({},this.interestsNextState.settings),{productivitySettings:i})}),f())})})()},this.updateFeedSettingsOptOutStatus=e=>{lt.a.sendActionEvent(e,D.a.Click);const t=[],i=this.interestsNextState.settings.feedSettings;i.cards.forEach(i=>{const n=this.getOptOutFeedSettingName(i.cardType);i.cardType===e.id&&(i.toggleChecked=!i.toggleChecked),n&&t.push({settingType:n,optedOut:!i.toggleChecked})}),t.length>0&&this.interestsData.updateFeedSettingsOptOutStatus&&(async()=>{await this.interestsData.updateFeedSettingsOptOutStatus(t).then(e=>{e&&(this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{settings:Object.assign(Object.assign({},this.interestsNextState.settings),{feedSettings:i})}),f())})})()},this.updateNotificationSetting=e=>{const t=e.id,i=e.checked;this.notificationSettingMap=Object.assign({},this.notificationSettingMap,{[t]:i}),e.dirtyChecked=!1,(async()=>{await this.notificationServiceClient.updateNotificationSetting({[t]:i})})()},this.getCardEnabledSettingName=e=>e?e.toLowerCase()+"CardEnabled":"",this.getOptOutFeedSettingName=e=>e?e.toLowerCase()+"OptOut":"",this.unmuteDialogToggleCallback=(e,t)=>{this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{publisherOnDialog:t}),document.addEventListener("keydown",this.onTabKeydown),this.calcUnmutedPublishersCardFocus(e,t)},this.onTabKeydown=e=>{"Tab"===e.key&&(e.shiftKey?this.shadowRoot.activeElement&&"actionDialogCloseButton"===this.shadowRoot.activeElement.id&&(e.preventDefault(),this.shadowRoot.getElementById("actionDialogCancelButton").focus()):this.shadowRoot.activeElement&&"actionDialogCancelButton"===this.shadowRoot.activeElement.id&&(e.preventDefault(),this.shadowRoot.getElementById("actionDialogCloseButton").focus()))},this.followPublisherCallback=async(e,t)=>{const{followedPublishersSectionData:i}=this.interestsData.interestsRiverData,{sectionId:n,publisherCards:a}=i,r=e.target,{followed:s,topicId:o,topicTitle:c}=r||{};lt.a.sendActionEvent(e.currentTarget,D.a.Click);const d=null==a?void 0:a.findIndex(e=>e.publisherId===o),l=d>-1&&a[d];l?l.followed=s:t&&s&&a.push({publisherId:o,publisherTitle:c,followed:s,actionButtonAriaLabel:null,actionButtonCallback:null,actionButtonTelemetryTag:null,actionButtonText:null,actionDateLabel:null,imgSrc:r.imgSrc,imgAltText:c}),this.followedPublishers=a;let u=!0;try{await this.publisherServiceClient.publisherUserAction(o,Le.More,s?"POST":"DELETE"),Object(Ze.a)(ze.a.InterestsChange)}catch(e){const t=`Error: ${e&&e.message}, Publisher Id: ${o}, Publisher Name: ${c}`;this.onAppError(s?Object.assign(Object.assign({},we.Yg),{message:"Failed following publisher",pb:Object.assign(Object.assign({},we.Yg.pb),{customMessage:t})}):Object.assign(Object.assign({},we.Zg),{message:"Failed unfollowing publisher",pb:Object.assign(Object.assign({},we.Zg.pb),{customMessage:t})})),u=!1}this.requestInterestToast(o,c,s,u),u||this.restoreTopicCardFollowState(n+"-topic",o,!s)},this.followedClickedHandler=async(e,t,i)=>{var n;const a=e.target,{topicId:r,topicTitle:s}=a||{},{enableSageHub:o}=this.config,{topicMap:c}=this.topicsDataConnector.getCurrentState(),d=c[r],l=Object.keys(c).some(e=>c[e].followState===Ce.a.Followed);let u,h;l||(u=await this.topicsDataConnector.getOneServiceFollowedTopics());try{let e;e=i?o&&(null==d?void 0:d.isInferred)?await this.topicsDataConnector.followTopic(r,s,!0):await this.topicsDataConnector.followTopic(r,s):await this.topicsDataConnector.unfollowTopic(r),this.requestInterestToast(r,s,i,e),l||(delete u[r],this.restoreDefaultFollowedTopics(Object.keys(u))),h=e}catch(e){this.onAppError(i?we.df.InterestsFollowTopicError:we.df.InterestsUnfollowTopicError),h=!1}if(h){this.updateRepeatedTopicCardInstances(r,i);let e=null===(n=this.followedTopics)||void 0===n?void 0:n.find(e=>e.id===r),t=this.topicDataState.topicMap[r];if(!t&&s){const e=Object.entries(this.topicDataState.topicMap).find(e=>e[1].name===s);t=e&&e.length>1&&e[1]}r||e||(e=this.followedTopics.find(e=>e.name===s),e&&(e.id=t.id)),e?e.followState=i?Ce.a.Followed:Ce.a.Unfollowed:i&&this.followedTopics.push(Object.assign(Object.assign({},t),{followState:i?Ce.a.Followed:Ce.a.Unfollowed}))}else this.restoreTopicCardFollowState(t,r,!i);this.mapInterestsData()},this.restoreFollowedInterestsButtonClickedHandler=async()=>{await this.topicsDataConnector.restoreDefaultTopics(),this.mapInterestsData()},this.topicSelectedHandler=e=>{const t=e.target,{topicId:i}=t||{};this.loadXFeedCallback(i)},this.loadXFeedCallback=e=>{var t,i,n;const a=this.topicsDataConnector.getCurrentState().topicMap[e],{xfeedConfigIndexHref:r,xfeedConfigIndexRef:s}=this.config;(r||s)&&Object(Lt.a)().switchPivot({pivotId:e,configIndexHref:r,configIndexRef:s,context:{feedId:e,overwriteBaseApiURL:null===(t=a.apiSource)||void 0===t?void 0:t.baseUrl,forceEnterpriseCompliance:(null===(i=a.apiSource)||void 0===i?void 0:i.id)===Ie.a.work,apiSourceId:null===(n=a.apiSource)||void 0===n?void 0:n.id},telemetryPageName:"Xfeed",display:a.name,branding:a.branding})},this.onAppError=e=>lt.a.sendAppErrorEvent(e),this.fetchTopicsAndUserInterests=async()=>{const{topicListIds:e,followedTopicIds:t,recommendedTopics:i}=this.topicDataState||{},{enableRecommendedTopics:n}=this.config;return!(!(null==e?void 0:e.length)&&!await this.topicsDataConnector.getTopics(jt.a.ImageSize.TopicCardImageStandardDimensions))&&(!(!t.length&&!await this.topicsDataConnector.getFollowedTopics())&&(n&&!i.length&&await this.topicsDataConnector.getRecommendedTopics(),this.topicsAndInterestsLoaded=!0,this.mapInterestsData(),!0))},this.fetchFollowedPublishers=async()=>{this.publisherServiceClient=this.publisherServiceClient||new it(window.fetch.bind(window));try{const e=await this.publisherServiceClient.getUserFollowedPublishers();this.followedPublishers=e.map(e=>Object.assign(Object.assign({},this.mapPublisher(e)),{followed:!0}))}catch(e){this.onAppError(Object.assign(Object.assign({},we.ef),{message:"Failed fetching followed publishers"}))}},this.fetchMutedPublishers=async()=>{this.publisherServiceClient=this.publisherServiceClient||new it(window.fetch.bind(window));try{const e=await this.publisherServiceClient.getUserMutedPublishers();this.mutedPublishersLoaded=!0,this.mutedPublishers!==e&&(this.mutedPublishers=e)}catch(e){this.onAppError(we.df.InterestsRetrieveMutedPublishersError),this.mutedPublishersError=!0,this.mutedPublishersLoaded=!0,this.mutedPublishers=[]}},this.fetchSavedStories=async()=>{let e;this.userStoriesServiceClient=this.userStoriesServiceClient||new bt(this.config.cardProviderConfig);try{e=await this.userStoriesServiceClient.getUserStoriesFromFeed(mt.SavedContent,!0),this.savedStoriesLoaded=!0}catch(e){return this.onAppError(we.df.InterestsRetrieveSavedStoriesError),!1}return this.savedStories=null==e?void 0:e.cardMetadata,!!(e&&e.cardMetadata&&e.cardMetadata.length)},this.fetchNotificationSetting=async()=>{const e=async()=>{var e;this.notificationServiceClient=this.notificationServiceClient||new qe.b;const t=await this.notificationServiceClient.getNotificationSetting();if(!t&&!t.featureLevelSettings)return void this.onAppError(Object.assign(Object.assign({},we.Uf.WCSettingFetchError),{message:"Error while fetching notification settings, response data is null: "+JSON.stringify(t)}));const i={};for(const e in qe.c)i[e]=!0;for(const n in t.featureLevelSettings)i[n]=null===(e=t.featureLevelSettings[n])||void 0===e?void 0:e.isConsumptionAllowed;this.notificationSettingMap=i};e(),oi=oi||e},this.fetchReadStories=async()=>{let e;this.userStoriesServiceClient=this.userStoriesServiceClient||new bt(this.config.cardProviderConfig);try{e=await this.userStoriesServiceClient.getUserStoriesFromFeed(mt.ReadHistory,!0),this.readStoriesLoaded=!0}catch(e){return this.onAppError(we.df.InterestsRetrieveReadStoriesError),!1}return this.readStories=null==e?void 0:e.cardMetadata,!!(e&&e.cardMetadata&&e.cardMetadata.length)},this.mapSettingCardsData=()=>{var e;const{localizedStrings:t}=this.config;return{heading:(null===(e=null==t?void 0:t.settings)||void 0===e?void 0:e.heading)||"",cards:this.settingCards||this.initializeSettingCards(),sectionId:Ne.a.removeHyphens(jt.a.sdSettingsSectionIds.root),emptyListMessage:this.settingLoaded?null==t?void 0:t.informationCardEmptyListMessage:null==t?void 0:t.sectionLoadingMessage,feedSettings:this.mapFeedSettingCardsData(),productivitySettings:this.mapProductivitySettingCardsData()}},this.mapFeedSettingCardsData=()=>{if(!this.config.feedSettingCards)return;return{heading:this.strings.feedSettings&&this.strings.feedSettings.heading||"",cards:this.feedSettingCards||this.initializeFeedSettingCards(),sectionId:Ne.a.removeHyphens(jt.a.feedSettingsSectionIds.root),emptyListMessage:this.settingLoaded?this.strings.feedSettingsEmptyListMessage:this.strings.sectionLoadingMessage}},this.fetchTrafficCardLocations=async()=>{const e=await k.a.readPdpWithTargetType(x.a.Traffic);return e&&e.value?e.value:null},this.mapProductivitySettingCardsData=()=>{if(!this.config.productivitySettingCards)return;return{heading:this.strings.productivitySettings&&this.strings.productivitySettings.heading||"",cards:this.productivitySettingCards||this.initializeProductivitySettingCards(),sectionId:Ne.a.removeHyphens(jt.a.productivitySettingsSectionIds.root),emptyListMessage:this.settingLoaded?this.strings.productivitySettingsEmptyListMessage:this.strings.sectionLoadingMessage}},this.fetchUserPreferences=async()=>{const e=this.initializeSettingCards(),t=this.initializeProductivitySettingCards(),i=this.initializeFeedSettingCards(),n=Object(M.k)(),{segmentCardSettings:a,productivitySettings:r,communitySettings:s,userSettings:o}=await this.getPdpUserPreference();this.settingLoaded=!0,a&&(e.forEach(e=>{if("TopStories"===e.cardType)Object.prototype.hasOwnProperty.call(o,jt.a.TopStoriesEnabledId)&&(e.toggleChecked="1"===o[jt.a.TopStoriesEnabledId]);else{const t=this.getCardEnabledSettingName(e.cardType);t&&Object.prototype.hasOwnProperty.call(a,t)&&(e.toggleChecked="1"===a[t])}}),this.settingCards=e),r&&(t.forEach(e=>{const t=this.getCardEnabledSettingName(e.cardType);if(t&&Object.prototype.hasOwnProperty.call(r,t)){const i=r[t];e.toggleChecked="0"===i}}),this.productivitySettingCards=t),s&&(i.forEach(e=>{const t=this.getOptOutFeedSettingName(e.cardType);if(t&&Object.prototype.hasOwnProperty.call(s,t)){const i=s[t];e.toggleChecked="0"===i}}),this.feedSettingCards=i),this.config.displayCommuteOptions&&(this.commuteLocations=await n,this.userSettings=o),this.mapInterestsData()},this.initializeSettingCards=()=>this.initializeSettingCardsForSection(this.config.sdSettingCards,this.strings.settings,jt.a.SdSettingsOrder,jt.a.sdSettingsSectionIds),this.initializeProductivitySettingCards=()=>this.initializeSettingCardsForSection(this.config.productivitySettingCards,this.strings.productivitySettings,jt.a.ProductivitySettingsOrder,jt.a.productivitySettingsSectionIds),this.initializeFeedSettingCards=()=>this.initializeSettingCardsForSection(this.config.feedSettingCards,this.strings.feedSettings,jt.a.FeedSettingsOrder,jt.a.feedSettingsSectionIds),this.initializeSettingCardsForSection=(e,t,i,n)=>{const a=[];if(e&&t){const{settingCardDict:r={}}=t;i.forEach(t=>{e[t]&&a.push(Object.assign(Object.assign({},r[t]),{id:Ne.a.removeHyphens(n[t]),cardType:t,toggleChecked:!0}))})}return a},this.updateDiscoverSectionsToRender=()=>{var e,t;const i=null===(t=null===(e=this.interestsData.interestsRiverData.discoverSectionData)||void 0===e?void 0:e.topicSections)||void 0===t?void 0:t.length;if(!i||i===this.renderedDiscoverSections||!this.lastRenderedDiscoverSectionId)return void this.handleInitialScroll();const n=this.shadowRoot.getElementById(this.lastRenderedDiscoverSectionId),{bottom:a}=n.getBoundingClientRect();a>(window.innerHeight||document.documentElement.clientHeight)?this.discoverSectionsToRender=i:this.discoverSectionsToRender=this.discoverSectionsToRender+1},this.unmutePublisherClickHandler=async e=>{try{return await this.publisherServiceClient.publisherUserAction(e,Le.Mute,"DELETE"),this.mutedPublishers=this.mutedPublishers.filter(t=>t.id!==e),!0}catch(e){return this.onAppError(we.df.InterestsUnMutePublisherError),!1}},this.onInputChange=async e=>{var t,i,n,a;this.interestsSearchServiceClient=this.interestsSearchServiceClient||new je.a(window.fetch.bind(window),this.onAppError);let r=(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)||(null===(a=null===(n=null===(i=null==e?void 0:e.detail)||void 0===i?void 0:i.event)||void 0===n?void 0:n.target)||void 0===a?void 0:a.value);if(r=r&&r.replace(/[[@^_=;\]&/\\#,+()$~%.'":*?!<>{}]/g," ").trim(),!r)return void(this.suggestions=[]);const s=await this.interestsSearchServiceClient.getSuggestedInterests(encodeURIComponent(r),jt.a.maxNumberOfResults,this.config.searchSuggestionSourceType)||[];(null==s?void 0:s.some(e=>e.displayText.toLowerCase()===r.trim().toLowerCase()))||s.unshift({displayText:r,name:r,type:Ae.a.UserQuery});const o=s.slice(0,jt.a.maxNumberOfResults).map(e=>this.mapSuggestionItemToTopicListboxData(e));this.suggestions=o},this.postCardActionStatus=(e,t,i,n)=>{Object(s.a)().PostCardActionEvent(i,n,t,void 0,null,null,!0,null==e?void 0:e.target)},this.resetNonTopicFetchingStatesCallback=()=>{this.mutedPublishersLoaded=!1,this.readStoriesLoaded=!1,this.savedStoriesLoaded=!1,this.settingLoaded=!1},this.getScrollToSection=()=>{const{savedStories:e,mutedPublishers:t}=jt.a.sectionIds;if(this.sectionScrollTo===t){if(this.mutedPublishersLoaded)return this.sectionScrollTo=void 0,t}else if(this.sectionScrollTo===e&&this.savedStoriesLoaded)return this.sectionScrollTo=void 0,e;return null},this.updateSegmentCardsEnabledStatusData=async(e,t)=>{let i=!1;try{i=await k.a.updateSegmentCardsEnableStatus(e,t)}catch(e){Object(Oe.c)(e,we.rc,"User settings update failed"),i=!1}return i},this.updateFeedSettingsOptOutStatusData=async e=>{let t=!1;try{t=await k.a.updateCommunitySettingsOptOutStatus(e)}catch(e){Object(Oe.c)(e,we.pc,"User feed settings update failed"),t=!1}return t},this.updateProductivitySettingsEnableStatusData=async e=>{let t=!1;try{t=await k.a.updateProductivityCardsEnableStatus(e)}catch(e){Object(Oe.c)(e,we.qc,"User productivity settings update failed"),t=!1}return t},this.getPdpUserPreference=async()=>{var e;const t=await k.a.getPdpUserPreference(),i={};if((null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.length)>0){try{i.segmentCardSettings=JSON.parse(t.value[0].segmentCardSettings)}catch(e){this.onAppError(Object.assign(Object.assign({},we.Dh),{message:"Invalid JSON format for segmentCard settings",pb:Object.assign(Object.assign({},we.Dh),{customMessage:`Error: ${JSON.stringify(e)}. User settings: ${t.value[0].segmentCardSettings}`})}))}i.communitySettings=t.value[0].communitySettings,i.userSettings=t.value[0].userSettings,i.productivitySettings=t.value[0].productivitySettings}return i},this.marketUpdatedCallback=e=>{k.a.updateMarketPreference(e).then(()=>{Object(p.c)("ntps",void 0,-1),Object(p.c)("ntps",JSON.stringify({m:e}),182,u.a.HostPage.topDomain,"/"),Promise.all([l.b.purgeCacheAsync(l.a.base),l.b.purgeCacheAsync(l.a.followedTopics)]).then(()=>{ai.a.updateMarket(e)})})},this.getBackgroundColor=()=>this.isDarkMode?c.a:c.c,this.backgroundColorChangeHandler=()=>{this.isDarkMode=Object(c.e)(),this.backgroundColors={pageBackground:this.getBackgroundColor(),coldStartBackground:"--cold-start-background: "+(this.isDarkMode?Dt.b.DarkMode:Dt.b.LightMode)}},this.getSportsSettings=async()=>{ot.a.getDislikeSportsEntities(e=>{this.sportsDislikes=e,this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{settings:this.interestsNextState.settings})})},j()}experienceConnected(){var e,t,i;try{if(this.interestsNextState={cardActionStatusMap:new Map,publisherOnDialog:null,settings:null!==(i=null===(t=null===(e=this.interestsData)||void 0===e?void 0:e.interestsRiverData)||void 0===t?void 0:t.settings)&&void 0!==i?i:null,sidePaneVisible:!0},this.context)switch(this.context.pageType){case"MyInterests":this.dataInitializer=new ke("MyInterests");break;case"MySaves":this.dataInitializer=new xe;break;case"History":this.dataInitializer=new Me;break;case"Setting":this.dataInitializer=new Pe;break;case"Notification":this.dataInitializer=new Ee;break;default:this.dataInitializer=new ke}else this.dataInitializer=new ke;this.loadAndSubscribeInterestsDataConnector(),this.toast=this.config.childExperienceReferencesWC[String("toastWC")],this.scrollHandler=Object(Ot.a)(this.onScroll,this.scrollDebounceTimerMs),this.config.useFluentDesignSystem?this.backgroundColorChangeHandler():Object(ri.c)(E.a.ChromiumPageSettings,()=>{this.isDarkMode=Object(c.e)()})}catch(e){this.onAppError(Object.assign(Object.assign({},we.df.UndefinedTopicDataConnector),{message:"Uncaught error occurred in InterestsWC"+e}))}Object(Be.b)("navBar",e=>{this.onTranslucentBackgroundClass="translucentBackground"===e?"translucentBackground":""}),this.getSportsSettings(),this.isUserMsaAuthenticated=Object(Rt.a)(),this.trafficAutosuggestClient=Object(Re.a)(this.config&&this.config.autoSuggestConfig)}shadowDomPopulated(){var e,t,i,n;d.b.subscribe(d.a.ColumnArrangement,this.viewportChangeHandler);const a=d.b.get(d.a.ColumnArrangement);this.viewportChangeHandler(a),Object(Ct.c)(e=>{this.topStickyBreakpoint=e}),this.topStickyBreakpoint=Ct.e||0;const{sectionIds:{mutedPublishers:r},publishersHash:s}=jt.a;this.needToScroll=!!((null===(e=this.context)||void 0===e?void 0:e.isRequestFromSdCardAddRemoveClick)||(null===(t=this.context)||void 0===t?void 0:t.isRequestFromSavedStoryToast)||(null===(i=this.context)||void 0===i?void 0:i.isRequestFromMutePublisherToast)||0===Object(Et.g)().indexOf(s)||0===Object(Et.g)().indexOf("#"+r)||(null===(n=this.context)||void 0===n?void 0:n.isRequestForReadingHistory)),addEventListener("scroll",this.scrollHandler),addEventListener("resize",this.scrollHandler),addEventListener("mouseup",this.handleClick),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.backgroundColorChangeHandler)}disconnectedCallback(){d.b.unsubscribe(d.a.ColumnArrangement,this.viewportChangeHandler),removeEventListener("scroll",this.scrollHandler),removeEventListener("resize",this.scrollHandler),removeEventListener("mouseup",this.handleClick),window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.backgroundColorChangeHandler)}getExperienceType(){return P.a.interestsWC}async loadAndSubscribeInterestsDataConnector(){this.topicsDataConnector=await Object(Pt.a)(E.a.TopicData),this.topicsDataConnector||this.onAppError(Object.assign(Object.assign({},we.df.UndefinedTopicDataConnector),{message:"Topic Data Connector is not defined."})),this.interestsTelemetryObject=new R.a({name:U,type:D.e.Module}),this.interestsTelemetry=new fe(this.interestsTelemetryObject),Object(ri.c)(E.a.TopicData,e=>{this.topicDataState=e}),await this.dataInitializer.initializeData(this)}mapPersonalizeData(e){const{enableMutedPublishersExperience:t,enableSavedStoriesExperience:i,enableReadStoriesExperience:n,enableFollowedPublishersExperience:a,enableSageHub:r,enableNotificationExperience:s}=this.config;let o,c;const d=Gt.bind(this);switch(e){case"MyInterests":o={followedInterestsSectionData:this.mapFollowedInterestsProps(this.topicDataState),followedPublishersSectionData:a&&this.mapFollowedPublisherCardProps(),discoverSectionData:this.mapDiscoverInterestsProps(this.topicDataState),mutedPublisherSectionData:t&&this.mapMutedPublisherCardProps(),enableSageHub:r},c=d(this.config,this.topicDataState,this.interestsTelemetryObject,this.sidePaneLayoutTelemetryObjects,e);break;case"History":o={readStoriesSectionData:n&&this.mapReadStoriesCardProps(),enableSageHub:r};break;case"MySaves":o={savedStoriesSectionData:i&&this.mapSavedStoriesCardProps(),enableSageHub:r};break;case"Setting":o={settings:Object.assign(Object.assign({},this.mapSettingCardsData()),{marketSettings:{sectionId:Ne.a.removeHyphens(jt.a.sdSettingsSectionIds.Market),heading:this.config.localizedStrings.marketSettingsHeading,description:this.config.localizedStrings.marketSettingsDescription}}),enableSageHub:r},c=d(this.config,this.topicDataState,this.interestsTelemetryObject,this.sidePaneLayoutTelemetryObjects,e);break;case"Notification":o={notification:s},c=d(this.config,this.topicDataState,this.interestsTelemetryObject,this.sidePaneLayoutTelemetryObjects,e);break;default:o={followedInterestsSectionData:this.mapFollowedInterestsProps(this.topicDataState),followedPublishersSectionData:a&&this.mapFollowedPublisherCardProps(),discoverSectionData:this.mapDiscoverInterestsProps(this.topicDataState),mutedPublisherSectionData:t&&this.mapMutedPublisherCardProps(),savedStoriesSectionData:i&&this.mapSavedStoriesCardProps(),readStoriesSectionData:n&&this.mapReadStoriesCardProps(),settings:this.mapSettingCardsData(),notification:s,enableSageHub:r},c=d(this.config,this.topicDataState,this.interestsTelemetryObject,this.sidePaneLayoutTelemetryObjects,e)}return{interestsRiverData:o,sidePaneLayoutData:c}}get sidePaneLayoutStyle(){if(!this.interestsData)return null;let e="--side-pane-min-width: "+jt.a.sidePaneWidth;return this.isDarkMode&&(e+="; --discover-interests-header-background: radial-gradient(100% 194% at 100% 0%, #2B3033 0%, #2B2E33 16%, #332B30 32%, #33292F 50%, #332B30 64%, #2B2C33 82%, #2D3238 100%, #2B2F33 100%)"),this.sidePaneSticky&&(e+=`; --navigation-pane-wrapper-sticky-top: ${this.getHeaderBottom()}px`),this.backgroundColors&&(e+="; --search-background:"+(this.isDarkMode?this.backgroundColors.pageBackground:c.f)),e}get sidePaneHeaderElement(){return this.interestsNextState.sidePaneVisible?It.a:'<svg width="17" height="23" viewBox="0 0 17 23"><path d="M0 0h17v22.67H0V0Zm15.58 21.25V1.42H1.42v19.83h14.16Zm-1.41-17v1.42h-8.5V4.25h8.5ZM12.75 8.5v1.42H5.67V8.5h7.08Zm-2.83 4.25v1.42H5.67v-1.42h4.25ZM14.17 17v1.42h-8.5V17h8.5ZM4.25 4.25v1.42H2.83V4.25h1.42Zm0 4.25v1.42H2.83V8.5h1.42Zm0 4.25v1.42H2.83v-1.42h1.42Zm0 4.25v1.42H2.83V17h1.42Z"/></svg>'}get sidePaneMenuElement(){if(!this.interestsData)return null;const{sidePaneLayoutData:e,interestsRiverData:t,getScrollToSection:i,interestsPageType:n}=this.interestsData;if(!e||!e.sidePaneTreeViewData||!e.sidePaneTreeViewData.navItems)return null;this.selectedNavId||(this.selectedNavId=i?i(t):jt.a.defaultSelectedSection[n]);const a=`width: ${jt.a.sidePaneWidth}; overflow-y: auto; max-height: calc(100vh - ${this.getHeaderBottom()}px - 60px)`,r=e.sidePaneTreeViewData.navItems.map(e=>this.getMenuItem(e));return{styles:a,selectedChange:this.onMenuClick,expandedChange:this.onExpandedChange,interestMenuItem:null,menuItems:r,telemetryTag:e.sidePaneTreeViewData.telemetryTag,enableSidePaneTreeView:this.config.enableSidePaneTreeView}}getMenuItem(e){let t,i;(this.config.enableSearch||e.id!==jt.a.sectionIds.discoverInterests)&&this.sectionIds.add(e.id),e.childItems&&(t=e.childItems.map(e=>this.getMenuItem(e)),i=this.expandedTreeItems[e.id]);const n={selected:this.selectedNavId===e.id,"aria-current":this.selectedNavId===e.id};return{id:"menuItem-"+e.id,selected:n.selected,expanded:i,display:e.display,glyphStart:e.glyphStart,glyphEnd:e.glyphEnd,menuItems:t,telemetryTag:e.telemetryTag,showDivider:e.showDivider,nestedClass:this.config.enableSidePaneTreeView}}handleInitialScroll(){var e,t,i,n,a,r,s,o;let c;const{sdSettingsSectionIds:d,sectionIds:{savedStories:l,mutedPublishers:u,readStories:h,notification:g,followedInterests:p},publishersHash:m}=jt.a;(null===(e=this.context)||void 0===e?void 0:e.isRequestFromSdCardAddRemoveClick)?c=d.root:(null===(t=this.context)||void 0===t?void 0:t.isRequestFromSavedStoryToast)?c=l:(null===(i=this.context)||void 0===i?void 0:i.isRequestFromMutePublisherToast)||0===Object(Et.g)().indexOf(m)||0===Object(Et.g)().indexOf("#"+u)?c=u:(null===(n=this.context)||void 0===n?void 0:n.isRequestForReadingHistory)?c=h:(null===(a=this.context)||void 0===a?void 0:a.scrollToSection)?c=null===(r=this.context)||void 0===r?void 0:r.scrollToSection:(null===(s=this.context)||void 0===s?void 0:s.scrollToNotification)?c=g:(null===(o=this.context)||void 0===o?void 0:o.scrollToFollowedInterests)&&(c=p),this.shadowRoot.getElementById(Ne.a.removeHyphens(c))&&(this.changeSelectedTreeItem("menuItem-"+c),this.scrollToSection(c)),this.needToScroll=!1}scrollToSection(e){let t=0;if(e!=="menuItem-"+jt.a.sectionIds.discoverInterests){const i=e.replace("menuItem-",""),n=Ne.a.removeHyphens(i),a=this.shadowRoot.getElementById(n),r=this.useStickyHeaderHeightSmallScreen?this.config.stickyHeaderSmallScreenHeightPx:this.config.stickyHeaderHeightPx;if(t=a.getBoundingClientRect().top+window.pageYOffset-r-jt.a.sectionVisibilityBufferPx,this.searchBoxRef&&this.config.enableStickySearch){const e=d.b.get(d.a.ColumnArrangement);this.useStickyHeaderHeightSmallScreen?t-=jt.a.stickySearchHeights[e]:t-=jt.a.stickySearchHeights.default}}this.ignoreNextScrollEvent=!0,window.scrollTo({left:0,top:t})}changeSelectedTreeItem(e){const t=this.shadowRoot.getElementById("menuItem-"+this.selectedNavId),i=this.shadowRoot.getElementById(e);t&&(t.selected=!1,t.ariaCurrent="false"),i&&(i.selected=!0,i.ariaCurrent="true",this.selectedNavId=i.id.replace("menuItem-",""),i.parentElement.tagName===jt.a.treeItemTag&&(i.parentElement.expanded=!0)),this.sidePaneLayoutRef&&(this.sidePaneLayoutRef.currentSelected=i)}getHeaderBottom(){let e;e=this.useStickyHeaderHeightSmallScreen?this.config.stickyHeaderSmallScreenHeightPx:this.config.stickyHeaderHeightPx||jt.a.defaultStickyHeaderHeightPx;const t=document.getElementById("bnb");if(t){const i=t.getBoundingClientRect().bottom;e=Math.max(i,e)}return this.config.enableOneColumn&&d.b.get(d.a.ColumnArrangement)===n.c1&&(e=jt.a.oneColumnStickyHeaderHeightPx),e}isSectionVisible(e,t){const i=e.getBoundingClientRect(),n=this.searchBoxRef&&this.searchBoxSticky?jt.a.stickySearchHeights.default:0;return Math.floor(i.bottom)>t+jt.a.sectionVisibilityBufferPx+n}get followedInterestsSectionElement(){if(!this.interestsData||!this.interestsData.interestsRiverData||!this.interestsData.interestsRiverData.followedInterestsSectionData)return null;const{emptyStateCardTitle:e,sectionTitle:t,sectionSubTitle:i,sectionId:n,followedTopics:a,resetFollowedInterestsActionText:r,moreOptionsAriaLabel:s}=this.interestsData.interestsRiverData.followedInterestsSectionData,o=this.mapTopicsSectionProps(a,n+"-topic",this.interestsTelemetry.followedInterestsSectionTelemetryObject,this.interestsTelemetry.followedInterestsSectionTelemetryTag);return{id:n,description:i,heading:t,enableSageHub:!1,emptyStateCardTitle:e,topicsSection:{id:n+"-topic",topics:o.topics,followedClickedHandler:o.followedClickedHandler,topicSelectedHandler:o.topicSelectedHandler,topicsSectionTelemetryTag:o.topicsSectionTelemetryTag},moreOptionsAriaLabel:this.config.enableDefaultInterests?s:"",restoreFollowedInterestsActionText:this.config.enableDefaultInterests?r:"",restoreFollowedInterestsButtonClickedHandler:()=>this.restoreFollowedInterestsButtonClickedHandler()}}get followedPublishersSectionElement(){if(!this.interestsData||!this.interestsData.interestsRiverData||!this.interestsData.interestsRiverData.followedPublishersSectionData)return null;const{emptyStateCardTitle:e,sectionTitle:t,sectionSubTitle:i,sectionId:n,publisherCards:a}=this.interestsData.interestsRiverData.followedPublishersSectionData,r=this.mapFollowedPublishersSectionProps(a,this.interestsTelemetry.followedPublishersSectionTelemetryObject,this.interestsTelemetry.followedPublishersSectionTelemetryTag);return{id:n,description:i,heading:t,enableSageHub:!1,emptyStateCardTitle:e,topicsSection:{id:n+"-topic",topics:r.topics,followedClickedHandler:r.followedClickedHandler,topicSelectedHandler:r.topicSelectedHandler,topicsSectionTelemetryTag:r.topicsSectionTelemetryTag}}}get discoverInterestsRiverElement(){if(!this.interestsData||!this.interestsData.interestsRiverData||!this.interestsData.interestsRiverData.discoverSectionData)return null;const{sectionTitle:e,sectionSubTitle:t,sectionId:i,topicSections:n}=this.interestsData.interestsRiverData.discoverSectionData,{enableSearch:a,placeHolderText:r,suggestionItems:s}=this.interestsData.searchData||{},{localizedStrings:o}=this.config;this.needToScroll?this.renderedDiscoverSections=(null==n?void 0:n.length)||0:this.renderedDiscoverSections=Math.max(Math.min(this.discoverSectionsToRender,(null==n?void 0:n.length)||0),this.renderedDiscoverSections);const c=[];for(let e=0;e<this.renderedDiscoverSections;e++){const{id:t,title:i,topics:a,emptyStateCardTitle:r}=n[e],s=this.mapTopicsSectionProps(a,t,this.interestsTelemetry.topicsSectionTelemetryObject(i),this.interestsTelemetry.topicsSectionTelemetryTag(i),this.renderedDiscoverSections-1===e);c.push({id:t,sectionTitle:i,topics:s.topics,emptyStateCardTitle:null!=r?r:"",followedClickedHandler:s.followedClickedHandler,topicSelectedHandler:s.topicSelectedHandler,topicsSectionTelemetryTag:s.topicsSectionTelemetryTag}),this.lastRenderedDiscoverSectionId=t}const d={placeholder:r,handleFollowStateChange:e=>{e.target.type===jt.a.provideNameTag?this.followPublisherCallback(e,!0):this.followedClickedHandler(e,i,e.target.followed)},inputChange:this.onInputChange,glyphType:'<svg width="15" height="15" viewBox="0 0 16 16" class="icon_inline-DS-EntryPoint1-1"><path d="M10.5 0a5.43 5.43 0 0 1 4.75 2.73 5.43 5.43 0 0 1 0 5.54A5.6 5.6 0 0 1 10.5 11a5.42 5.42 0 0 1-3.52-1.27L.85 15.85c-.1.1-.21.15-.35.15a.48.48 0 0 1-.35-.15.48.48 0 0 1-.15-.35c0-.14.05-.25.15-.35l6.12-6.13A5.63 5.63 0 0 1 5 5.5 5.43 5.43 0 0 1 7.73.75 5.43 5.43 0 0 1 10.5 0Zm0 10a4.4 4.4 0 0 0 3.18-1.32 4.52 4.52 0 0 0-1.43-7.32 4.31 4.31 0 0 0-3.5 0 4.51 4.51 0 0 0-2.4 5.89 4.62 4.62 0 0 0 2.4 2.4 4.4 4.4 0 0 0 1.75.35Z"/></svg>',telemetryTag:this.interestsTelemetry.interestsSearchBoxTelemetryTag,telemtryObject:this.interestsTelemetry.interestsSearchBoxTelemetryObject},l=s&&s.map(e=>{var t;let i;return this.config.searchSuggestionSourceType.indexOf(jt.a.provideNameTag)>-1&&(i=(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())===jt.a.provideNameTag?o.interestsSearchTopicTypeAsPublisher:o.interestsSearchTopicTypeAsInterest),{topicCardData:e,topicType:i}});return{id:i,description:t,heading:e,enableSearch:a,topicSections:c,interestsSearch:d,suggestionItems:l}}get unmuteDialogElement(){if(!this.interestsData||!this.interestsNextState.publisherOnDialog)return null;const{interestsRiverData:{mutedPublisherSectionData:{unmuteData:e,unmutePublisherCallback:t}}}=this.interestsData,{unmuteDialogData:i}=e,{publisherOnDialog:n}=this.interestsNextState,a=new ye(this.interestsTelemetry.hiddenPublishersSectionTelemetryObject,this.interestsRiverTelemetryObjects,i.localizedStrings.actionButtonText,i.localizedStrings.cancelButtonText);return{actionButtonTelemetryTag:null==a?void 0:a.actionButtonTelemetryTag,cancelButtonTelemetryTag:null==a?void 0:a.cancelButtonTelemetryTag,closeButtonTelemetryTag:null==a?void 0:a.closeButtonTelemetryTag,telemetryTag:null==a?void 0:a.dialogTelemetryTag,actionButtonCallback:()=>{t(n.publisherId).then(e=>{e?(this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{publisherOnDialog:null}),this.confirmHiddenFocusElement.tagName.toLocaleLowerCase()===jt.a.FluentTreeItemTagName?gt.a.focusItem(this.confirmHiddenFocusElement):this.confirmHiddenFocusElement.focus()):this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{publisherOnDialog:null}),document.removeEventListener("keydown",this.onTabKeydown)})},cancelButtonCallback:e=>this.unmuteDialogToggleCallback(e),localizedStrings:Object.assign(Object.assign({},i.localizedStrings),{dialogHeadline:i.localizedStrings.dialogHeadline.replace("${publisher}",n.publisherTitle)}),actionDialogDismiss:()=>{this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{publisherOnDialog:null}),this.cancelHiddenFocusElement.focus(),document.removeEventListener("keydown",this.onTabKeydown)}}}get unmuteDialogBodyElement(){if(!this.interestsData||!this.interestsNextState.publisherOnDialog)return null;const{interestsRiverData:{mutedPublisherSectionData:{unmuteData:e}}}=this.interestsData,{publisherOnDialog:{imgSrc:t,publisherTitle:i}}=this.interestsNextState,n=`<b key="provider-name">${i}</b>`;return{imgSrc:t,providerContent:Object($e.a)(e.dialogContent,[n])}}get hiddenPublishersSectionElement(){if(!this.interestsData||!this.interestsData.interestsRiverData||!this.interestsData.interestsRiverData.mutedPublisherSectionData)return null;const{enableSageHub:e,mutedPublisherSectionData:t}=this.interestsData.interestsRiverData,{sectionTitle:i,publisherCards:n,emptyListMessage:a,emptyStateCardTitle:r,sectionId:s}=t,o=n;return{id:s,description:(null==o?void 0:o.length)?null:a,heading:i,emptyStateCardTitle:r,enableSageHub:e,publishers:this.mapPublishersData(o)}}get savedStoriesSectionElement(){if(!this.interestsData||!this.interestsData.interestsRiverData||!this.interestsData.interestsRiverData.savedStoriesSectionData)return null;try{const{emptyListMessage:e,sectionTitle:t,cards:i}=this.interestsData.interestsRiverData.savedStoriesSectionData,{sectionIds:{savedStories:n}}=jt.a,a=n;let r=[];return i&&(this.mapCardActionStatuses(i),r=i.map(e=>this.getContentCard(e,this.interestsTelemetry.savedStoriesSectionTelemetryObject))),{sectionId:Ne.a.removeHyphens(a),sectionTitle:t,emptyListMessage:e,cardProps:r}}catch(e){this.fireUncaughtSectionError(jt.a.sectionIds.savedStories,e);const{savedStoriesSectionHeader:t,errorMessageHeading:i}=this.config.localizedStrings;return{sectionId:jt.a.sectionIds.savedStories,sectionTitle:t,emptyListMessage:i,cardProps:[]}}}get readStoriesSectionElement(){if(!this.interestsData||!this.interestsData.interestsRiverData||!this.interestsData.interestsRiverData.readStoriesSectionData)return null;try{const{emptyListMessage:e,sectionTitle:t,cards:i}=this.interestsData.interestsRiverData.readStoriesSectionData,{sectionIds:{readStories:n}}=jt.a,a=n;let r=[];return i&&(this.mapCardActionStatuses(i),r=i.map(e=>this.getContentCard(e,this.interestsTelemetry.readStoriesSectionTelemetryObject))),{sectionId:Ne.a.removeHyphens(a),sectionTitle:t,emptyListMessage:e,cardProps:r}}catch(e){this.fireUncaughtSectionError(jt.a.sectionIds.readStories,e);const{readStoriesSectionHeader:t,errorMessageHeading:i}=this.config.localizedStrings;return{sectionId:jt.a.sectionIds.readStories,sectionTitle:t,emptyListMessage:i,cardProps:[]}}}get sdSettingPageElement(){var e,t;return this.getSettingPageElement(null===(t=null===(e=this.interestsData)||void 0===e?void 0:e.interestsRiverData)||void 0===t?void 0:t.settings,this.interestsTelemetry.informationCardSectionTelemetryTag,this.interestsTelemetry.informationCardSectionTelemetryObject,jt.a.SettingCardTelemetryMapping,this.strings.informationCardEmptyListMessage,jt.a.sdSettingsSectionIds.root,this.handleSegmentCardsEnabledSwitchClick)}get feedSettingPageElement(){var e,t,i;return this.getSettingPageElement(null===(i=null===(t=null===(e=this.interestsData)||void 0===e?void 0:e.interestsRiverData)||void 0===t?void 0:t.settings)||void 0===i?void 0:i.feedSettings,this.interestsTelemetry.feedSettingsSectionTelemetryTag,this.interestsTelemetry.feedSettingsSectionTelemetryObject,jt.a.FeedSettingCardTelemetryMapping,this.strings.feedSettingsEmptyListMessage,jt.a.feedSettingsSectionIds.root,this.updateFeedSettingsOptOutStatus)}get productivitySettingPageElement(){var e,t,i;return this.getSettingPageElement(null===(i=null===(t=null===(e=this.interestsData)||void 0===e?void 0:e.interestsRiverData)||void 0===t?void 0:t.settings)||void 0===i?void 0:i.productivitySettings,this.interestsTelemetry.productivitySettingsSectionTelemetryTag,this.interestsTelemetry.productivitySettingsSectionTelemetryObject,jt.a.ProductivitySettingCardTelemetryMapping,this.strings.productivitySettingsEmptyListMessage,jt.a.productivitySettingsSectionIds.root,this.updateProductivitySettingsEnableStatus)}get notificationRiverElement(){if(!this.interestsData||!this.interestsData.interestsRiverData||!this.interestsData.interestsRiverData.notification)return null;const{notification:e}=this.config,{notification:t}=this.strings,i=[];return e&&e.children&&i.push([{name:t.topics.General.children.AllNotifications.topicName,type:e.type,menuItemId:qe.c.AllNotifications,toggleChecked:this.notificationSettingMap[qe.c.AllNotifications],updateNotificationSetting:this.updateNotificationSetting,telemetryTag:this.interestsTelemetry.notificationSwitchClickTelemetryTag(e.type,!this.notificationSettingMap[qe.c.AllNotifications])}]),e&&e.children.forEach(e=>{const n=[{name:t.topics[e.name].topicName,desc:t.topics[e.name].description,menuItemId:e.type}];n.push({name:t.topics[e.name].children[e.type].topicName,desc:t.topics[e.name].children[e.type].description,type:e.type,toggleChecked:this.notificationSettingMap[e.type],updateNotificationSetting:this.updateNotificationSetting,telemetryTag:this.interestsTelemetry.notificationSwitchClickTelemetryTag(e.type,!this.notificationSettingMap[e.type])}),e.children.forEach(i=>{const a=i.type.split("_")[1];n.push({name:t.topics[e.name].children[a].topicName,desc:t.topics[e.name].children[a].description,type:i.type,toggleChecked:this.notificationSettingMap[i.type],updateNotificationSetting:this.updateNotificationSetting,telemetryTag:this.interestsTelemetry.notificationSwitchClickTelemetryTag(i.type,this.notificationSettingMap[i.type])})}),i.push(n)}),i}get settingMarketSelectorElement(){var e,t,i;if(!(null===(i=null===(t=null===(e=this.interestsData)||void 0===e?void 0:e.interestsRiverData)||void 0===t?void 0:t.settings)||void 0===i?void 0:i.marketSettings)||Object(u.b)().IsCnDomain)return null;try{const{sectionId:e,heading:t,description:i}=this.interestsData.interestsRiverData.settings.marketSettings;return this.settingsMarkets=this.settingsMarkets||L.c.sort(L.a),{heading:t,settingsId:e,defaultSelection:Object(u.b)().CurrentMarket||"en-us",description:i,telemetryTag:this.interestsTelemetry.marketSettingsSectionTelemetryTag}}catch(e){return this.fireUncaughtSectionError(jt.a.sdSettingsSectionIds.Market,e),{heading:this.config.localizedStrings.marketSettingsHeading,description:this.config.localizedStrings.errorMessageHeading,settingsId:null,defaultSelection:"en-us",telemetryTag:this.interestsTelemetry.marketSettingsSectionTelemetryTag}}}fireUncaughtSectionError(e,t){this.onAppError(Object.assign(Object.assign({},we.gf),{message:"Uncaught exception occurred in section "+e,pb:Object.assign(Object.assign({},we.gf),{customMessage:t})}))}setInterestsRiverBottomPadding(){if(this.interestsRiverRef){const e=this.interestsRiverRef.lastElementChild;if(e){const t=e.querySelector(":last-child").getBoundingClientRect().height,i=this.searchBoxRef&&this.config.enableStickySearch?jt.a.stickySearchHeights.default:0;e.style.paddingBottom=`calc(100vh - ${this.getHeaderBottom()}px - ${t}px - ${i}px - 21px)`}}}getSettingPageElement(e,t,i,n,a,r,s){if(!e)return null;try{const a=e.cards&&e.cards.map(e=>{const t=Object.assign(Object.assign({},e),{updateSettingStatus:s,telemetryTag:this.interestsTelemetry.settingCardTelemetryTag(i,n[e.cardType]),inlineSettingsType:"None",displayToggle:!0});return"Traffic"==t.cardType&&this.canDisplayCommuteOptions()?Object.assign(Object.assign({},t),{inlineSettingsType:"Traffic",displayToggle:!1}):"Sports"==t.cardType?Object.assign(Object.assign({},t),{inlineSettingsType:"Sports"}):t});return{heading:e.heading,cards:a,settingsId:e.sectionId,emptyListMessage:e.emptyListMessage,telemetryTag:t}}catch(e){return this.fireUncaughtSectionError(r,e),{heading:"",cards:[],settingsId:"",emptyListMessage:a,telemetryTag:t}}}getContentCard(e,t){const{id:i,destinationUrl:n,title:a,category:r,providerName:s,imageProps:o,providerProps:c,articleProps:d,titleAriaLabel:l,titleLabel:u,saveButtonText:h,undoSaveButtonText:g,actionsButtonText:p}=e,m=new ve(t,i,a,r,s,n);return{id:i,href:n,ariaLabel:l,titleLabel:u,title:a,imageProps:null!=o?o:null,articleProps:null!=d?d:null,providerProps:null!=c?c:null,providerName:s,saveActionTrigger:this.getSaveActionTrigger(i,h,g,null==m?void 0:m.saveButtonTelemetryTag,null==m?void 0:m.undoSaveButtonTelemetryTag),actionTrigger:this.getActionTrigger(p,null==m?void 0:m.moreButtonTelemetryTag),telemetryTag:null==m?void 0:m.contentCardTelemetryTag,anchorTelemetryTag:null==m?void 0:m.destinationTelemetryTag,moreButtonTelemetryObject:null==m?void 0:m.moreButtonTelemetryObject}}getSaveActionTrigger(e,t,i,n,a){const{cardActionStatusMap:s}=this.interestsNextState,o=((null==s?void 0:s.get(e))||r.b.enabled)&r.b.saved,c=o?i:t;return{ariaLabel:c,title:c,click:this.onCardActionClick,glyphType:o?(d=!this.config.enableNeutralFilledSaveIconOnCard&&Mt.a,`<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <path ${d?"fill="+d:""} d="M3.77935 13.9187C3.4471 14.1406 3.00171 13.9024 3.00171 13.5029V4.01174C3.00171 2.90856 3.89496 2.01372 4.99813 2.01174L10.9981 2.00098C12.1027 1.99901 12.9997 2.89284 13.0017 3.9974V13.5029C13.0017 13.9024 12.5563 14.1406 12.2241 13.9187L8.00171 11.0995L3.77935 13.9187Z"/>\n</svg>`):At.a,telemetryTag:o?a:n};var d}getActionTrigger(e,t){return{ariaLabel:e,title:e,click:this.openCardActions,glyphType:kt.a,telemetryTag:t}}mapCardActionStatuses(e){if(!e||!e.length)return;const t=this.interestsNextState.cardActionStatusMap;e.forEach(e=>{t.has(e.id)||this.setCardActionState(e.id,e.actions.length?r.b.saved:r.b.enabled)})}updateSegmentCardsEnabledStatus(e,t,i=null){const n=[],a=this.interestsNextState.settings;let r=i;a.cards.forEach(i=>{const a=this.getCardEnabledSettingName(i.cardType);i.cardType===e&&(i.toggleChecked=t(i.toggleChecked),"TopStories"===e&&(r=Object.assign(Object.assign({},r),{IsTopStoriesEnabled:i.toggleChecked?"1":"0"}))),a&&n.push({cardType:a,enabled:i.toggleChecked})}),n.length>0&&this.interestsData.updateSegmentCardsEnabledStatus&&(async()=>{await this.interestsData.updateSegmentCardsEnabledStatus(n,r).then(e=>{e&&(this.interestsNextState=Object.assign(Object.assign({},this.interestsNextState),{settings:a}),f())})})()}mapPublishersData(e){return e?e.map(e=>Object.assign(Object.assign({},e),{actionButtonCallback:t=>this.unmuteDialogToggleCallback(t,e)})):[]}mapTopicsSectionProps(e,t,i,n,a){return{topics:this.mapDataToTopicSectionCards(e,i,a),topicsSectionTelemetryTag:n,topicSelectedHandler:e=>this.topicSelectedHandler(e),followedClickedHandler:e=>this.followedClickedHandler(e,t,e.target.followed)}}mapFollowedPublishersSectionProps(e,t,i){return{topics:this.mapFollowedPublishersDataToTopicSectionCards(e,t),topicsSectionTelemetryTag:i,followedClickedHandler:this.followPublisherCallback}}restoreTopicCardFollowState(e,t,i){const n=document.getElementById(e),a=n&&n.shadowRoot.querySelectorAll(`msn-topic-card[topicid=${t}]`);if((null==a?void 0:a.length)>0){const e=a[0];e instanceof Ue.a&&(e.followed=i)}}updateRepeatedTopicCardInstances(e,t){const i=this.shadowRoot.querySelectorAll("msn-topics-section");(null==i?void 0:i.length)>0&&i.forEach(i=>{const n=i.shadowRoot.querySelectorAll(`msn-topic-card[topicid=${e}]`);(null==n?void 0:n.length)>0&&n.forEach(e=>{e instanceof Ue.a&&(e.followed=t)})})}mapDataToTopicSectionCards(e,t,i){if(!e||e.length<1)return null;const{followFormatAriaLabel:n,followFormatText:a,unfollowFormatAriaLabel:r,unfollowFormatText:s,contentLinkFormatText:o}=this.interestsData.interestsRiverData.discoverSectionData,c=[];return e.map((d,l)=>{if(!d)return;const u=new be(t,d.id,d.name,s,a,o,D.c.Topic);c.push({followFormatAriaLabel:null!=n?n:"",followFormatText:null!=a?a:"",imgAltText:d.name,imgSrc:d.imgSrc,followed:"followed"===d.followState,topicId:d.id,topicTitle:d.name,unfollowFormatAriaLabel:null!=r?r:"",unfollowFormatText:null!=s?s:"",enableNavToXfeed:this.config.enableTopicCardNav,contentLinkFormatText:null!=o?o:"",followButtonTelemetryTag:null==u?void 0:u.followButtonTelemetryTag,unfollowButtonTelemetryTag:null==u?void 0:u.unfollowButtonTelemetryTag,imgOnloadCallback:i&&l===e.length-1?this.updateDiscoverSectionsToRender:null,contentLinkButtonTelemetryTag:null==u?void 0:u.contentLinkButtonTelemetryTag})}),c}mapFollowedPublishersDataToTopicSectionCards(e,t){if(!e||e.length<1)return null;const{followFormatAriaLabel:i,followFormatText:n,unfollowFormatAriaLabel:a,unfollowFormatText:r}=this.interestsData.interestsRiverData.discoverSectionData,s=[];return e.map(e=>{var o;let c;t&&(c=new be(t,e.publisherId,e.publisherTitle,r,n,null,D.c.Publisher)),s.push({followButtonTelemetryTag:c&&c.followButtonTelemetryTag,followFormatAriaLabel:i,followFormatText:n,imgAltText:e.publisherTitle,imgSrc:`${null===(o=e.imgSrc)||void 0===o?void 0:o.split("?")[0]}?w=80&h=80&q=90&m=6&f=${De.d.JPG}`,followed:e.followed,topicId:e.publisherId,topicTitle:e.publisherTitle,enableNavToXfeed:this.config.enableTopicCardNav,unfollowButtonTelemetryTag:c&&c.unfollowButtonTelemetryTag,unfollowFormatAriaLabel:a,unfollowFormatText:r})}),s}mapFollowedInterestsProps(e){var t;const{followedTopicIds:i,topicMap:n}=e,{enableDefaultInterests:a,enableWorkTopicInterests:r,localizedStrings:s}=this.config,{followFormatText:o,unfollowFormatText:c,followFormatAriaLabel:d,unfollowFormatAriaLabel:l,contentLinkFormatText:u,resetFollowedInterestsActionText:h,moreOptionsAriaLabel:g,explicitlyFollowedInterestsSectionEmptyListInfoText:p,followedInterestsEmptyStateCardTitle:m,followedTopicsListSectionTitle:f,followedTopicsListSectionSubtitle:v}=s||{},b=[...new Set(i)];this.followedTopics=(null===(t=this.followedTopics)||void 0===t?void 0:t.length)&&this.followedTopics||b.map(e=>{var t;const i=n[e];if((null==i?void 0:i.followState)===Ce.a.Followed){if(a)return i;if(!(null==i?void 0:i.isInferred)||r&&(null===(t=i.apiSource)||void 0===t?void 0:t.id)===Ie.a.work)return i}}).filter(e=>e);const y=Object(wt.a)(this.followedTopics);return{sectionTitle:f,sectionSubTitle:v,sectionId:Ne.a.removeHyphens(jt.a.sectionIds.followedInterests),emptyListMessage:p,emptyStateCardTitle:m,followedTopics:y,followFormatText:o,unfollowFormatText:c,followFormatAriaLabel:d,unfollowFormatAriaLabel:l,contentLinkFormatText:u,resetFollowedInterestsActionText:h,moreOptionsAriaLabel:g}}mapFollowedPublisherCardProps(){const{localizedStrings:e}=this.config,{followFormatText:t,unfollowFormatText:i,followedPublishersSectionTitle:n,followedPublishersSectionSubtitle:a,followedPublishersEmptyMessage:r}=e;return{sectionTitle:n,sectionSubTitle:a,sectionId:Ne.a.removeHyphens(jt.a.sectionIds.followedPublishers),emptyStateCardTitle:r,publisherCards:Object(wt.a)(this.followedPublishers),followFormatText:t,unfollowFormatText:i,followFormatAriaLabel:t,unfollowFormatAriaLabel:i}}mapDiscoverInterestsProps(e){const{topicListMap:t,topicListIds:i}=e,{localizedStrings:n}=this.config,{followFormatText:a,unfollowFormatText:r,followFormatAriaLabel:s,unfollowFormatAriaLabel:o,contentLinkFormatText:c,discoverTopicsListSectionTitle:d,discoverTopicsListSectionSubtitle:l}=n||{},u=[];return i.map(i=>{const n=t[i];u.push({topics:this.mapDiscoverTopicSectionTopics(n.topicIds,e),id:Ne.a.removeHyphens(n.id),title:n.title})}),{sectionTitle:d,sectionSubTitle:l,sectionId:Ne.a.removeHyphens(jt.a.sectionIds.discoverInterests),topicSections:u,followFormatText:a,unfollowFormatText:r,followFormatAriaLabel:s,unfollowFormatAriaLabel:o,contentLinkFormatText:c}}mapDiscoverTopicSectionTopics(e,t){const{topicMap:i}=t,{enableDefaultInterests:n,enableWorkTopicInterests:a}=this.config;return e.map(e=>{var t;const r=i[e];return(null==r?void 0:r.followState)===Ce.a.Followed?n||!(null==r?void 0:r.isInferred)||a&&(null===(t=r.apiSource)||void 0===t?void 0:t.id)===Ie.a.work?r:Object.assign(Object.assign({},r),{followState:Ce.a.Unfollowed,isInferred:!1}):r})}requestInterestToast(e,t,i,n){n?ut.a.renderToast({id:`${e}-${i}`,toastType:i?ht.a.Follow:ht.a.Unfollow,inputText:t,expirationInMs:jt.a.defaultToastNotificationTimeoutMs}):ut.a.renderToast({id:`${e}-${i}`,toastType:ht.a.InterestFailure,expirationInMs:jt.a.defaultToastNotificationTimeoutMs})}async restoreDefaultFollowedTopics(e){await Promise.all(e.map(e=>this.topicsDataConnector.unfollowTopic(e,!0))),Object(Ze.a)(ze.a.InterestsChange),Object(si.b)(P.a.desktopFeedEdgeNextWC),f()}mapMutedPublisherCardProps(){var e;let t;const{localizedStrings:i}=this.config,{mutedPublisherEmptyStateCardTitle:n,errorMessage:a}=i||{};return(null===(e=this.mutedPublishers)||void 0===e?void 0:e.length)&&(t=this.mutedPublishers.map(e=>this.mapPublisher(e))),{publisherCards:t,emptyStateCardTitle:this.mutedPublishersError?a:n,emptyListMessage:this.mapPublisherEmptyListMessage(i),sectionId:Ne.a.removeHyphens(jt.a.sectionIds.mutedPublishers),sectionTitle:null==i?void 0:i.mutedPublisherSectionHeader,sectionSubTitle:null,unmutePublisherCallback:this.unmutePublisherClickHandler,unmuteData:this.mapUnmuteProps()}}mapPublisher(e){const{logos:t,displayName:i,createdDateTime:n,id:a}=e,{localizedStrings:r,mutedPublisherPlaceholderImageUrl:s}=this.config,o=t.length?t[0].imageLink.href:null,c=Ve.b.Locale||"en-us";return{publisherId:a,imgSrc:`${o||s}?w=80&h=80&q=90&m=6&f=${De.d.JPG}`,imgAltText:i,publisherTitle:i,actionDateLabel:`${r.mutedActionText} ${new Date(n).toLocaleDateString(c)}`,actionButtonAriaLabel:r.unMuteActionButtonAriaLabel,actionButtonText:r.unMuteActionButtonText,actionButtonCallback:null,actionButtonTelemetryTag:this.interestsTelemetry.publisherActionButtonTelemetryTag(r.unMuteActionButtonText,a)}}mapUnmuteProps(){const{dialogConfirmButtonText:e,dialogConfirmButtonAriaLabel:t,dialogCancelButtonText:i,dialogCancelButtonAriaLabel:n,dialogCloseButtonAriaLabel:a,unMutePublisherDialogMessageTemplate:r,unMutePublisherDialogHeaderTemplate:s,dialogAriaText:o}=this.config.localizedStrings;return{dialogContent:r,unmuteDialogData:{actionButtonCallback:null,cancelButtonCallback:null,localizedStrings:{actionButtonAriaLabel:t,actionButtonText:e,actionButtonTitleLabel:t,cancelButtonAriaLabel:n,cancelButtonText:i,cancelButtonTitleLabel:n,closeButtonAriaLabel:a,closeButtonTitleLabel:a,dialogHeadline:s,dialogAriaText:o}}}}mapPublisherEmptyListMessage(e){return e?this.mutedPublishersLoaded?this.mutedPublishersError?e.errorMessageHeading:e.mutedPublisherEmptyListMessage:e.sectionLoadingMessage:""}getSearchData(){var e;const{enableSearch:t,localizedStrings:i}=this.config;return{enableSearch:t,placeHolderText:i.interestsSearchPlaceholder,suggestionItems:null!==(e=this.suggestions)&&void 0!==e?e:[]}}mapSuggestionItemToTopicListboxData(e){var t,i;const{enableDefaultInterests:n,enableWorkTopicInterests:a}=this.config,{followFormatAriaLabel:r,followFormatText:s,unfollowFormatAriaLabel:o,unfollowFormatText:c}=this.config.localizedStrings,{displayText:d,id:l,imageUrl:u,name:h,type:g}=e,p=Object(F.a)(g===jt.a.provideNameTag?pe:ge,d),m=new Se(l,p,c,s,d,g===jt.a.provideNameTag?D.c.Publisher:D.c.Topic);let f;g===jt.a.provideNameTag&&(null===(t=this.followedPublishers)||void 0===t?void 0:t.some(e=>e.publisherId===l&&e.followed))&&(f=!0);const{topicMap:v}=this.topicsDataConnector.getCurrentState(),b=v[l];if("bingtopic"!==g&&"category"!==g||!b||(f=n?b.followState===Ce.a.Followed:b.followState===Ce.a.Followed&&(!b.isInferred||a&&(null===(i=b.apiSource)||void 0===i?void 0:i.id)===Ie.a.work)),g===Ae.a.UserQuery){const{followedTopicNames:t,followedTopicIds:i}=this.topicsDataConnector.getCurrentState(),n=t.find(e=>e.toLowerCase()===h.trim().toLowerCase());if(f=!!n,f){const a=t.indexOf(n);e=Object.assign(Object.assign({},e),{id:i[a]})}}return{followButtonTelemetryTag:m.followButtonTelemetryTag,followFormatAriaLabel:r,followFormatText:s,imgAltText:d,imgSrc:Object(De.g)(u||jt.a.topicCardBackupImageUrl,{width:jt.a.ImageSize.SuggestionCardImgStandardDimensions.width,height:jt.a.ImageSize.SuggestionCardImgStandardDimensions.height,quality:90,enableDpiScaling:!1}),followed:f,topicId:e.id,topicTitle:d,unfollowButtonTelemetryTag:m.unfollowButtonTelemetryTag,unfollowFormatAriaLabel:o,unfollowFormatText:c,type:g}}mapSavedStoriesCardProps(){var e;let t;const{localizedStrings:i}=this.config;return(null===(e=this.savedStories)||void 0===e?void 0:e.length)&&(t=this.savedStories.map(e=>this.mapStory(e))),{emptyListMessage:this.savedStoriesLoaded?i.savedStoriesEmptyListMessage:i.sectionLoadingMessage,sectionId:Ne.a.removeHyphens(jt.a.sectionIds.savedStories),sectionTitle:i.savedStoriesSectionHeader,sectionSubTitle:null,cards:t}}mapStory(e,t){var i,n,a,r,s,o,c,d,l,u;const{id:h,title:g,destinationUrl:p,provider:m,images:f}=e.cardContent,{category:v,actions:b}=e.metadata,{titleFormatAriaLabel:y,titleFormatText:S,imgAltFormatText:T,saveButtonText:O,undoSaveButtonText:w,moreOptionsAriaLabel:C}=this.config.localizedStrings,I=Object(F.a)(y,g,null==m?void 0:m.name),j=Object(F.a)(S,g,null===(i=null==f?void 0:f[0])||void 0===i?void 0:i.attribution),A=Object(F.a)(T,g,null===(n=null==f?void 0:f[0])||void 0===n?void 0:n.attribution);return{id:h,title:g,destinationUrl:p,category:v,actions:t&&t.indexOf(h)>-1?["save"]:b,providerName:null==m?void 0:m.name,titleAriaLabel:I,titleLabel:j,saveButtonText:O,undoSaveButtonText:w,actionsButtonText:C,articleProps:{id:h,headlineTitle:g,href:p,image:{alt:null===(a=null==f?void 0:f[0])||void 0===a?void 0:a.caption,src:null===(r=null==f?void 0:f[0])||void 0===r?void 0:r.url},provider:m&&{id:m.id,name:m.name,image:{alt:m.id,src:m.logoUrl}}},imageProps:(null===(s=null==f?void 0:f[0])||void 0===s?void 0:s.url)&&{src:Object(De.g)(null===(o=null==f?void 0:f[0])||void 0===o?void 0:o.url,{width:jt.a.ImageSize.ContentCardImageStandardDimensions.width,height:jt.a.ImageSize.ContentCardImageStandardDimensions.height,focalRegion:null===(c=null==f?void 0:f[0])||void 0===c?void 0:c.focalRegion,quality:null===(d=null==f?void 0:f[0])||void 0===d?void 0:d.quality,enableDpiScaling:!1}),alt:A,"aria-label":null===(l=null==f?void 0:f[0])||void 0===l?void 0:l.caption,title:null===(u=null==f?void 0:f[0])||void 0===u?void 0:u.caption,width:jt.a.ImageSize.ContentCardImageStandardDimensions.width,height:jt.a.ImageSize.ContentCardImageStandardDimensions.height},providerProps:m&&{src:m.logoUrl&&Object(De.g)(m.logoUrl,{width:jt.a.ImageSize.ContentCardProviderImgStandardDimensions.width,height:jt.a.ImageSize.ContentCardProviderImgStandardDimensions.height,enableDpiScaling:!1}),alt:m.name}}}mapReadStoriesCardProps(){var e,t;let i,n;const{localizedStrings:a}=this.config;return(null===(e=this.savedStories)||void 0===e?void 0:e.length)&&(n=this.savedStories.map(e=>e.cardContent.id)),(null===(t=this.readStories)||void 0===t?void 0:t.length)&&(i=this.readStories.map(e=>this.mapStory(e,n))),{emptyListMessage:this.readStoriesLoaded?null==a?void 0:a.readStoriesEmptyListMessage:null==a?void 0:a.sectionLoadingMessage,sectionId:Ne.a.removeHyphens(jt.a.sectionIds.readStories),sectionTitle:null==a?void 0:a.readStoriesSectionHeader,sectionSubTitle:null,cards:i}}getSportsEntityTypeDescription(e){if(Object(F.b)(e))return null;switch(e.toLowerCase()){case ct.f.Team.toLowerCase():return this.strings.sportsTeam;case ct.f.League.toLowerCase():return this.strings.sportsLeague;default:return null}}clickOnSportsEntitySwitch(e){if(!e||Object(F.b)(e.id))return;const t=e.id.split(ct.d),i=t.length;if(!i)return;const n=t[0],a=i>1?t[1]:"";e.checked?ot.a.removeDislikeSportsCard({id:n,type:a}):ot.a.notInterestedSportsCard({id:n,name:e.title,type:a})}calcUnmutedPublishersCardFocus(e,t){const i=this.shadowRoot.getElementById(jt.a.MutedPublishersId),n=i&&i.querySelector(jt.a.MsftPublishersCardTagName).shadowRoot.querySelectorAll(".publishers-card .publisher");this.cancelHiddenFocusElement=t&&e.path[0]||this.cancelHiddenFocusElement,t&&n&&1===n.length?this.confirmHiddenFocusElement=this.shadowRoot.getElementById(jt.a.MutedPublishersMenuItemId):(t&&n&&n.length&&Array.from(n).map((e,i)=>{if(e.id===t.publisherId){const e=i?n[i-1]:n[i];this.confirmHiddenFocusElement=e&&e.querySelector("fluent-button.action-button.outline")}}),!t&&this.cancelHiddenFocusElement.focus())}canDisplayCommuteOptions(){return!!(this.strings.trafficSettingsStrings&&this.trafficAutosuggestClient&&this.commuteLocations)&&(this.config.displayCommuteOptions&&this.isUserMsaAuthenticated)}}Object(a.d)([yt.d],ci.prototype,"interestsData",void 0),Object(a.d)([yt.d],ci.prototype,"topicDataState",void 0),Object(a.d)([yt.d],ci.prototype,"interestsNextState",void 0),Object(a.d)([yt.d],ci.prototype,"interestsTelemetry",void 0),Object(a.d)([yt.d],ci.prototype,"sidePaneSticky",void 0),Object(a.d)([yt.d],ci.prototype,"searchBoxSticky",void 0),Object(a.d)([yt.d],ci.prototype,"useStickyHeaderHeightSmallScreen",void 0),Object(a.d)([yt.d],ci.prototype,"toast",void 0),Object(a.d)([yt.d],ci.prototype,"suggestions",void 0),Object(a.d)([yt.d],ci.prototype,"followedPublishers",void 0),Object(a.d)([yt.d],ci.prototype,"mutedPublishers",void 0),Object(a.d)([yt.d],ci.prototype,"savedStories",void 0),Object(a.d)([yt.d],ci.prototype,"readStories",void 0),Object(a.d)([yt.d],ci.prototype,"notificationSettingMap",void 0),Object(a.d)([yt.d],ci.prototype,"topicsAndInterestsLoaded",void 0),Object(a.d)([yt.d],ci.prototype,"mutedPublishersLoaded",void 0),Object(a.d)([yt.d],ci.prototype,"readStoriesLoaded",void 0),Object(a.d)([yt.d],ci.prototype,"isDarkMode",void 0),Object(a.d)([yt.d],ci.prototype,"freArtifact",void 0),Object(a.d)([yt.d],ci.prototype,"renderColdStart",void 0),Object(a.d)([yt.d],ci.prototype,"discoverSectionsToRender",void 0),Object(a.d)([yt.d],ci.prototype,"onTranslucentBackgroundClass",void 0),Object(a.d)([yt.d],ci.prototype,"sportsDislikes",void 0),Object(a.d)([yt.d],ci.prototype,"commuteLocations",void 0),Object(a.d)([yt.d],ci.prototype,"userSettings",void 0),Object(a.d)([St.b],ci.prototype,"backgroundColors",void 0),Object(a.d)([yt.f],ci.prototype,"sidePaneLayoutStyle",null),Object(a.d)([yt.f],ci.prototype,"sidePaneHeaderElement",null),Object(a.d)([yt.f],ci.prototype,"sidePaneMenuElement",null),Object(a.d)([yt.f],ci.prototype,"followedInterestsSectionElement",null),Object(a.d)([yt.f],ci.prototype,"followedPublishersSectionElement",null),Object(a.d)([yt.f],ci.prototype,"discoverInterestsRiverElement",null),Object(a.d)([yt.f],ci.prototype,"unmuteDialogElement",null),Object(a.d)([yt.f],ci.prototype,"unmuteDialogBodyElement",null),Object(a.d)([yt.f],ci.prototype,"hiddenPublishersSectionElement",null),Object(a.d)([yt.f],ci.prototype,"savedStoriesSectionElement",null),Object(a.d)([yt.f],ci.prototype,"readStoriesSectionElement",null),Object(a.d)([yt.f],ci.prototype,"sdSettingPageElement",null),Object(a.d)([yt.f],ci.prototype,"feedSettingPageElement",null),Object(a.d)([yt.f],ci.prototype,"productivitySettingPageElement",null),Object(a.d)([yt.f],ci.prototype,"notificationRiverElement",null),Object(a.d)([yt.f],ci.prototype,"settingMarketSelectorElement",null)},S8sE:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("D57K");i("roS3"),i("r6MD");setTimeout;let a=setTimeout;function r(e){return Object(n.a)(this,void 0,void 0,(function*(){return new Promise((t,i)=>{a(t,e)})}))}function s(e=1){return Object(n.a)(this,void 0,void 0,(function*(){for(let t=0;t<e;t++)yield r(0)}))}},SHdd:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n,a;!function(e){e.AppAnonCookie="appanoncookie",e.MyFeed="myfeed",e.AuthToken="AuthToken",e.UpdateMyFeed="updatemyfeed",e.RefreshConfigs="refreshconfigs",e.DetectConfigChanges="detectconfigchanges",e.ClearConfigCache="clearconfigcache",e.Updatepdp="updatepdp",e.WeatherPdp="weatherpdp",e.MoneyPdp="moneypdp",e.LocalNews="localnews",e.SportsTeamPdp="sportsteampdp",e.SportsPlayerPdp="sportsplayerpdp",e.SportsLeaguePdp="sportsleaguepdp",e.PerfMarkers="perfmarkers",e.ContentPreviewData="ContentPreviewData",e.ContentPreviewCache="ContentPreviewCache",e.PostTtvr="PostTtvr",e.FeedDisplaySetting="FeedDisplaySetting",e.WebWorkerError="WebWorkerError",e.InvalidateWeatherPdp="InvalidateWeatherPdp",e.InvalidateMoneyPdp="InvalidateMoneyPdp",e.StripeMyFeed="StripeMyFeed",e.UpdateMyBriefing="UpdateMyBriefing",e.MyBriefing="MyBriefing",e.WindowsFeed="WindowsFeed",e.IndustryNewsArticles="IndustryNewsArticles",e.AuctionPrefetch="AuctionPrefetch",e.AuctionAPIDuration="AuctionAPIDuration",e.MsnHpStripeFeed="MsnHpStripeFeed"}(n||(n={})),function(e){e[e.Fetching=1]="Fetching",e[e.Fetched=2]="Fetched"}(a||(a={}))},UQuZ:function(e,t,i){"use strict";i.r(t),i.d(t,"AUTOSUGGEST_TYPE",(function(){return u})),i.d(t,"AUTOSUGGEST_SUBTYPE",(function(){return h})),i.d(t,"isHyperlocal",(function(){return g})),i.d(t,"hyperlocalLabeled",(function(){return p})),i.d(t,"getHyperlocalType",(function(){return m})),i.d(t,"isSameLocationPoint",(function(){return f})),i.d(t,"truncateFloatTo3Decimal",(function(){return v})),i.d(t,"shouldIgnoreSubRegion",(function(){return b})),i.d(t,"distance",(function(){return S})),i.d(t,"toDetailShortInfo",(function(){return T})),i.d(t,"parseDetailShortInfo",(function(){return O})),i.d(t,"reset",(function(){return C})),i.d(t,"isValid",(function(){return I})),i.d(t,"isValidLocationToSuggest",(function(){return j})),i.d(t,"toDebugString",(function(){return A})),i.d(t,"normalizeLatLong",(function(){return k})),i.d(t,"getDisplayName",(function(){return x})),i.d(t,"getAutoSuggestionName",(function(){return M})),i.d(t,"isValidLocationNameStructure",(function(){return P})),i.d(t,"resolveNameFromLocalityRegionCountry",(function(){return E})),i.d(t,"getAutoSuggestLocationFirstLine",(function(){return D})),i.d(t,"getAutoSuggestLocationSecondLine",(function(){return R})),i.d(t,"formatLocation",(function(){return F})),i.d(t,"addLocation",(function(){return H})),i.d(t,"removeLocation",(function(){return U})),i.d(t,"isCurrentLocaleName",(function(){return N})),i.d(t,"extractLanguageTag",(function(){return B})),i.d(t,"headLocation",(function(){return $})),i.d(t,"toLatLong",(function(){return V})),i.d(t,"transformToClientLocation",(function(){return q}));var n=i("rvYQ"),a=i("I6Lx"),r=i("ypwz"),s=i("ssdC");const o=new Set(["CN","JP","TW"]),c=new Set(["ZH-CN","KO-KR","JA-JP"]),d=new Set(["北京市","上海市","重庆市","天津市","香港"]);var l;!function(e){e[e.HYPERLOCAL=101]="HYPERLOCAL",e[e.NONHYPERLOCAL=102]="NONHYPERLOCAL",e[e.UNKNOWN=103]="UNKNOWN"}(l||(l={}));const u={PLACE:"Place",LOCAL_BUSINESS:"LocalBusiness",ADDRESS:"PostalAddress"},h={ADDRESS:"Address",ROAD:"Road"};function g(e){return e.locationType===l.HYPERLOCAL||e.locationType===l.UNKNOWN}function p(e){return!!(null==e?void 0:e.locationType)&&(e.locationType===l.HYPERLOCAL||e.locationType===l.NONHYPERLOCAL||e.locationType===l.UNKNOWN)}function m(e,t){switch(e){case u.PLACE:return l.NONHYPERLOCAL;case u.LOCAL_BUSINESS:return l.HYPERLOCAL;case u.ADDRESS:return t===h.ADDRESS?l.HYPERLOCAL:t===h.ROAD?l.NONHYPERLOCAL:l.UNKNOWN;default:return l.UNKNOWN}}function f(e,t,i=!1){if(e&&t){let n=""+(e[0]||e.latitude),a=""+(t[0]||t.latitude),r=""+(e[1]||e.longitude),s=""+(t[1]||t.longitude);return i&&(n=v(n).toString(),r=v(r).toString(),a=v(a).toString(),s=v(s).toString()),n===a&&r==s}return!1}function v(e){const t="number"==typeof e?e:parseFloat(e);return Math.trunc(1e3*t)/1e3}function b(e){return!o.has((e||"").toUpperCase())}function y(e){return e&&c.has(e.toUpperCase())}function S(e,t){function i(e){const t=Math.sin(e/2);return t*t}function n(e){return e*Math.PI/180}t=t||{};const a=[n(+(e=e||{}).latitude),n(+e.longitude)],r=[n(+t.latitude),n(+t.longitude)],s=i(Math.abs(a[0]-r[0]))+Math.cos(a[0])*Math.cos(r[0])*i(Math.abs(a[1]-r[1]));return 12742*Math.asin(Math.sqrt(s))}function T(e){const t={a:e.addressLine,l:e.locality,r:e.region,r2:e.subRegion,c:e.country,i:e.isoCode,t:e.locationType,g:e.language},i=JSON.stringify(t,(e,t)=>t||void 0);return"{}"!==i?i:void 0}function O(e){if(e)try{const t=JSON.parse(e),i={};return i.addressLine=t.a,i.locality=t.l,i.region=t.r,i.subRegion=t.r2,i.country=t.c,i.isoCode=t.i,i.locationType=t.t,i.language=t.g,i}catch(e){return}}function w(e,t,i){return!isNaN(e)&&e>=t&&e<=i}function C(e){const t=e||{};Object.keys(t).forEach(e=>{t[e]=null})}function I(e){return e&&!!e.latitude&&!!e.longitude&&"null"!==e.latitude&&"null"!==e.longitude&&"undefined"!==e.latitude&&"undefined"!==e.longitude&&"NaN"!==e.latitude&&"NaN"!==e.longitude&&"Infinity"!==e.latitude&&"Infinity"!==e.longitude&&w(parseFloat(e.latitude),-85,85)&&w(parseFloat(e.longitude),-180,180)}function j(e){var t;if("zh-cn"===(null===(t=null==e?void 0:e.language)||void 0===t?void 0:t.toLowerCase()))if(null==e?void 0:e.addressLine){if(!((null==e?void 0:e.locality)||(null==e?void 0:e.subRegion)||(null==e?void 0:e.region)||d.has(e.addressLine)))return!1}else if(!(null==e?void 0:e.subRegion)&&!(null==e?void 0:e.region)&&!d.has(null==e?void 0:e.locality))return!1;return!(!e||!e.addressLine&&!e.locality)}function A(e){if(e)return e.el?`el=[${e.el}]`:`lat=${e.latitude},long=${e.longitude}`}function k(e,t){return{latitude:""+parseFloat(e),longitude:""+parseFloat(t)}}function x(e,t){if(e)return e.displayName?e.displayName:E(e,t)}function M(e){if(e){if(e.autoSuggestionName)return e.autoSuggestionName;return E(e,{enforceSmallLocaleFirst:!0})}}function P(e){const t=n.a.AppType;return[r.a.WindowsShell,r.a.Windows,r.a.NewsAndInterests,r.a.WindowsNewsPlus,r.a.WindowsNewsWidgets].indexOf(t)>=0?!(!e||!(e.addressLine||e.locality||e.region)):"zh-cn"===e.language||"CN"===e.isoCode?!(!e||!(e.addressLine||e.locality||e.subRegion||e.addressLine)):!(!e||!e.locality&&!e.addressLine)}function E(e,t){const i=!t||!t.skipLocale,a=n.a&&n.a.CurrentRequestTargetScope&&n.a.CurrentRequestTargetScope.locale&&n.a.CurrentRequestTargetScope.locale.market,r=(e.isoCode||"").toUpperCase(),s=r&&a&&a.substr(-r.length).toUpperCase()===r,o=b(e.isoCode)?null:e.subRegion,c=[e.addressLine,i?e.locality:"",o,e.region,e.country].filter(e=>!!e);let d=0;for(;c[d+1];)c[d+1]===c[d]?c.splice(d+1,1):d++;const l="CN"==(null==a?void 0:a.toUpperCase())?1:2;return e.country&&s&&c.length>l&&c.splice(-1,1),t&&t.enforceSmallLocaleFirst||y(e.language)&&c.reverse(),c.join(", ")}function L(e,t){var i,a;const r=null===(a=null===(i=null===n.a||void 0===n.a?void 0:n.a.CurrentRequestTargetScope)||void 0===i?void 0:i.locale)||void 0===a?void 0:a.market,s=(e.isoCode||"").toUpperCase(),o=s&&r&&r.substr(-s.length).toUpperCase()===s,c=[e.addressLine,e.locality,!b(e.isoCode)&&e.subRegion,!(null==t?void 0:t.skipRegionAndCountry)&&e.region,!(null==t?void 0:t.skipRegionAndCountry)&&!o&&e.country].filter(e=>!!e);return c.filter((e,t)=>e!==c[t+1])}function D(e){return L(e)[0]}function R(e){return L(e).slice(1).join(", ")}function F(e,t){const i=L(e,t);return y(e.language)&&i.reverse(),i.join(", ")}function H(e,t){if(!t)return e;e=e||[];const i=[Object.assign({},t),...e],n={},a=[];for(let e=0;e<i.length;++e){const t=x(i[e]),r=`${i[e].latitude},${i[e].longitude}`;n[t]||n[r]||(a.push(i[e]),n[t]=e+1,n[r]=e+1)}return a}function U(e,t){if(!e||!t)return e;for(let i=0;i<e.length;++i)if(x(e[i])===x(t)||e[i].latitude===t.latitude&&e[i].longitude===t.longitude){e.splice(i,1);break}return e}function N(e){const t=a.b.Locale;return e&&e.language&&(e.language===t||/en-/i.test(e.language)&&/en-/i.test(t))}function B(e){return(/,g=([a-z]+-[a-z]+)$/i.exec(e)||[])[1]}function $(){if(a.b.ClientSettings&&a.b.ClientSettings.geo_lat&&a.b.ClientSettings.geo_long&&""!==a.b.ClientSettings.geo_lat&&""!==a.b.ClientSettings.geo_long){const e={latitude:a.b.ClientSettings.geo_lat,longitude:a.b.ClientSettings.geo_long,locality:a.b.ClientSettings.geo_city,region:a.b.ClientSettings.geo_subdivision,country:a.b.ClientSettings.geo_countryname,isoCode:a.b.ClientSettings.geo_country,isDetected:!0,language:"en-us"};return e.region=Object(s.abbreviateUSState)(e.region,e.language,e.isoCode),e.displayName=x(e),e}return null}function V(e){return`${e.latitude},${e.longitude}`}function q(e){return e?{country:e.Country,region:e.State,addressLine:e.AddressLine,locality:e.City,subRegion:e.SubRegion,postalCode:e.PostalCode,isoCode:e.CountryCode,latitude:e.Latitude,longitude:e.Longitude,displayName:void 0,language:e.Language||a.b.Locale}:{}}},V4iI:function(e,t,i){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16"><path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"/></svg>'},VLcu:function(e,t,i){"use strict";var n=i("SNCn"),a=i("IXgy");t.a=function(e){return Object(a.a)(Object(n.a)(e).toLowerCase())}},Vy2U:function(e,t,i){"use strict";var n=i("UQuZ");i.d(t,"a",(function(){return n}));var a=i("ssdC");i.d(t,"b",(function(){return a}))},W3y6:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n,a=i("D57K"),r=i("Ybri"),s=i("rvYQ"),o=i("ADRF"),c=i("I6Lx"),d=i("msIb"),l=i("KETb"),u=i("6ADy"),h=i("HxRh"),g=i("XlyT"),p=i("fuIx"),m=i("e8jz"),f=i("CgWR"),v=i("tERu"),b=i("ZwaX"),y=i("YuP+"),S=i("u5KZ"),T=i("/+Un"),O=i("kpPY"),w=i("hSGL"),C=i("lifk");!function(e){e.sportsApi="https://api.sports.microsoft.com/SportsReco/v1/SportsRecommendation?apikey=be5b9e52150e49f1b58fafff97d11487";const t={width:32,height:32,enableDpiScaling:!1,format:C.d.PNG};let i,n;function I(e,t,i,n,r=null,s=!1,o=null){return Object(a.a)(this,void 0,void 0,(function*(){if(Object(O.b)(e))return null;const c=i===b.a.Follow?"sid:"+e:e,p={Title:t,Sid:e},m={method:"POST",body:JSON.stringify({actionType:i,targetId:c,targetType:i===b.a.Follow?null:n,metadata:p}),headers:yield d.a.getOneServiceHeaders()};x()&&(m.credentials="include");const f=Object(u.c)("graph/actions");let v;(yield k(r,s)).forEach(e=>e.value&&f.searchParams.set(e.key,e.value)),o&&o.forEach(e=>e.value&&f.searchParams.set(e.key,e.value));try{return v=yield Object(l.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){const e=yield Object(l.a)(f.href,m,h.fi);if(e.status>=400){const t=`postActionRequest OneService returned error response. Status: ${e.status} for actionType: ${i}, targetId: ${c}, targetType: ${n}`;throw new Error(t)}return e.json()})),"postCardAction"+i),yield v}catch(e){Object(g.c)(e,h.gi,"Error while posting action for card interest action",`Url: ${f.href} Params: ${m.body}`)}return v}))}function j(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield function(){return Object(a.a)(this,void 0,void 0,(function*(){const e={method:"GET",headers:yield d.a.getOneServiceHeaders()};x()&&(e.credentials="include");const t=Object(u.c)("graph/actions");let i;(yield k()).forEach(e=>e.value&&t.searchParams.set(e.key,e.value)),t.searchParams.set("$top","100");try{return i=yield Object(l.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){const i=yield Object(l.a)(t.href,e,h.gi);if(i.status>=400){const e="getActionRequest OneService returned error response. Status: "+i.status;throw new Error(e)}return i.json()})),"getCardAction"),yield i}catch(e){return Object(g.c)(e,h.gi,"Error while getting action for card interest action",`Url: ${t.href} error: ${e&&e.message}`),null}}))}();e&&e.value&&e.value.length?function(e){if(!e)return;i=[],n=[];const t=e.filter(e=>null!=e&&0===e.actionType.localeCompare(b.a.Dislike,void 0,{sensitivity:"accent"})&&(0===e.targetType.localeCompare(b.f.League,void 0,{sensitivity:"accent"})||0===e.targetType.localeCompare(b.f.Team,void 0,{sensitivity:"accent"}))),a=e.filter(e=>null!=e&&0===e.actionType.localeCompare(b.a.Follow,void 0,{sensitivity:"accent"})&&(0===e.targetType.localeCompare(b.f.League,void 0,{sensitivity:"accent"})||0===e.targetType.localeCompare(b.f.Team,void 0,{sensitivity:"accent"})||e.metadata));t.length>0&&t.forEach(e=>{e.metadata&&e.metadata.Title&&i.push({id:e.targetId,name:e.metadata.Title,type:e.targetType})});a.length>0&&a.forEach(e=>{var t,i;n.push({id:(null===(t=e.metadata)||void 0===t?void 0:t.Sid)||"",name:null===(i=e.metadata)||void 0===i?void 0:i.Title,type:e.targetType,feedId:e.targetId})})}(e.value):e&&(i=[],n=[])}))}function A(e,t,i){return Object(a.a)(this,void 0,void 0,(function*(){if(Object(O.b)(e))return null;const n=e,r={method:"DELETE",headers:yield d.a.getOneServiceHeaders()};x()&&(r.credentials="include");const s=Object(u.c)("graph/actions");let o;(yield k()).forEach(e=>e.value&&s.searchParams.set(e.key,e.value));try{return o=yield Object(l.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){const e=yield Object(l.a)(`${s.href}&$filter=actionType+eq+'${t}'+and+targetId+eq+'${n}'+and+targetType+eq+'${i}'`,r,h.fi);if(e.status>=400){const a=`deleteActionRequest OneService returned error response. Status: ${e.status} for actionType: ${t}, targetId: ${n}, targetType: ${i}`;throw new Error(a)}return e})),"deleteCardAction"+t),yield o}catch(e){Object(g.c)(e,h.gi,"Error while delete action for card interest action","Url: "+s.href)}}))}function k(e=null,t=!0){return Object(a.a)(this,void 0,void 0,(function*(){return x()?d.a.getOneServiceParamsWithAuth(Object(s.b)().UserId,e||"Peregrine",t):d.a.getOneServiceParamsWithoutAuth(Object(s.b)().UserId,e||"Peregrine",t)}))}function x(){return Object(a.a)(this,void 0,void 0,(function*(){return!!c.b.UserIsSignedIn||(yield Object(T.d)())===v.c.SignedIn}))}function M(e){const t="undefined"!=typeof window&&Object(p.b)()&&Object(m.b)(),i=t?t.market||"en-us":Object(s.b)().CurrentMarket||"en-us",n=t?t.anid:Object(s.b)().UserId,a=t?t.latitude:Object(s.b)().Latitude,r=t?t.longitude:Object(s.b)().Longitude;e.set("market",i),Object(O.b)(n)||e.set("user",n),a&&r&&(e.set("lat",a),e.set("long",r))}e.fetchSports=function(){return Object(a.a)(this,void 0,void 0,(function*(){const t=e.sportsApi;if(Object(r.a)(t)){const e=new URL(t),i=yield d.a.getBaseRequestData("GET");M(e.searchParams);try{const t=yield Object(l.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){const t=yield Object(l.a)(decodeURIComponent(e.href),i,h.fi);if(!t.ok)throw S.a.sendAppErrorEvent(Object.assign(Object.assign({},h.fi),{message:"Error while calling fetch for sports data ",pb:Object.assign(Object.assign({},h.fi.pb),{fetchNetworkResponse:{statusCode:t.status,statusText:t.statusText,activityId:Object(s.b)().ActivityId,requestUrl:e.href,requestHeaders:JSON.stringify(i&&i.headers)},customMessage:`URL: ${e.href}, responseMessage: ${JSON.stringify(t)}`})})),Error(t.statusText);return t})),"FetchSports");return yield t.json()}catch(t){let n;i&&i.headers&&(n=i.headers),S.a.sendAppErrorEvent(Object.assign(Object.assign({},h.ei),{message:"Error while request sports data with exception.",pb:Object.assign(Object.assign({},h.ei.pb),{fetchNetworkResponse:{activityId:Object(s.b)().ActivityId,requestUrl:e.href,requestHeaders:JSON.stringify(i&&i.headers)},customMessage:`Error: ${t&&t.message} URL: ${e.href} headers: ${JSON.stringify(n)}`})}))}}}))},e.fetchSportsFeed=function(e=null,t=null,i=!1,n=!0,r=!1,c=null){return Object(a.a)(this,void 0,void 0,(function*(){const u=e;if(!Object(O.b)(u)){let e,g;try{if(e=new URL(u),!e||!o.a.isValidUrl(e.href,!0))return}catch(e){return void S.a.sendAppErrorEvent(Object.assign(Object.assign({},h.ei),{message:"Error while request sports feed data with URL exception.",pb:Object.assign(Object.assign({},h.ei.pb),{fetchNetworkResponse:{activityId:Object(s.b)().ActivityId,requestUrl:u},customMessage:`Error while request sports feed data with URL exception: ${e&&e.message} URL: ${u}`})}))}if(n){g=yield d.a.getBaseRequestData("GET"),M(e.searchParams);(yield k(t,i)).forEach(t=>t.value&&e.searchParams.set(t.key,t.value))}if(r){const t="undefined"!=typeof window&&Object(p.b)()&&Object(m.b)(),i=t?t.market:Object(s.b)().CurrentMarket;e.searchParams.set("market",i)}c&&c.length&&c.forEach(t=>{t.value&&e.searchParams.set(t.key,t.value)});try{const t=yield Object(l.b)(()=>Object(a.a)(this,void 0,void 0,(function*(){const t=yield Object(l.a)(decodeURIComponent(e.href),n?g:null,h.fi);if(t&&t.ok)return t;S.a.sendAppErrorEvent(Object.assign(Object.assign({},h.fi),{message:"Error while calling fetch sports feed data.",pb:Object.assign(Object.assign({},h.fi.pb),{fetchNetworkResponse:{statusCode:t.status,statusText:t.statusText,activityId:Object(s.b)().ActivityId,requestUrl:e.href,requestHeaders:JSON.stringify(g&&g.headers)},customMessage:`Error while calling fetch sports feed data: URL: ${e.href}, responseMessage: ${JSON.stringify(t)}`})}))})),"FetchSportsFeed");return yield t.json()}catch(t){S.a.sendAppErrorEvent(Object.assign(Object.assign({},h.ei),{message:"Error while request sports feed data with exception.",pb:Object.assign(Object.assign({},h.ei.pb),{fetchNetworkResponse:{activityId:Object(s.b)().ActivityId,requestUrl:e.href,requestHeaders:JSON.stringify(g&&g.headers)},customMessage:`Error while request sports feed data with exception: ${t&&t.message} URL: ${e.href} headers: ${(null==g?void 0:g.headers)&&JSON.stringify(null==g?void 0:g.headers)}`})}))}}}))},e.hideSportsCard=function(){return Object(a.a)(this,void 0,void 0,(function*(){try{return yield w.a.updateSegmentCardsEnableStatus([{cardType:f.a.SportsCard,enabled:!1}]),!0}catch(e){return Object(g.c)(e,h.gi,"Sports card settings save failed while hide sports card."),!1}}))},e.notInterestedSportsCard=function(e){return Object(a.a)(this,void 0,void 0,(function*(){if(!e||Object(O.b)(e.id))return!1;try{return yield I(e.id,e.name,b.a.Dislike,e.type||""),!0}catch(t){return Object(g.c)(t,h.gi,"Sports card settings save failed while dislike sports card leagueId: "+e.leagueId),!1}}))},e.removeDislikeSportsCard=function(e){return Object(a.a)(this,void 0,void 0,(function*(){if(!e||Object(O.b)(e.id))return!1;try{return yield A(e.id,b.a.Dislike,e.type||b.f.League),i=null,n=null,!0}catch(t){return Object(g.c)(t,h.gi,"Sports card settings save failed while remove dislike sports card leagueId: "+e.leagueId),!1}}))},e.getDislikeSportsEntities=function(e){j().then(()=>{i&&e(i)})},e.getFollowSportsEntities=function(e){j().then(()=>{n&&e(n)})},e.fetchSuggestions=function(i,n){return Object(a.a)(this,void 0,void 0,(function*(){const a=n.replace("{searchText}",i),r=Object(s.b)().CurrentMarket||"en-us",o=[];return yield e.fetchSportsFeed(a,null,!1,!1,!0).then(e=>{if(!e||!e.suggestionGroups||!e.suggestionGroups.length)return Object(g.b)(h.Xh,"Fetch sports suggestion get null response.",`market=${r}, input:${i}, searchUrl:${a}`),o;if(!e.suggestionGroups[0].searchSuggestions||!e.suggestionGroups[0].searchSuggestions.length)return Object(g.b)(h.Xh,"Fetch sports suggestion get empty groups.",`market=${r}, input:${i}, searchUrl:${a}`),o;let n=0;e.suggestionGroups[0].searchSuggestions.forEach(e=>{var i,a,s,c;if((null===(a=null===(i=e.entityPresentationInfo)||void 0===i?void 0:i.formattedFacts)||void 0===a?void 0:a.length)&&(null===(c=null===(s=e.entityPresentationInfo)||void 0===s?void 0:s.formattedFacts[0].items)||void 0===c?void 0:c.length)&&e.contractualRules.length){let i=e.richContent&&e.richContent.length&&e.richContent[0].webSearchUrl;i=i&&(i.startsWith("/")?i:"/"+i);const a=e.richContent&&e.richContent.length&&e.richContent[0].screenshot&&e.richContent[0].screenshot.imageId;let s=a&&Object(y.b)(a,t);s=s&&s.startsWith("//")?"https:"+s:s,o.push({index:n++,id:e.entityPresentationInfo.formattedFacts[0].items[0].text,name:e.displayText,type:e.contractualRules[0].targetPropertyName,displayText:e.displayText,typeDisplayHint:e.entityPresentationInfo.entityTypeDisplayHint,webSearchUrl:i&&`https://${Object(y.g)(r)}/${r}${i}`,imageUrl:s})}})}),o}))},e.postActionRequest=I,e.deleteActionRequest=A}(n||(n={}))},WbT4:function(e,t,i){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16"><path d="M10.27 5.66c.3.3.79.3 1.09 0 .3-.3.3-.78 0-1.08a.77.77 0 0 0-1.1 0c-.3.3-.3.78 0 1.08Z"/><path d="M2.54 7.33a2 2 0 0 0 0 2.83l3.3 3.29c.8.78 2.07.78 2.85 0l4.7-4.66a2 2 0 0 0 .58-1.4L14 4.02A2 2 0 0 0 11.97 2l-3.26.01c-.53 0-1.04.22-1.41.59L2.54 7.33Zm.7 2.12a1 1 0 0 1 0-1.41L8.02 3.3c.18-.19.44-.3.7-.3L11.98 3a1 1 0 0 1 1.01 1l-.02 3.38a1 1 0 0 1-.3.7l-4.69 4.66c-.4.4-1.03.4-1.42 0L3.25 9.45Z"/></svg>'},"YuP+":function(e,t,i){"use strict";i.d(t,"f",(function(){return d})),i.d(t,"e",(function(){return l})),i.d(t,"a",(function(){return u})),i.d(t,"g",(function(){return h})),i.d(t,"d",(function(){return g})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return m}));var n=i("kpPY"),a=i("rvYQ"),r=i("RIQ7"),s=i("fuIx"),o=i("e8jz"),c=i("lifk");c.d.PNG,c.d.PNG,c.d.PNG;function d(){let e,t=null;return Object(s.b)()&&(t=Object(o.b)()),e=t?t.market:a.a.CurrentMarket,e||"en-us"}function l(e,t,i){if(!(i&&e&&t&&i[e]))return null;if(i[e][t])return i[e][t];const n=t?t.substr(0,2):"en";return i[e][n]?i[e][n]:i[e].en}function u(e){if(!e||!e.length||e.includes("ocid="))return e;const t=Object(r.b)();return t?e+"?ocid="+t:e}function h(e){return"zh-cn"===e?"www.msn.cn":"www.msn.com"}function g(e,t,i=!1){return Object(n.b)(e)?i?Object(c.h)("BB1dV8FG",t):null:e.indexOf(".")>0?Object(c.g)(`${c.a}?id=${e}&pid=MSports`,t):Object(c.h)(e,t)}function p(e,t,i=!1){return Object(n.b)(e)?i?Object(c.h)("BB1dV8FG",t):null:Object(c.g)(`${c.a}?id=${e}&pid=MSports`,t)}function m(e,t,i=!1){return Object(n.b)(e)?i?Object(c.h)("BB1dV8FG",t):null:Object(c.g)(e,t)}},ZwaX:function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"i",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"j",(function(){return o})),i.d(t,"b",(function(){return c})),i.d(t,"h",(function(){return d})),i.d(t,"f",(function(){return l})),i.d(t,"a",(function(){return u})),i.d(t,"e",(function(){return h})),i.d(t,"d",(function(){return g})),i.d(t,"l",(function(){return p})),i.d(t,"m",(function(){return f})),i.d(t,"k",(function(){return v}));var n,a,r,s=i("Am8i");!function(e){e.preGame="pre-game",e.inprogressGame="inprogress-game",e.postGame="post-game"}(n||(n={})),function(e){e.singleparticipant="single",e.dualparticipants="dual"}(a||(a={})),function(e){e.unknown="Unknown",e.football="Football",e.baseball="Baseball",e.basketball="Basketball",e.basketball3x3="Basketball3x3",e.cricket="Cricket",e.icehockey="IceHockey",e.fieldhockey="FieldHockey",e.racing="Racing",e.tennis="Tennis",e.soccer="Soccer",e.golf="Golf",e.australianrules="AustralianRules",e.rugbyunion="RugbyUnion",e.rugbyleague="RugbyLeague",e.archery="Archery",e.athletics="Athletics",e.badminton="Badminton",e.cycling="Cycling",e.boxing="Boxing",e.canoeing="Canoeing",e.climbing="Climbing",e.equestrianism="Equestrianism",e.fencing="Fencing",e.gymnasticsartistic="GymnasticsArtistic",e.gymnasticsrhytmic="GymnasticsRhytmic",e.gymnasticstrampoline="GymnasticsTrampoline",e.handball="Handball",e.judo="Judo",e.karate="Karate",e.summerolympics="SummerOlympics",e.paralympics="Paralympics",e.pentathlon="Pentathlon",e.swimmingartistic="SwimmingArtistic",e.swimming="Swimming",e.diving="Diving",e.waterpolo="WaterPolo",e.rowing="Rowing",e.sailing="Sailing",e.shooting="Shooting",e.skateboarding="Skateboarding",e.surfing="Surfing",e.taekwondo="Taekwondo",e.triathlon="Triathlon",e.tabletennis="TableTennis",e.volleyballteam="VolleyballTeam",e.volleyballbeach="VolleyballBeach",e.weightlifting="Weightlifting",e.wrestling="Wrestling",e.softball="Softball",e.trackandfield="TrackAndField",e.mma="MMA",e.netball="Netball",e.boccia="Boccia"}(r||(r={}));const o=new Map([[r.soccer,new Set(["*"])],[r.football,new Set(["Football_NFL","Football_CollegeFootball"])],[r.baseball,new Set(["Baseball_MLB"])],[r.icehockey,new Set(["*"])],[r.basketball,new Set(["*"])]]);var c,d;!function(e){e.singleRace="MotorSportsSingleRace",e.raceList="MotorSportsRaceList"}(c||(c={}));!function(e){e.SportsCard="SportsCard",e.Homepage="homepage",e.Game="sports_game",e.Header="sports_header",e.SeeMore="seemore",e.Customization="sportscard_customization",e.MoreSettings="sportscard_customization_moresettings",e.Vertical="sports",e.HideCard="HideSport",e.HideSports="HideSportsCard",e.SaveSetting="done",e.CancelSetting="Cancel",e.SportsInput="searchsports",e.SportsSuggest="suggestresult",e.SportsSuggestUrl="suggesturl",e.ConfidenceScoreKey="cs",e.PreviousMatch="previous",e.NextMatch="next",e.AddSports="FollowWizard",e.AddSportsMenu="FollowTeamOrLeague",e.FollowSports="Follow",e.GoBack="Goback",e.EditSports="FollowWizard",e.ClickCarouselDot="CarouselDotClick",e.MotorSports="Motorsports",e.MotorRace="sing",e.MotorRaceTime="sports_gametime",e.MotorRaceScore="sports_gamescore"}(d||(d={}));const l={League:"League",Team:"Team"},u={Dislike:"Dislike",Follow:"Follow"};var h;!function(e){e.Small="1x_1y",e.Medium="1x_2y",e.Large="1x_3y"}(h||(h={}));const g="#",p=(e,t,i,n)=>{if(!e||!t||!i)return;const a=t||[],r=i||{},o=i.leagueName,c=i.leagueId,l=r.cardTitleClickthroughUrl,u=r.seeMoreClickthroughUrl,h=m(d.SportsCard,e,{category:o,headline:o},n),g=m(d.Header,e,{headline:o,id:c,type:s.c.StructuredData,category:o,destinationUrl:l},n),p=m(d.Customization,e,{headline:d.Customization,id:d.Customization,category:o},n),f=m(d.SeeMore,e,{headline:o,id:c,type:s.c.StructuredData,category:o,destinationUrl:u},n),v=m(d.MoreSettings,e,{category:o},n),b=m(d.HideCard,e,{category:o},n),y=m(d.HideSports,e,{category:o},n),S=new Map,T=new Map;a.forEach(t=>{if(!t.sportsMatchData.matchClickthroughUrl)return;const i=t.sportsMatchData.gameId,a=m(d.Game,e,{category:o,headline:o,gameId:i,destinationUrl:t.sportsMatchData.matchClickthroughUrl},n);S.set(t.sportsMatchData.matchClickthroughUrl,null==a?void 0:a.getMetadataTag()),T.set(i,a)});const O=m(d.SaveSetting,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),w=m(d.CancelSetting,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),C=m(d.SportsInput,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),I=m(d.SportsSuggest,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),j=m(d.PreviousMatch,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),A=m(d.NextMatch,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),k=m(d.AddSports,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),x=m(d.AddSportsMenu,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),M=m(d.FollowSports,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),P=m(d.GoBack,e,{headline:o,id:c,type:s.c.StructuredData,category:o},n),E=m(d.EditSports,e,{category:o,headline:o},n),L=m(d.ClickCarouselDot,e,{category:o,headline:o},n);return{componentRoot:e,sportsCard:h,destinations:S,games:T,header:g,actionButton:p,seeMore:f,menuMoreSettings:v,menuHideCard:b,menuHideSports:y,saveSetting:O,cancelSetting:w,sportsInput:C,sportsSuggest:I,previousMatch:j,nextMatch:A,addSports:k,menuAddSports:x,followSports:M,goBack:P,editSports:E,clickCarouselDot:L}};function m(e,t,i,n){if(!t||!i||!i.category)return null;const a=t.addOrUpdateChild({name:d.SportsCard,type:s.e.Module}),r={contentVertical:d.Vertical,category:i.category};switch(e){case d.SportsCard:return a.addOrUpdateChild({name:d.SportsCard,content:{vertical:r.contentVertical,category:r.category,type:s.c.StructuredData,id:""},ext:n},i.savedChildObject);case d.Header:return a.addOrUpdateChild({name:d.Header,behavior:s.b.Navigate,destinationUrl:i.destinationUrl,content:{vertical:r.contentVertical,category:r.category,headline:i.headline,type:s.c.StructuredData,id:""},ext:n},i.savedChildObject);case d.SeeMore:return a.addOrUpdateChild({name:d.SeeMore,behavior:s.b.Navigate,destinationUrl:i.destinationUrl,content:{vertical:r.contentVertical,category:r.category,headline:i.headline,type:s.c.StructuredData,id:""},ext:n},i.savedChildObject);case d.Game:return a.addOrUpdateChild({name:d.Game,behavior:s.b.Navigate,destinationUrl:i.destinationUrl,content:{vertical:r.contentVertical,category:r.category,headline:i.headline,type:s.c.StructuredData,id:""},ext:n},i.savedChildObject);case d.Customization:return a.addOrUpdateChild({name:d.Customization,behavior:s.b.More,content:{headline:d.Customization,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.Interaction,ext:n},i.savedChildObject);case d.MoreSettings:return a.addOrUpdateChild({name:d.MoreSettings,content:{headline:d.MoreSettings,vertical:r.contentVertical,type:s.c.StructuredData,id:""},overrideDestinationUrl:(window.location.origin||"")+"/personalize",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.HideCard:return a.addOrUpdateChild({name:d.HideCard,behavior:s.b.Hide,content:{headline:d.HideCard,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.HideSports:return a.addOrUpdateChild({name:d.HideSports,behavior:s.b.Hide,content:{headline:d.HideSports,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.PreviousMatch:return a.addOrUpdateChild({name:d.PreviousMatch,behavior:s.b.Undefined,content:{headline:d.PreviousMatch,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.NextMatch:return a.addOrUpdateChild({name:d.NextMatch,behavior:s.b.Undefined,content:{headline:d.NextMatch,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.SaveSetting:return a.addOrUpdateChild({name:d.SaveSetting,behavior:s.b.Save,content:{headline:d.SaveSetting,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.CancelSetting:{const e=a.addOrUpdateChild({name:d.AddSports,action:s.a.View,type:s.e.Module});return e.addOrUpdateChild({name:d.CancelSetting,behavior:s.b.Cancel,content:{headline:d.CancelSetting,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},e)}case d.SportsInput:return a.addOrUpdateChild({name:d.SportsInput,content:{headline:d.SportsInput,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.InputBox,ext:n},i.savedChildObject);case d.SportsSuggest:return a.addOrUpdateChild({name:d.SportsSuggest,content:{headline:d.SportsSuggest,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.AutoSuggest,ext:n},i.savedChildObject);case d.AddSports:return a.addOrUpdateChild({name:d.AddSports,action:s.a.View,type:s.e.Module});case d.AddSportsMenu:return a.addOrUpdateChild({name:d.AddSportsMenu,behavior:s.b.Open,content:{headline:d.AddSportsMenu,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.FollowSports:return a.addOrUpdateChild({name:d.FollowSports,behavior:s.b.Follow,content:{headline:d.FollowSports,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.ActionButton,ext:n},i.savedChildObject);case d.GoBack:return a.addOrUpdateChild({name:d.GoBack,behavior:s.b.Navigate,content:{headline:d.GoBack,vertical:r.contentVertical,type:s.c.StructuredData,id:""},destinationUrl:"",type:s.e.Interaction,ext:n},i.savedChildObject);case d.EditSports:return a.addOrUpdateChild({name:d.EditSports,content:{vertical:r.contentVertical,category:r.category,type:s.c.StructuredData,id:""},ext:n},i.savedChildObject);case d.ClickCarouselDot:return a.addOrUpdateChild({name:d.ClickCarouselDot,content:{vertical:r.contentVertical,category:r.category,type:s.c.StructuredData,id:""},ext:n},i.savedChildObject)}}const f=(e,t,i=!1)=>{if(!e||!t)return null;const n=e.addOrUpdateChild({name:i?d.AddSports:d.SportsCard,action:s.a.View,type:s.e.Module});return{componentRoot:e,webSearchUrl:n.addOrUpdateChild({name:d.SportsSuggestUrl,behavior:s.b.Navigate,content:{headline:d.SportsSuggestUrl,vertical:d.Vertical,category:t.name,type:s.c.StructuredData,id:""},overrideDestinationUrl:t.webSearchUrl}),followEntity:n.addOrUpdateChild({name:d.FollowSports,behavior:s.b.Follow,content:{headline:t.name,vertical:d.Vertical,category:t.name,type:s.c.StructuredData,id:t.id},destinationUrl:""})}},v=(e,t,i,a)=>{var r;if(!e||!t)return null;const o=e.addOrUpdateChild({name:d.SportsCard,action:s.a.View,type:s.e.Module}),l=p(e,t,i,a);null===(r=l.games)||void 0===r||r.clear();const u=t||[];if(i.dataType===c.raceList&&u.forEach(e=>{const t=o.addOrUpdateChild({name:d.MotorRace,behavior:s.b.Navigate,content:{vertical:d.Vertical,category:d.MotorSports,subcategory:i.leagueName,type:s.c.StructuredData,id:e.sportsMatchData.gameId},overrideDestinationUrl:e.sportsMatchData.matchClickthroughUrl});l.games.set(e.sportsMatchData.gameId,t)}),i.dataType===c.singleRace&&u.length>0){const e=o.addOrUpdateChild({name:u[0].sportsMatchData.gameStateCatetory===n.inprogressGame?d.MotorRaceTime:d.MotorRaceScore,behavior:s.b.Navigate,content:{vertical:d.Vertical,category:d.MotorSports,subcategory:i.leagueName,type:s.c.StructuredData,id:u[0].sportsMatchData.gameId},overrideDestinationUrl:u[0].sportsMatchData.matchClickthroughUrl});l.games.set(u[0].sportsMatchData.gameId,e)}return l}},aaiv:function(e,t,i){"use strict";t.a='<svg width="12" height="12" viewBox="0 0 12 12"><path d="M6.85 6 12 11.15l-.85.85L6 6.85.85 12 0 11.15 5.15 6 0 .85.85 0 6 5.15 11.15 0l.85.85L6.85 6Z"/></svg>'},ac9z:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return h})),i.d(t,"b",(function(){return g})),i.d(t,"c",(function(){return p}));var n=i("D57K"),a=i("k3mM"),r=i("rvYQ"),s=i("zfSW"),o=i("5Uqz"),c=i("l+Jz");const d="cbypass";let l=parseInt(Object(o.a)(d))||0;function u(){return Object(n.a)(this,void 0,void 0,(function*(){l=Date.now(),Object(o.c)(d,l.toString(),10/1440,r.a.HostPage.topDomain,"/"),yield a.b.purgeCacheAsync(a.a.river),Object(s.d)({id:c.a.UpdateMyFeed,payload:l})}))}function h(){return Object(n.a)(this,void 0,void 0,(function*(){l=Date.now(),Object(o.c)(d,l.toString(),10/1440,r.a.HostPage.topDomain,"/"),yield a.b.purgeCacheAsync(a.a.river)}))}function g(){return l}function p(e){l>0&&e.searchParams.set(d,l.toString())}},eAka:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("Avji"),a=i("sydv");const r=(e,t,i,r,s)=>Object.assign(Object.assign({},Object(a.c)(e,i+" for CMS",(r||i)+" for CMS")),Object(n.b)(t,i+" for Git",(r||i)+" for Git",s))},eNhF:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("YBl9"),a=i("6eT7");function r(e=0,t=1,i,r){const s=r.toColorString(),{r:o,g:c,b:d}=Object(n.c)(s),l=`linear-gradient(160deg, ${new a.a(o,c,d,e).toStringWebRGBA()}, ${new a.a(o,c,d,t).toStringWebRGBA()})`;if(i){return[l,null==i?void 0:i.toColorString()].join()}return l}},ecad:function(e,t,i){"use strict";t.a='<svg width="20" height="20" viewBox="0 0 20 20"><path d="M8.5 4.9c-.37.07-.76.3-1.07.85a.5.5 0 1 1-.86-.5A2.57 2.57 0 0 1 8.3 3.92c.65-.13 1.3.04 1.8.36.48.32.87.84.88 1.47.01.66-.39 1.25-1.12 1.68-.5.3-.7.5-.77.63-.07.11-.09.21-.09.44a.5.5 0 0 1-1 0c0-.27.01-.61.24-.97.2-.34.57-.64 1.11-.96.54-.32.63-.62.63-.8 0-.2-.14-.46-.44-.65-.29-.2-.67-.3-1.05-.22ZM8.75 11.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"/><path d="M8.5 1a6.5 6.5 0 0 0-5.67 9.67l-.8 2.08a1 1 0 0 0 1.2 1.32l2.5-.7A6.5 6.5 0 1 0 8.5 1ZM3 7.5a5.5 5.5 0 1 1 3 4.9l-.18-.09-2.86.8.97-2.53-.13-.21A5.47 5.47 0 0 1 3 7.5Z"/><path d="M11.46 17a6.49 6.49 0 0 1-4.92-2.26A7.5 7.5 0 0 0 8.3 15a5.47 5.47 0 0 0 5.66.4l.18-.09 2.86.8-.97-2.53.13-.21A5.47 5.47 0 0 0 16 7.39c0-.6-.1-1.2-.24-1.76a6.48 6.48 0 0 1 1.38 8.04l.8 2.08a1 1 0 0 1-1.21 1.32l-2.49-.7c-.84.4-1.78.63-2.78.63Z"/></svg>'},f8ag:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n,a=i("rvYQ");!function(e){e.ImageSize={TopicCardImageStandardDimensions:{height:80,width:80},ContentCardImageStandardDimensions:{height:68,width:68},ContentCardProviderImgStandardDimensions:{height:16,width:16},SuggestionCardImgStandardDimensions:{height:42,width:42}},e.topicCardBackupImageUrl="https://img-s-msn-com.akamaized.net/tenant/amp/entityid/AAtCmK3.img",e.informationCardAutosMarketplaceToggle="autosMarketplaceToggle",e.informationCardBingShoppingToggle="bingShoppingToggle",e.informationCardMoneyToggle="moneyToggle",e.informationCardSportsToggle="sportsToggle",e.informationCardEsportsToggle="esportsToggle",e.informationCardWeatherToggle="weatherToggle",e.informationCardQnaToggle="qnaToggle",e.informationCardRecipeToggle="recipeToggle",e.informationCardTravelToggle="travelToggle",e.informationCardHoroscopeToggle="horoscopeToggle",e.informationCardOnThisDayToggle="onThisDayToggle",e.informationCardElectionsToggle="electionsToggle",e.feedSettingReactionsToggle="reactionsToggle",e.feedSettingCommentsToggle="commentsToggle",e.productivitySettingIndustryNewsToggle="industryNewsToggle",e.productivitySettingRecommendedDocumentsToggle="recommendedDocumentsToggle",e.informationCardHealthToggle="healthCardToggle",e.informationCardTopStoriesToggle="topStoriesToggle",e.defaultToastNotificationTimeoutMs=3e3,e.sectionVisibilityBufferPx=25,e.sidePaneLayoutResponsiveWidth=611,e.stickySearchHeights={c1:66,c2:82,default:100},e.searchBoxHalfHeight=70,e.defaultStickyHeaderHeightPx=158,e.oneColumnStickyHeaderHeightPx=50,e.sectionIds={followedInterests:"followed-interests",followedPublishers:"followed-publishers",recommendedTopics:"recommended-topics",discoverInterests:"discover-interests",savedStories:"saved-stories",mutedPublishers:"muted-publishers",readStories:"read-stories",tuneFeed:"tune-feed",notification:"notification",settings:"settings-root",feedSettings:"feed-settings-root"},e.sdSettingsSectionIds={root:"settings-root",Sports:"sports-settings",Esports:"esports-settings",Weather:"weather-settings",Finance:"finance-settings",Shopping:"shopping-settings",Traffic:"traffic-settings",Market:"market-settings",Horoscope:"horoscope-settings",Qna:"qna-settings",Travel:"travel-settings",Recipe:"recipe-settings",OnThisDay:"on-this-day",AutosMarketplace:"autos-marketplace-settings",GenericElection:"elections-settings",Health:"health-settings",TopStories:"top-stories-settings"},e.productivitySettingsSectionIds={root:"productivity-settings-root",RecommendedDocuments:"recommended-documents-settings",IndustryNews:"industry-news-settings"},e.feedSettingsSectionIds={root:"feed-settings-root",Reactions:"reactions-settings",Comments:"comments-settings"},e.defaultSelectedSection={Personalize:e.sectionIds.discoverInterests,MyInterests:e.sectionIds.discoverInterests,Setting:Object(a.b)().IsCnDomain?e.sdSettingsSectionIds.root:e.sdSettingsSectionIds.Market},e.SdSettingsOrder=["Weather","Finance","Sports","Esports","Traffic","Shopping","Horoscope","Qna","Travel","Recipe","OnThisDay","GenericElection","Health","AutosMarketplace","TopStories"],e.ProductivitySettingsOrder=["RecommendedDocuments","IndustryNews"],e.FeedSettingsOrder=["Reactions","Comments"],e.SettingCardTelemetryMapping={Weather:e.informationCardWeatherToggle,Sports:e.informationCardSportsToggle,Esports:e.informationCardEsportsToggle,Finance:e.informationCardMoneyToggle,Shopping:e.informationCardBingShoppingToggle,Qna:e.informationCardQnaToggle,Travel:e.informationCardTravelToggle,Recipe:e.informationCardRecipeToggle,Horoscope:e.informationCardHoroscopeToggle,OnThisDay:e.informationCardOnThisDayToggle,GenericElection:e.informationCardElectionsToggle,Health:e.informationCardHealthToggle,AutosMarketplace:e.informationCardAutosMarketplaceToggle,TopStories:e.informationCardTopStoriesToggle},e.FeedSettingCardTelemetryMapping={Reactions:e.feedSettingReactionsToggle,Comments:e.feedSettingCommentsToggle},e.ProductivitySettingCardTelemetryMapping={IndustryNews:e.productivitySettingIndustryNewsToggle,RecommendedDocuments:e.productivitySettingRecommendedDocumentsToggle},e.sidePaneWidth="305px",e.treeItemTag="FLUENT-TREE-ITEM",e.savesHash="#saves",e.publishersHash="#mutedPublishers",e.discoveryInterestsMenuId="menuItem-discover-interests",e.notificationMenuId="menuItem-notification",e.provideNameTag="provider",e.settingsRootMenuId="menuItem-settings-root",e.maxNumberOfResults=6,e.FluentTreeItemTagName="fluent-item-tree",e.MutedPublishersId="mutedpublishers",e.MsftPublishersCardTagName="msft-publishers-card",e.MutedPublishersMenuItemId="menuItem-muted-publishers",e.TopStoriesEnabledId="IsTopStoriesEnabled"}(n||(n={}))},h3hC:function(e,t,i){"use strict";var n,a;i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return a})),function(e){e[e.none=0]="none",e[e.enabled=1]="enabled",e[e.saved=2]="saved",e[e.hide=4]="hide",e[e.showMore=8]="showMore",e[e.showFewer=16]="showFewer",e[e.mute=32]="mute",e[e.hidden=64]="hidden",e[e.report=128]="report",e[e.adFeedbackSubmitted=256]="adFeedbackSubmitted"}(n||(n={})),function(e){e.Hide="Hide",e.Like="Like",e.Dislike="Dislike",e.Mute="Mute",e.Save="Save",e.Share="Share",e.ShowMore="ShowMore",e.ShowFewer="ShowFewer",e.Divider="Divider",e.Report="Report",e.ManageInterests="ManageInterests",e.ReportAd="ReportAd",e.AdPrivacy="AdPrivacy"}(a||(a={}))},hSGL:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i("D57K"),a=i("tERu"),r=i("ypwz"),s=i("tMmC"),o=i("HxRh"),c=i("XlyT"),d=i("rvYQ"),l=i("zfSW"),u=i("msIb"),h=i("6ADy"),g=i("KETb"),p=i("u8F0"),m=i("CgWR"),f=i("u5KZ"),v=i("l+Jz"),b=i("HDSB"),y=i("/+Un");const S=new class extends class{constructor(e){this.fetchImpl=e,this.userUpdateEndpoint="msn/user",this.pdpServiceEndpoint="graph/actions",this.locationsServiceEndPoint="v1/news/users/me/locations",this.ocid="Peregrine",this.ocidOverride=!1}getUserDefaultLocation(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"GET",headers:yield u.a.getOneServiceHeaders(),credentials:"include"},i=Object(h.c)(this.locationsServiceEndPoint);let a;[...u.a.getCommonParams2(this.ocid,!this.ocidOverride),{key:"autodetect",value:e&&""+e}].forEach(e=>{e.value&&i.searchParams.set(e.key,e.value)});try{a=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(i.href,t);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: getUserDefaultLocation}`;throw new Error(t)}return e})),"getUserDefaultLocation")}catch(e){return a}return a}))}addToFavoriteLocation(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const i={method:"POST",body:JSON.stringify({actionType:"Follow",targetType:"Location",definitionName:t,degree:"FavoriteLocation",metaData:e}),headers:yield u.a.getOneServiceHeaders(),credentials:"include"},r=Object(h.c)(this.pdpServiceEndpoint);let s;((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&r.searchParams.set(e.key,e.value)});try{s=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,i);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: Location`;throw new Error(t)}return e.json()})),"addToFavoriteLocation")}catch(e){return!1}return!0}))}removeFavoriteLocation(e){return Object(n.a)(this,void 0,void 0,(function*(){return yield this.deleteFromPdp(p.a.Location,"definitionName",[e])}))}updatePdpHomeLocation(e,t,i={},r){return Object(n.a)(this,void 0,void 0,(function*(){const s=p.a.Location,o=yield this.getRequestInit({method:"POST"},i);o.body=JSON.stringify({actionType:"Follow",targetType:s,definitionName:t,degree:"DefaultLocation",metaData:e});const c=Object(h.c)(this.pdpServiceEndpoint);return((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(null!=r?r:Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(null!=r?r:Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&c.searchParams.set(e.key,e.value)}),yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(c.href,o);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${s}`;throw new Error(t)}return e})),"setPdpHomeLocation"),this.tryInvalidateBulkFetchedPdpTargetType(s),!0}))}updateTrafficMyRoutes(e,t,i,a,r){return Object(n.a)(this,void 0,void 0,(function*(){const o=p.a.Traffic,c={method:"POST",body:JSON.stringify({actionType:"Follow",targetType:o,targetId:i,degree:e,definitionName:t,metadata:a}),headers:yield u.a.getOneServiceHeaders(),credentials:"include"},d=yield this.getTrafficPdpUrl(null,null,r);try{yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(d.href,c);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${o}`;throw new Error(t)}return e.json()})),"updateTrafficMyRoutes");this.tryInvalidateBulkFetchedPdpTargetType(o)}catch(e){return s.a.logError(e.message),!1}return!0}))}deleteTrafficMyRoutes(e,t,i){return Object(n.a)(this,void 0,void 0,(function*(){const a={method:"DELETE",headers:yield this.getOneserviceHeaders(),credentials:"include"},r=yield this.getTrafficPdpUrl(e,t,i);try{yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,a);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${p.a.Traffic}`;throw new Error(t)}return e})),"deleteTrafficFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(p.a.Traffic)}catch(e){return!1}return!0}))}getTrafficMyRoutes(e,t){var i;return Object(n.a)(this,void 0,void 0,(function*(){const a={method:"GET",headers:yield this.getOneserviceHeaders(),credentials:"include"},r=yield this.getTrafficPdpUrl(e,null,t);try{const e=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,a);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${p.a.Traffic}`;throw new Error(t)}return e})),"getTrafficFromPdp");return null===(i=yield e.json())||void 0===i?void 0:i.value}catch(e){return null}}))}getTrafficPdpUrl(e,t,i){return Object(n.a)(this,void 0,void 0,(function*(){const n=Object(h.c)(this.pdpServiceEndpoint),r=(yield Object(y.d)())===a.c.SignedIn,s=Object(d.b)().UserId,o=r?u.a.getOneServiceParamsWithAuth(s,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(s,this.ocid,!this.ocidOverride);if(e||t){const i=`targetType eq '${p.a.Traffic}'`,a=e?`degree eq '${e}'`:"",r=t?`definitionName eq '${t}'`:"";n.searchParams.set("$filter",`actionType eq 'Follow' and (${i})${a?` and (${a})`:""}${r?` and (${r})`:""}`)}return[...o,...i||[]].forEach(e=>{e.value&&n.searchParams.set(e.key,e.value)}),n}))}addToWatchList(e,t=0,i={}){return Object(n.a)(this,void 0,void 0,(function*(){const r=p.a.Finance,s={method:"POST",body:JSON.stringify({actionType:"Follow",targetType:r,targetId:e,metadata:{securityType:t,tickerId:this.generateUUID()}}),headers:yield this.getOneserviceHeaders(i),credentials:"include"},o=Object(h.c)(this.pdpServiceEndpoint),c="zh-cn"!==Object(d.b)().CurrentMarket;let l;((yield Object(y.d)())===a.c.SignedIn&&c?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});try{l=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(o.href,s);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${r}`;throw new Error(t)}return e.json()})),"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(r)}catch(e){return!1}return!0}))}generateUUID(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))}sortWatchList(e,t={}){return Object(n.a)(this,void 0,void 0,(function*(){const i=p.a.Finance,r=yield S.readPdpWithTargetType(p.a.Finance,!0,200,t),s=r&&r.value;if(s.length!=e.length)return!1;const o={};e.forEach((e,t)=>{const n=s.filter(t=>t.targetId===e)[0];if(!n)return!1;o[e]=JSON.stringify({actionType:"Follow",targetId:e,targetType:i,rank:t,metadata:n.metadata})});const c={method:"PUT",body:JSON.stringify(o),headers:yield this.getOneserviceHeaders(t),credentials:"include"},l=Object(h.c)(this.pdpServiceEndpoint);((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&l.searchParams.set(e.key,e.value)});try{yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(l.href,c);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${i}`;throw new Error(t)}return e.json()})),"sortWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(p.a.Finance)}catch(e){return!1}return!0}))}updateWeatherSettings(e,t,i={},r){return Object(n.a)(this,void 0,void 0,(function*(){if(!e&&!t)return!0;let n="";n=e&&!t?'{"weatherDisplayUnit":"'+e+'"}':!e&&t?'{"userSettings":{"weatherLocationSettingMode":"'+t+'"}}':'{"weatherDisplayUnit":"'+e+'","userSettings":{"weatherLocationSettingMode":"'+t+'"}}';const s=yield this.getRequestInit({method:"POST"},i);s.body=n;const o=Object(h.c)(this.userUpdateEndpoint);((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(null!=r?r:Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(null!=r?r:Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});const c=yield this.fetchImpl(o.href,s);if(c.status>=400){const e=`OneService returned error response. Status: ${c.status} for update weather setting call`;throw new Error(e)}return!0}))}updateUserSettings(e,t={},i){return Object(n.a)(this,void 0,void 0,(function*(){if(!e)return!0;const n=[];let r;for(r in e)null!=e[r]&&n.push('"'+r+'": '+JSON.stringify(e[r]));const o='{"userSettings":{'+n.join(", ")+"}}",c=yield this.getRequestInit({method:"POST"},t);c.body=o;const l=Object(h.c)(this.userUpdateEndpoint);((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(null!=i?i:Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(null!=i?i:Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&l.searchParams.set(e.key,e.value)});try{const e=yield this.fetchImpl(l.href,c);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for update weather setting call`;throw new Error(t)}}catch(e){return s.a.logError(e.message),!1}return!0}))}getPdpUserPreference(e={}){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit({method:"GET"},e),i=Object(h.c)(this.userUpdateEndpoint);[...(yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)].forEach(e=>{e.value&&i.searchParams.set(e.key,e.value)});try{const e=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(i.href,t);if(!e.ok){if(e.status>=400&&e.status<500&&408!=e.status)return e;throw Error(e.statusText)}return e})),"readPDPData");if(!e.ok)throw Error(`code=${e.status}, ${e.statusText}`);return yield e.json()}catch(e){return s.a.logError(e.message),null}}))}updatePdpLayoutPreference(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"PUT",credentials:"include",body:JSON.stringify({dummyid:{userLayoutPreference:e}})},i=Object(h.c)(this.userUpdateEndpoint);((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&i.searchParams.set(e.key,e.value)});try{const e=yield this.fetchImpl(i.href,t);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for update layout preference setting call`;throw new Error(t)}}catch(e){return s.a.logError(e.message),!1}return!0}))}updateSegmentCardsEnableStatus(e,t=null){return Object(n.a)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const i=[];if(t){let e;for(e in t)null!=t[e]&&i.push('"'+e+'": '+JSON.stringify(t[e]))}const n=e.map(e=>e.cardType!=m.a.TopStoriesCard?`\\"${e.cardType}\\":${e.enabled?'\\"1\\"':'\\"0\\"'}`:"").join(","),a=i.length>0?'{"segmentCardSettings":"{'+n+'}","userSettings":{'+i.join(", ")+"}}":'{"segmentCardSettings":"{'+n+'}"}';return this.updateUserPreference(a)}))}updateProductivityCardsEnableStatus(e){return Object(n.a)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t='{"productivityCardSettings":"{'+e.map(e=>`\\"${e.cardType}\\":${e.enabled?'\\"1\\"':'\\"0\\"'}`).join(",")+'}"}';return this.updateUserPreference(t)}))}updateCommunitySettingsOptOutStatus(e){return Object(n.a)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t={};e.forEach(e=>{t[e.settingType]=e.optedOut?"1":"0"});const i={communitySettings:t};return this.updateUserPreference(JSON.stringify(i))}))}updateUserPreference(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"POST",body:e,credentials:"include"},i=Object(h.c)(this.userUpdateEndpoint);((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&i.searchParams.set(e.key,e.value)});try{const n=yield this.fetchImpl(i.href,t);if(n.status>=400){const t=`OneService returned error response while updating user preference. Status: ${n.status}, payload: ${e}`;throw new Error(t)}}catch(e){return!1}return!0}))}setPdpTargetTypesForBulkLoad(e){e&&e.length&&!this.bulkGraphActionTargetTypes&&(this.bulkGraphActionTargetTypes=e)}readPdpWithTargetType(e,t=!1,i,a={},r=!0){return Object(n.a)(this,void 0,void 0,(function*(){if(r){const t=yield this.getFromWebWorker(e);if(t)return t}if(this.bulkGraphActionTargetTypes&&this.bulkGraphActionTargetTypes.length)if(this.bulkGraphActionTargetTypes.indexOf(e)>=0){this.bulkGraphActionResultCache=this.bulkGraphActionResultCache||(yield this.bulkGraphActionPromise||(this.bulkGraphActionPromise=this.fetchPdpWithTargetTypes(this.bulkGraphActionTargetTypes,t,i)));const n=this.bulkGraphActionResultCache.get(e);if(n)return{value:n}}else f.a.sendAppErrorEvent(Object.assign(Object.assign({},o.Ri),{message:`Received an unknown target type "${e}" that was not in the bulk graph action target types list "${this.bulkGraphActionTargetTypes}". Falling back to new network call. Please update the EntryPoint config's "graphActionsToBulkLoad" property to include this type.`}));const n=(yield this.fetchPdpWithTargetTypes([e],t,i,a)).get(e);if(n)return{value:n}}))}deleteFromPdp(e,t,i,r={},s){return Object(n.a)(this,void 0,void 0,(function*(){const o={method:"DELETE",headers:yield this.getOneserviceHeaders(r),credentials:"include"},c=Object(h.c)(this.pdpServiceEndpoint),l=(yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride),p=`targetType eq '${e}'`;let m=`actionType eq 'Follow' and (${i.map(e=>`${t} eq '${e}'`).join(" or ")}) and (${p})`;s&&(m+=` and (degree eq '${s}')`),c.searchParams.set("$filter",m),l.forEach(e=>{e.value&&c.searchParams.set(e.key,e.value)});try{yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.fetchImpl(c.href,o);if(t.status>=400){const i=`OneService returned error response. Status: ${t.status} for actionType: Follow, targetType: ${e}`;throw new Error(i)}return t})),"deleteFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(e)}catch(e){return!1}return!0}))}tryInvalidateBulkFetchedPdpTargetType(e){this.bulkGraphActionResultCache&&this.bulkGraphActionResultCache.delete(e)}fetchPdpWithTargetTypes(e,t=!1,i,r={}){return Object(n.a)(this,void 0,void 0,(function*(){if(!e.length)return new Map;const s=e.map(e=>`targetType eq '${e}'`).join(" or "),o=[{key:"$top",value:""+(i=i||10*e.length*2)},{key:"$filter",value:`actionType eq 'Follow' and (${s})`}],c=yield this.getRequestInit({method:"GET"},r);!0===t&&(c.cache="no-store");const l=Object(h.c)(this.pdpServiceEndpoint);[...o,...(yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)].forEach(e=>{e.value&&l.searchParams.set(e.key,e.value)});const p=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(l.href,c);if(!e.ok){if(e.status>=400&&e.status<500&&408!=e.status)return e;throw Error(e.statusText)}return e})),"readPDPData");if(!p.ok)throw Error(`code=${p.status}, ${p.statusText}`);const m=new Map,f=yield p.json();if(!f)return m;if(f.value)for(const e of f.value){let t=m.get(e.targetType);t||m.set(e.targetType,t=[]),t.push(e)}for(const t of e)m.get(t)||m.set(t,[]);return m}))}updateMarketPreference(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"POST",credentials:"include",body:JSON.stringify({userSettings:{preferredMarket:e}})},i=Object(h.c)(this.userUpdateEndpoint);((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&i.searchParams.set(e.key,e.value)});try{const e=yield this.fetchImpl(i.href,t);if(!e.ok)throw new Error("Failed to update market preference: Status: "+e.status);return!0}catch(e){return s.a.logError(e.message),!1}}))}getFromWebWorker(e){return Object(n.a)(this,void 0,void 0,(function*(){let t=null;if(l.c){const i=this.maptoWebWorkerId(e);if(i&&i.trim()){const i=yield Object(l.b)({id:this.maptoWebWorkerId(e)});i.fetched&&(t=i.payload)}}return t}))}maptoWebWorkerId(e){switch(e){case p.a.Location:return v.a.WeatherPdp;case p.a.League:return v.a.SportsLeaguePdp;case p.a.Player:return v.a.SportsPlayerPdp;case p.a.Team:return v.a.SportsTeamPdp;case p.a.Finance:return v.a.MoneyPdp;default:return""}}getRequestInit(e={method:"GET"},t={}){return Object(n.a)(this,void 0,void 0,(function*(){const i=yield u.a.getOneServiceHeaders();return e.headers=Object.assign(Object.assign({},i),t),e.credentials="include",e}))}getOneserviceHeaders(e={}){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield u.a.getOneServiceHeaders();return Object.assign(Object.assign({},t),e)}))}getFollowedLists(){return Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.getRequestInit({method:"GET"}),t=Object(h.c)(this.userUpdateEndpoint);[...(yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)].forEach(e=>{e.value&&t.searchParams.set(e.key,e.value)});try{const i=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const i=yield this.fetchImpl(t.href,e);if(!i.ok){if(i.status>=400&&i.status<500&&408!=i.status)return i;Object(c.c)(null,o.bd,"Error get followed list")}return i})),"getFollowedLists");return i.ok||Object(c.c)(null,o.bd,"Error get followed list"),yield i.json()}catch(e){return s.a.logError(e.message),null}}))}addToFollowedLists(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=p.a.Finance,i={method:"POST",body:JSON.stringify({financeListIds:e}),headers:yield u.a.getOneServiceHeaders(),credentials:"include"},r=Object(h.c)(this.userUpdateEndpoint);let s;((yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&r.searchParams.set(e.key,e.value)});try{s=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,i);if(e.status>=400){const i=`OneService returned error response. Status: ${e.status} for actionType: FollowList, targetType: ${t}`;throw new Error(i)}return e.json()})),"addToFollowedLists")}catch(e){return!1}return!0}))}deleteFromFollowedLists(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=p.a.Finance,i={method:"DELETE",body:null,headers:yield u.a.getOneServiceHeaders(),credentials:"include"},r=Object(h.c)(this.userUpdateEndpoint);let s;[...(yield Object(y.d)())===a.c.SignedIn?u.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride):u.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,!this.ocidOverride),...[{key:"financeListIds",value:e.toString()}]].forEach(e=>{e.value&&r.searchParams.set(e.key,e.value)});try{s=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,i);if(e.status>=400){const i=`OneService returned error response. Status: ${e.status} for actionType: UnFollowList, targetType: ${t}`;throw new Error(i)}return e.json()})),"deleteFromFollowedLists")}catch(e){return!1}return!0}))}}{constructor(){super(Object(b.a)()?window.fetch.bind(window):fetch),d.a.AppType!==r.a.WindowsNewsPlus&&d.a.AppType!==r.a.NewsAndInterests&&d.a.AppType!==r.a.WindowsNewsWidgets||(this.ocid="winp2",this.ocidOverride=!0),d.a.AppType===r.a.SharedWidgets&&(this.ocid="BingHp01",this.ocidOverride=!0)}}},hme2:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i("D57K"),a=i("OkDC"),r=i("tMmC"),s=i("HxRh"),o=i("ypwz"),c=i("tERu"),d=i("rvYQ"),l=i("msIb"),u=i("6ADy"),h=i("/+Un"),g=i("KETb");class p{constructor(e){this.fetchImpl=e,this.actionsEndpoint="./Graph/Actions",this.defaultOcid="Peregrine"}sendPostActionRequest(e,t=this.defaultOcid,i=!0){return Object(n.a)(this,void 0,void 0,(function*(){const a=JSON.stringify(e),r={method:"POST",body:a,headers:yield l.a.getOneServiceHeaders()};(yield Object(h.e)())&&(r.credentials="include");const s=Object(u.c)(this.actionsEndpoint);(yield l.a.getCommonParams2(t,i)).forEach(e=>e.value&&s.searchParams.set(e.key,e.value));return yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(s.href,r);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for Post request: ${s.href} with params ${JSON.stringify(r)}`;throw new Error(t)}return e})),"postAction"+a)}))}sendDeleteActionRequest(e,t=this.defaultOcid,i=!0){return Object(n.a)(this,void 0,void 0,(function*(){const a=yield l.a.getBaseRequestData("DELETE");(yield Object(h.e)())&&(a.credentials="include");let r="";const s=Object.keys(e),o=s.length;for(let t=0;t<o;t++)r+=`${s[t]} eq '${e[s[t]]}'`,t!=o-1&&o>1&&(r+=" and ");const c={key:"$filter",value:r},d=Object(u.c)(this.actionsEndpoint);[c,...yield l.a.getCommonParams2(t,i)].forEach(e=>e.value&&d.searchParams.set(e.key,e.value));return yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(d.href,a);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for Delete request: ${d.href} with params: ${JSON.stringify(a)}`;throw new Error(t)}return e})),"deleteAction"+r)}))}}var m=i("ac9z"),f=i("u5KZ"),v=i("HDSB");class b extends class{constructor(e){this.fetchImpl=e,this.ocid="feeds",this.freServiceEndpoint="news/fre",this.userEndpoint="./msn/user",this.addPageInfoToOcid=!0,this.actionsClient=new p(e),d.a.AppType!==o.a.NewsAndInterests&&d.a.AppType!==o.a.WindowsNewsPlus&&d.a.AppType!==o.a.WindowsNewsWidgets||(this.addPageInfoToOcid=!1,this.ocid="winp2")}getFreArtifacts(){return Object(n.a)(this,void 0,void 0,(function*(){const e=Object(u.c)(this.freServiceEndpoint);e.searchParams.set("bypass_trigger","true");return[...(yield Object(h.d)())===c.c.SignedIn?l.a.getOneServiceParamsWithAuth(Object(d.b)().UserId,this.ocid,this.addPageInfoToOcid):l.a.getOneServiceParamsWithoutAuth(Object(d.b)().UserId,this.ocid,this.addPageInfoToOcid),{key:m.a,value:Date.now().toString()}].forEach(t=>{t.value&&e.searchParams.set(t.key,t.value)}),this.getFreArtifactsWithUrl(e.href)}))}getFreArtifactsWithUrl(e){return Object(n.a)(this,void 0,void 0,(function*(){if(!e||"-1"===e)return null;const t={method:a.d.Get,credentials:"include",headers:yield l.a.getOneServiceHeaders()};try{const i=yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){return yield this.fetchImpl(e,t)})),"getFreArtifacts");if(!i.ok)throw Error("[FreServiceClient.getFreArtifacts] Failed with response: "+JSON.stringify(i));const a=i.headers&&i.headers.get("ddd-tmpl");return f.a.addOrUpdateTmplString(a),i.json()}catch(e){throw r.a.logError(e.message),e}}))}setFreArtifactForUser(e,t){return Object(n.a)(this,void 0,void 0,(function*(){if(e&&t){const i={method:t,credentials:"include",headers:yield l.a.getOneServiceHeaders()};Object(u.c)(this.freServiceEndpoint);let a=0;try{if(a=(yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){return yield this.fetchImpl(e,i)})),"setFreArtifact")).status,a>=400){const e=`OneService returned error response. Status: ${a} for done action`;throw new Error(e)}}catch(e){return r.a.logError(e.message),a}return a}return f.a.sendAppErrorEvent(Object.assign(Object.assign({},s.Mh),{message:`Any of the required parameters was not properly set by the caller. callbackUrl: ${e} method: ${t}.`})),0}))}updateArtifactInActionsEndpoint(e,t){return Object(n.a)(this,void 0,void 0,(function*(){let i;a.a[e.type]&&(i=Object.assign({},a.a[e.type])),i.targetId=e.id;try{t?yield this.actionsClient.sendPostActionRequest(i,this.ocid,this.addPageInfoToOcid):yield this.actionsClient.sendDeleteActionRequest(i,this.ocid,this.addPageInfoToOcid),Object(m.d)()}catch(i){return f.a.sendAppErrorEvent(Object.assign(Object.assign({},s.De),{message:"Fre Actions call failed",pb:Object.assign(Object.assign({},s.De.pb),{customMessage:`artifact: ${JSON.stringify(e)} following: ${t} error message: ${i}`})})),!1}return!0}))}setDoneFreState(e){return Object(n.a)(this,void 0,void 0,(function*(){yield this.setFreState(JSON.stringify({stage:e||a.b}),s.Lb)}))}setMaybeLaterFreState(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.setFreState(JSON.stringify({dismiss_timestamp:new Date(Date.now()).toJSON()}),s.Fe)}))}setFreState(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const i={method:"POST",body:JSON.stringify({freMultiStepState:e}),headers:yield l.a.getOneServiceHeaders()};(yield Object(h.d)())===c.c.SignedIn&&(i.credentials="include");const a=Object(u.c)(this.userEndpoint);(yield l.a.getCommonParams2(this.ocid,this.addPageInfoToOcid)).forEach(e=>e.value&&a.searchParams.set(e.key,e.value));try{yield Object(g.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(a.href,i);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for call to set user state`;throw new Error(t)}return e.json()})),"sendFreDoneAction")}catch(i){f.a.sendAppErrorEvent(Object.assign(Object.assign({},t),{message:"Service call to set fre state failed",pb:Object.assign(Object.assign({},t.pb),{customMessage:`state: ${e} error: ${i}`})}))}}))}}{constructor(e){let t;t=e||(Object(v.a)()?window.fetch.bind(window):fetch),super(t)}}let y;const S=e=>y||(y=new b(e),y)},kS2v:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("D57K"),a=i("P4Ao"),r=i("QBS5"),s=i("oePG");class o extends a.a{constructor(){super(...arguments),this.followed=!1,this.enableNavToXfeed=!1}toggleFollow(){this.followed=!this.followed,this.$emit("follow-state-changed")}topicSelected(){this.$emit("topic-selected")}}Object(n.d)([Object(r.b)({attribute:"follow-button-telemetry-tag"})],o.prototype,"followButtonTelemetryTag",void 0),Object(n.d)([Object(r.b)({attribute:"follow-format-aria-label"})],o.prototype,"followFormatAriaLabel",void 0),Object(n.d)([Object(r.b)({attribute:"follow-format-text"})],o.prototype,"followFormatText",void 0),Object(n.d)([Object(r.b)({attribute:"img-alt-text"})],o.prototype,"imgAltText",void 0),Object(n.d)([Object(r.b)({attribute:"img-src"})],o.prototype,"imgSrc",void 0),Object(n.d)([Object(r.b)({attribute:"followed",mode:"boolean"})],o.prototype,"followed",void 0),Object(n.d)([Object(r.b)({attribute:"topic-id"})],o.prototype,"topicId",void 0),Object(n.d)([Object(r.b)({attribute:"topic-title"})],o.prototype,"topicTitle",void 0),Object(n.d)([Object(r.b)({attribute:"unfollow-button-telemetry-tag"})],o.prototype,"unfollowButtonTelemetryTag",void 0),Object(n.d)([Object(r.b)({attribute:"unfollow-format-aria-label"})],o.prototype,"unfollowFormatAriaLabel",void 0),Object(n.d)([Object(r.b)({attribute:"unfollow-format-text"})],o.prototype,"unfollowFormatText",void 0),Object(n.d)([Object(r.b)({attribute:"enable-nav-to-xfeed",mode:"boolean"})],o.prototype,"enableNavToXfeed",void 0),Object(n.d)([Object(r.b)({attribute:"content-link-format-text"})],o.prototype,"contentLinkFormatText",void 0),Object(n.d)([Object(r.b)({attribute:"content-link-button-telemetry-tag"})],o.prototype,"contentLinkButtonTelemetryTag",void 0),Object(n.d)([s.d],o.prototype,"imgOnloadCallback",void 0);var c=i("8hiW"),d=i("UPH6"),l=i("wHpb"),u=i("oqLQ"),h=i("4X57"),g=i("j9Xn");const p=h.a`
    .follow-btn.topic-item {
        border-left: calc(${c.Rb} * 1px) solid ${c.ib};
    }

    img {
        border-radius: 4px 0 0 4px;
    }

    @media (max-width: 655px) {
        img {
            border-radius: 4px;
        }
    }
`,m=h.a`
    .follow-btn.topic-item {
        border-right: calc(${c.Rb} * 1px) solid ${c.ib};
    }

    img {
        border-radius: 0 4px 4px 0;
    }

    @media (max-width: 655px) {
        img {
            border-radius: 4px;
        }
    }
`,f=h.a`
    :host {
        --image-side-size: 80px;
        align-items: center;
        border-radius: 4px;
        box-sizing: border-box;
        border: calc(${c.Rb} * 1px) solid transparent;
        cursor: pointer;
        display: grid;
        font-size: ${c.Sb};
        font-weight: 600;
        grid-template-columns: var(--image-side-size) auto;
        grid-template-rows: var(--image-side-size);
        height: var(--image-side-size);
        width: 300px;
        fill: currentColor;
        outline: none;
    }

    :host(:${l.a}) {
        border: calc(${c.Rb} * 1px) solid ${c.Lb};
    }

    :host(:hover) {
        border: calc(${c.Rb} * 1px) solid ${c.ib};
    }
    
    :host(.follow-card:hover), .img-content:hover, .topic-item:hover  {
        background: ${c.ib};
    }

    .content {
        display: grid;
        height: 100%;
        grid-template-columns: auto 60px;
        grid-area: 1 / 2 / 2 / 3;
    }

    .img-content {
        display: grid;
        height: 100%;
        grid-template-columns: var(--image-side-size) auto;
        width: 240px;
        grid-area: 1 / 1 / 1 / 3;
    }

    .img-content img{
        grid-area: unset;
    }

    .follow-btn {
        height:100%;
        display: flex;
    }

    .follow-btn.topic-item {
        grid-area: 1 / 4 / 1 / 5;
        width: 60px;
        border-left: calc(${c.Rb} * 1px) solid ${c.ib};
    }

    .follow-btn span {
        margin: auto;
    }

    .followed slot[name="followed"] > svg {
        background-color: ${c.g};
        border-radius: 16px;
        fill: ${c.lb};
    }

    img {
        grid-area: 1 / 1 / 2 / 2;
        height: var(--image-side-size);
        width: var(--image-side-size);
    }

    span {
        overflow: hidden;
        padding: 30px 12px;
        text-overflow: ellipsis;
        text-align: start;
        white-space: nowrap;
    }

    @media (max-width: 655px) {
        :host {
            --image-side-size: 42px;
            border-radius: 0;
            grid-template-columns: calc(var(--image-side-size) + 30px) auto;
            grid-template-rows: 62px;
            height: 62px;
            width: 334px;
        }

        .divider {
            display: none;
        }

        .topic-section {
            height: 100%;
        }

        .topic-section:hover .topic {
            background: none;
        }

        img {
            margin: 10px;
            margin-inline-start: 20px;
        }

        span {
            padding: 18px 10px;
        }

        .img-content {
            grid-template-columns: calc(var(--image-side-size) + 30px) auto;
            width: 272px;
        }
    }
`.withBehaviors(new d.a(p,m),Object(u.c)(h.a`
                :host {
                    background: ${g.a.ButtonFace};
                    color: ${g.a.ButtonText};
                }
                :host(:hover) {
                    background: ${g.a.Highlight};
                    color: ${g.a.HighlightText};
                }
                :host(:${l.a}) {
                    border-color: ${g.a.Highlight};
                }
                .followed slot[name="followed"] > svg {
                    background-color: ${g.a.ButtonText};
                    fill: ${g.a.ButtonFace};
                }
                :host(:hover) .followed slot[name="followed"] > svg {
                    background-color: ${g.a.HighlightText};
                    fill: ${g.a.Highlight};
                }
                :host(.follow-card:hover), .img-content:hover, .topic-item:hover  {
                    background: ${g.a.Highlight};
                }
            `));var v=i("6BDD"),b=i("6vBc"),y=i("kpPY"),S=i("eUhr");const T=v.b`
<div 
    role="button"
    class="${e=>e.enableNavToXfeed?"follow-btn topic-item":"follow-btn"}" 
    part="follow-btn"
    aria-label="${e=>e.followed?Object(y.a)(e.unfollowFormatAriaLabel,e.topicTitle):Object(y.a)(e.followFormatAriaLabel,e.topicTitle)}"
    title="${e=>e.followed?Object(y.a)(e.unfollowFormatText,e.topicTitle):Object(y.a)(e.followFormatText,e.topicTitle)}"
    @click="${e=>e.toggleFollow&&e.toggleFollow()}"
    ${Object(S.b)(e=>e.followed?e.followButtonTelemetryTag:e.unfollowButtonTelemetryTag)}
>
    ${Object(b.a)(e=>e.followed,v.b`
    <span part="followed" class="followed">
        <slot name="followed">
            <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M12.76 5.26L6.5 11.53 3.24 8.26l.52-.52 2.74 2.73 5.74-5.73.52.52z"
                />
            </svg>
        </slot>
    </span>`)}
    ${Object(b.a)(e=>!e.followed,v.b`
    <span part="unfollowed" class="unfollowed">
        <slot name="unfollowed">
            <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M7.5 0a7.39 7.39 0 015.3 2.2 7.2 7.2 0 011.93 3.3 7.39 7.39 0 010 4 7.46 7.46 0 01-5.24 5.23 7.39 7.39 0 01-3.99 0 7.65 7.65 0 01-3.31-1.92A7.75 7.75 0 01.27 9.5a7.47 7.47 0 010-4 7.61 7.61 0 011.92-3.3A7.38 7.38 0 015.5.27C6.14.09 6.8 0 7.5 0zm0 14a6.3 6.3 0 003.27-.9 6.42 6.42 0 003-3.87 6.3 6.3 0 000-3.46 6.58 6.58 0 00-4.54-4.54 6.3 6.3 0 00-3.46 0 6.73 6.73 0 00-2.86 1.68 6.41 6.41 0 00-1.68 2.86 6.3 6.3 0 000 3.46 6.73 6.73 0 001.68 2.86A6.51 6.51 0 007.5 14zM8 7h4v1H8v4H7V8H3V7h4V3h1v4z"
                />
            </svg>
        </slot>
    </span>`)}
</div>`,O=v.b`
<template
    tabindex="0"
    class="${e=>e.enableNavToXfeed?"":"follow-card"}"
    @keypress="${e=>e.enableNavToXfeed?e.topicSelected&&e.topicSelected():e.toggleFollow&&e.toggleFollow()}"
>
${Object(b.a)(e=>!e.enableNavToXfeed,v.b`
    <img
        role="button"
        class="image"
        part="image"
        src="${e=>e.imgSrc}"
        alt="${e=>e.imgAltText}"
        aria-label="${e=>e.followed?Object(y.a)(e.unfollowFormatAriaLabel,e.topicTitle):Object(y.a)(e.followFormatAriaLabel,e.topicTitle)}"
        title="${e=>e.followed?Object(y.a)(e.unfollowFormatText,e.topicTitle):Object(y.a)(e.followFormatText,e.topicTitle)}"
        @load="${e=>e.imgOnloadCallback&&e.imgOnloadCallback()}"
        @click="${e=>e.toggleFollow&&e.toggleFollow()}"
        ${Object(S.b)(e=>e.followed?e.followButtonTelemetryTag:e.unfollowButtonTelemetryTag)}
    />
    <div class="content" part="content">
        <span 
            role="button"
            class="topic-title" 
            part="topic-title" 
            aria-label="${e=>e.followed?Object(y.a)(e.unfollowFormatAriaLabel,e.topicTitle):Object(y.a)(e.followFormatAriaLabel,e.topicTitle)}"
            title="${e=>e.followed?Object(y.a)(e.unfollowFormatText,e.topicTitle):Object(y.a)(e.followFormatText,e.topicTitle)}"
            @click="${e=>e.toggleFollow&&e.toggleFollow()}"
            ${Object(S.b)(e=>e.followed?e.followButtonTelemetryTag:e.unfollowButtonTelemetryTag)}
        >
            ${e=>e.topicTitle}
        </span>
        ${Object(b.a)(e=>e.topicTitle,T)}
    </div>
`)}
${Object(b.a)(e=>e.enableNavToXfeed,v.b`
    <div class="img-content" part="img-content">
        <img
            role="button"
            class="image"
            part="image"
            src="${e=>e.imgSrc}"
            alt="${e=>e.imgAltText}"
            aria-label="${e=>Object(y.a)(e.contentLinkFormatText,e.topicTitle)}"
            title="${e=>Object(y.a)(e.contentLinkFormatText,e.topicTitle)}"
            @load="${e=>e.imgOnloadCallback&&e.imgOnloadCallback()}"
            @click="${e=>e.topicSelected&&e.topicSelected()}"
            ${Object(S.b)(e=>e.contentLinkButtonTelemetryTag)}
        />
        <span
            role="button"
            class="topic-title topic-item" 
            part="topic-title"
            aria-label="${e=>Object(y.a)(e.contentLinkFormatText,e.topicTitle)}"
            title="${e=>Object(y.a)(e.contentLinkFormatText,e.topicTitle)}"
            @click="${e=>e.topicSelected&&e.topicSelected()}"
            ${Object(S.b)(e=>e.contentLinkButtonTelemetryTag)}
        >
            ${e=>e.topicTitle}
        </span>
    </div>
    ${Object(b.a)(e=>e.topicTitle,T)}
`)}
</template>`;let w=class extends o{};w=Object(n.d)([Object(a.b)({name:"msn-topic-card",template:O,styles:f})],w)},kpPY:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return r}));i("nwjK");function n(e,...t){return e.replace(/{(\d+)}/g,(function(e,i){if(i>=t.length)return e;const n=t[i];return"number"==typeof n||n?n:""}))}function a(e,t,i=0){return!(!e||!t)&&e.substr(i,t.length)===t}function r(e){return!e||!e.trim()}},lifk:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return o})),i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return l})),i.d(t,"h",(function(){return u})),i.d(t,"g",(function(){return h})),i.d(t,"f",(function(){return p}));var n=i("HDSB"),a=i("0hJ9");let r;var s,o;!function(e){e.JPG="jpg",e.PNG="png"}(s||(s={})),function(e){e[e.None=0]="None",e[e.Letterbox=1]="Letterbox",e[e.Scale=2]="Scale",e[e.Stretch=3]="Stretch",e[e.Crop=4]="Crop",e[e.FocalCrop=5]="FocalCrop",e[e.FacialCrop=6]="FacialCrop"}(o||(o={}));const c=90,d="www.bing.com/th",l=new RegExp(/bing.(com|net)\/th/);function u(e,t){return h("//img-s-msn-com.akamaized.net/tenant/amp/entityid/"+e,t)}function h(e,t){if(e&&l.test(e))return p(e,t);const{focalRegion:i,backgroundColor:o}=t;let{width:c=0,height:d=0,format:u=s.JPG}=t,h="";if(i){const e=m(i.x1,i.x2),t=m(i.y1,i.y2);null!=e&&null!=t&&(h+=`&x=${e}&y=${t}`)}o&&(h+="&b="+o);const g=null==t.mode?6:t.mode;if(6===g&&(h+="&u=t"),t.enableDpiScaling){if(!t.devicePixelRatio)throw new Error("A valid devicePixelRatio value must be provided when DPI scaling is enabled");const e=function(e){if(Object(n.a)()&&r)return r;if(e<1)return null;let t=e;Object(a.a)(4*t)||(t=Math.ceil(10*t)/10);t>3&&(t=3);Object(n.a)()&&(r=t);return t}(t.devicePixelRatio);e&&(c=Math.round(c*e),d=Math.round(d*e))}return`${e}?w=${c}&h=${d}&q=${t.quality||60}&m=${g}&f=${u}${h}`}function g(e,t){const{width:i=0,height:n=0}=t,a=t.quality||c;return e.searchParams.set("w",""+i),e.searchParams.set("h",""+n),e.searchParams.set("qlt",""+a),e.searchParams.set("c","1"),e.searchParams.set("rs","1"),t.enableDpiScaling&&(e.searchParams.set("dpr",""+t.devicePixelRatio),e.searchParams.set("p","0")),e}function p(e,t){try{return g(new URL(e),t).href}catch(i){const n=g(new URL("https://"+e),t);return`//${n.host}${n.pathname}${n.search}`}}function m(e,t){if(null!=e&&null!=t)return Math.floor((e+t)/2)}},mH2s:function(e,t,i){"use strict";var n=i("yvDU"),a=i("/ooL"),r=i("nkFl"),s=RegExp("['’]","g");t.a=function(e){return function(t){return Object(n.a)(Object(r.a)(Object(a.a)(t).replace(s,"")),e,"")}}},mJTN:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));var n,a=i("HxRh"),r=i("u5KZ");class s extends Map{constructor(e){super(),this.identifier=e,this.subscriptions=new Map}set(e,t){super.set(e,t);const i=this.subscriptions.get(e);return i&&i.size?(i.forEach(i=>{try{i&&i(t)}catch(t){r.a.sendAppErrorEvent(Object.assign(Object.assign({},a.ji),{message:"Failed to execute subscription callback",pb:Object.assign(Object.assign({},a.ji.pb),{customMessage:`Error executing subscription callback for key [${e}]`,instanceId:this.identifier,errorMessage:t&&t.message})}))}}),this):this}subscribe(e,t){if(!t||"function"!=typeof t)return;let i=this.subscriptions.get(e);i||(this.subscriptions.set(e,new Set),i=this.subscriptions.get(e)),i.add(t),this.has(e)&&t(this.get(e))}unsubscribe(e,t){const i=this.subscriptions.get(e);i&&i.delete(t)}}!function(e){e[e.IsSignedIn=1]="IsSignedIn",e[e.CookieConsentStatus=2]="CookieConsentStatus",e[e.OnetrustActiveCookieGroups=3]="OnetrustActiveCookieGroups",e[e.IsDarkMode=4]="IsDarkMode",e[e.ColumnArrangement=5]="ColumnArrangement",e[e.CurrentRoute=6]="CurrentRoute",e[e.TopicData=7]="TopicData",e[e.AboveTheFoldVisuallyReady=8]="AboveTheFoldVisuallyReady",e[e.IsDocumentVisible=9]="IsDocumentVisible"}(n||(n={}));const o=new class extends s{subscribe(e,t){this.has(e)||(e===n.IsDarkMode&&this.initBrowserThemeListener(),e===n.IsDocumentVisible&&this.initBrowserVisibilityListener()),super.subscribe(e,t)}initBrowserThemeListener(){const e=matchMedia("(prefers-color-scheme:dark)");this.set(n.IsDarkMode,e.matches),e.addEventListener("change",e=>{this.set(n.IsDarkMode,e.matches)})}initBrowserVisibilityListener(){this.set(n.IsDocumentVisible,"visible"===document.visibilityState),document.addEventListener("visibilitychange",()=>{this.set(n.IsDocumentVisible,"visible"===document.visibilityState)})}}("AppState")},msIb:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n,a=i("D57K"),r=i("rvYQ"),s=i("y+Kz"),o=i("I6Lx"),c=i("wBSZ"),d=i("ax+D"),l=i("BQg2"),u=i("kN1G"),h=i("/+Un"),g=i("HDSB"),p=i("NIfb"),m=i("MptA");!function(e){function t(e=null,t,i=!0,a=null,c=!1,d=Object(u.j)()){const l=Object(r.b)(),h=[{key:s.s.apiKey,value:l.OneServiceApiKey},{key:s.s.activityId,value:l.ActivityId},{key:s.s.ocid,value:i?n(l.TrackInfo,t):t},{key:s.s.market,value:l.CurrentMarket}];e&&h.push({key:s.s.user,value:e});let g=Object(o.a)().CurrentFlights;if(a){g=g?`${g},${a}`:a;const e="prg-bngimg-t";-1===g.indexOf(e)&&(g+=","+e),!0===c&&(g=a)}return g&&h.push({key:s.s.fdhead,value:g}),d&&h.push({key:u.c,value:u.d}),o.b.IsBlendedEnterprise&&h.push({key:"audienceMode",value:"enterprise"}),h}function i(e=Object(u.j)(),t){return Object(a.a)(this,void 0,void 0,(function*(){const i={};if(e&&!(yield Object(u.g)())){const e=yield Object(u.e)(c.c,c.f,c.e);e&&e.token&&t?i[s.r.entAuthorization]=e.token:e&&e.token&&(i[s.r.authorization]="Bearer "+e.token)}if(!Object(g.a)()){const e=Object(p.a)().cookie;e&&(i.Cookie=e);const t=Object(p.a)().referer;t&&(i.Referer=t)}return i}))}function n(e,t){return d.a.isNonNullObject(e)&&d.a.isNonNullObject(e.sitePage)&&Object(m.a)(e.sitePage.page_product)&&Object(m.a)(e.sitePage.page_type)?e.sitePage.page_product+"-"+e.sitePage.page_type+(t?"-"+t:""):t}e.authenticationTicketType="10",e.signedInCookieNameHeader="signedInCookieName",e.userLocationHeader="user-location",e.serviceRequestOnComplete=function(e,t){return Object(a.a)(this,void 0,void 0,(function*(){try{const i=yield e();return t(),i}catch(e){throw t(),e}}))},e.getOneServiceParamsWithoutAuth=t,e.getOneServiceNonDynamicParamsWithoutAuth=function(e,t=!0){const i=Object(r.b)(),a=[{key:s.s.apiKey,value:i.OneServiceApiKey},{key:s.s.ocid,value:t?n(i.TrackInfo,e):e},{key:s.s.market,value:i.CurrentMarket}];return Object(u.j)()&&a.push({key:u.c,value:u.d}),a},e.getOneServiceParamsWithAuth=function(e=null,i,n=!0,a=null,o=!1){const c=Object(r.b)().AuthCookieName,d=[...t(e,i,n,a,o)];return c&&d.push({key:s.s.signInCookieName,value:c.toUpperCase()}),d},e.getOneServiceHeaders=i,e.getOneServiceFeedCallHeaders=function(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const n=yield i(e,t),a=Object(r.b)(),o=a.ActivityId;return a.SendFeedCallActivityIdInHeader&&o&&(n[s.r.activityId]=o),n}))},e.getLocationParams=function(e,t){const i=Object(r.b)(),n=e||i.Latitude,a=t||i.Longitude;return n&&a?{key:s.s.location,value:`${n}|${a}`}:null},e.getOneServiceOCID=n,e.getBaseRequestData=function(t){return Object(a.a)(this,void 0,void 0,(function*(){return{headers:yield e.getOneServiceHeaders(),method:t}}))},e.getCommonParams=function(e,t=!1){return Object(o.a)().UserIsSignedIn?this.getOneServiceParamsWithAuth(Object(r.b)().UserId,e,t):this.getOneServiceParamsWithoutAuth(Object(r.b)().UserId,e,t)},e.getCommonParams2=function(e,t=!0,i=!1){return Object(h.e)()?this.getOneServiceParamsWithAuth(Object(r.b)().UserId,e,t,i):this.getOneServiceParamsWithoutAuth(Object(r.b)().UserId,e,t,i)},e.urlContainsOcidParam=function(e){if(!e)return!1;const t=e.split("?");if(t.length<2)return!1;const i=t[1].split("#")[0];return!!new l.a(i).get("ocid")},e.removeOcidFromUrl=function(e){if(!e)return e;const t=e.split("?");if(t.length<2)return e;const i=t[1].split("#")[0],n=new l.a(i);if(n.get("ocid")){n.delete("ocid");let t=e.replace(i,n.toString());return"?"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}return e},e.removeOcidFromRiverCardProviderResponse=function(t){t&&t.cardMetadata&&t.cardMetadata.length&&t.cardMetadata.forEach(t=>{t.cardContent&&t.cardContent.destinationUrl?t.cardContent.destinationUrl=e.removeOcidFromUrl(t.cardContent.destinationUrl):t.subItems&&t.subItems.length&&t.subItems.forEach(t=>{t.cardContent&&t.cardContent.destinationUrl&&(t.cardContent.destinationUrl=e.removeOcidFromUrl(t.cardContent.destinationUrl))})})},e.removeOcidFromWindowsOneServiceResponse=function(t){t&&t.cards&&t.cards.forEach(t=>{t.subCards.forEach(t=>{t.url?t.url=e.removeOcidFromUrl(t.url):t.subCards&&t.subCards.forEach(t=>{t.url&&(t.url=e.removeOcidFromUrl(t.url))})})})}}(n||(n={}))},nkFl:function(e,t,i){"use strict";var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var a=function(e){return e.match(n)||[]},r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var s=function(e){return r.test(e)},o=i("SNCn"),c="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="["+c+"]",l="\\d+",u="[\\u2700-\\u27bf]",h="[a-z\\xdf-\\xf6\\xf8-\\xff]",g="[^\\ud800-\\udfff"+c+l+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",f="[A-Z\\xc0-\\xd6\\xd8-\\xde]",v="(?:"+h+"|"+g+")",b="(?:"+f+"|"+g+")",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",S="[\\ufe0e\\ufe0f]?"+y+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",p,m].join("|")+")[\\ufe0e\\ufe0f]?"+y+")*"),T="(?:"+[u,p,m].join("|")+")"+S,O=RegExp([f+"?"+h+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[d,f,"$"].join("|")+")",b+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[d,f+v,"$"].join("|")+")",f+"?"+v+"+(?:['’](?:d|ll|m|re|s|t|ve))?",f+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",l,T].join("|"),"g");var w=function(e){return e.match(O)||[]};t.a=function(e,t,i){return e=Object(o.a)(e),void 0===(t=i?void 0:t)?s(e)?w(e):a(e):e.match(t)||[]}},nwjK:function(e,t,i){"use strict";var n=i("VLcu"),a=i("mH2s"),r=Object(a.a)((function(e,t,i){return t=t.toLowerCase(),e+(i?Object(n.a)(t):t)}));t.a=r},oOj7:function(e,t,i){"use strict";t.a='<svg viewBox="0 0 16 16" width="16" height="16"><path d="M2.71 7h-.3L8 12.6 12.6 8H14l-6 6-6.76-6.74A3.96 3.96 0 0 1 .4 6h1.9L4.5 3.8 8 7.29l2.5-2.5L11.71 6h2.77A3.42 3.42 0 0 0 15 4.24a3.1 3.1 0 0 0-.95-2.28 3.2 3.2 0 0 0-2.3-.93c-.44 0-.83.07-1.16.21-.34.14-.66.32-.94.54-.29.23-.56.48-.83.77L8 3.4l-.82-.86a7.25 7.25 0 0 0-.84-.77c-.28-.23-.6-.42-.94-.56a3.14 3.14 0 0 0-2.41.04A3.25 3.25 0 0 0 1.08 5H.07a3.1 3.1 0 0 1-.06-.75A4.2 4.2 0 0 1 2.59.34 4.11 4.11 0 0 1 4.25 0a3.8 3.8 0 0 1 2.1.56c.29.17.56.38.82.63.27.24.54.51.83.8l.82-.8c.27-.25.54-.46.83-.63a3.94 3.94 0 0 1 2.1-.56 4.2 4.2 0 0 1 3.97 5.7c-.18.48-.43.9-.76 1.3H11.3l-.79-.8L8 8.71l-3.5-3.5L2.71 7Z"/></svg>'},roS3:function(e,t,i){"use strict";var n=i("B1m9");t.a=function(e,t){return t="function"==typeof t?t:void 0,Object(n.a)(e,5,t)}},ssdC:function(e,t,i){"use strict";i.r(t),i.d(t,"abbreviateUSState",(function(){return a})),i.d(t,"toCamelCase",(function(){return r}));const n={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","American Samoa":"AS","District of Columbia":"DC",Guam:"GU","Marshall Islands":"MH","Northern Mariana Island":"MP","Puerto Rico":"PR","Virgin Islands":"VI"};function a(e,t,i){return"US"!==i&&"us"!==i||"en-us"!==t?e:n[e]||e}function r(e,t){return e&&JSON.parse(JSON.stringify(e,(function(e,i){if(i&&"object"==typeof i&&!Array.isArray(i)){const e={};for(const n in i)if(Object.hasOwnProperty.call(i,n)){e[t&&t[n]||n&&n.charAt(0).toLowerCase()+n.substring(1)]=i[n]}return e}return i})))}},u8F0:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.Location="Location",e.Finance="Finance",e.Team="Team",e.League="League",e.Player="Player",e.Traffic="Traffic"}(n||(n={}))},"uH2+":function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.Followed="followed",e.Unfollowed="unfollowed",e.Locked="locked",e.None="none"}(n||(n={}))},uPYz:function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return S}));var n=i("8hiW"),a=i("cQsl"),r=i("Jw3B"),s=i("0fst"),o=i("4X57"),c=i("wHpb"),d=i("oqLQ"),l=i("xtFa");const u={DarkMode:"radial-gradient(100% 194% at 100% 0%, #2B3033 0%, #2B2E33 16%, #332B30 32%, #33292F 50%, #332B30 64%, #2B2C33 82%, #2D3238 100%, #2B2F33 100%)",LightMode:"radial-gradient(100% 193.51% at 100% 0%, #EDF4F8 0%, #EFF2FA 16.92%, #FAEFF6 34.8%, #FAE6F2 48.8%, #FAF0F7 63.79%, #F1F1FB 81.34%, #F0F4F8 100%)"},h=(e,t)=>t.replace(/\{([\s\S]+?)\}/g,t=>`{ .${e} ${t} }`),g=`\n${Object(r.c)(r.a.c3,null)} {\n    width: 620px;\n}`,p=`\n${Object(r.c)(r.a.c1,r.a.c2)} {\n    max-width: 334px;\n}\n${Object(r.c)(r.a.c3,null)} {\n    max-width: 620px;\n}`,m=`\n${Object(r.c)(r.a.c1,r.a.c1)} {\n    width: 334px;\n}\n${Object(r.c)(r.a.c2,r.a.c2)} {\n    width: 304px;\n}\n`,f=`\n${Object(r.c)(r.a.c1,r.a.c2)} {\n    max-width: 430px;\n    margin: auto;\n    overflow: hidden;\n}\n${Object(r.c)(r.a.c2,r.a.c2)} {\n    padding-inline-start: 30px;\n    max-width: 314px;\n}\n${Object(r.c)(null,r.a.c2)} {\n    --searchbox-width: 280px\n}`,v=`\n${Object(r.c)(r.a.c1,r.a.c2)} {\n    grid-template-columns: 1fr;\n    grid-column-gap: 0;\n    grid-row-gap: 12px;\n}`,b=`\n${Object(r.c)(r.a.c2,r.a.c2)} {\n    width: 640px\n}\n${Object(r.c)(r.a.c3,r.a.c3)} {\n    width: 990px\n}\n${Object(r.c)(r.a.c4,null)} {\n    width: 990px;\n    margin: 0px auto\n}`,y=`\n${Object(r.c)(r.a.c2,r.a.c5)} {\n    background-color: ${n.A};\n}`,S=o.a`
:host {
    border-radius: 6px;
}

/* Content constraints the WindowsHomePage used to provide */
.content {
    margin: 0 auto;
}
@media (max-width: 643px) {
    .content {
        max-width: 440px;
        padding: 0 24px;
    }
}
@media (min-width: 644px) and (max-width: 955px) {
    .content {
        width: 612px;
    }
}
@media (min-width: 956px) and (max-width: 1267px) {
    .content {
        width: 924px;
    }
}
@media (min-width: 1268px) {
    .content {
        width: 1236px;
    }
}

.title {
    height: 48px;
    border-bottom: 1px solid ${n.Fb};
}

.interests-river {
    padding-inline-start: 60px;
    outline: none;
    --searchbox-width: 540px;
}

${h("interests-river",f)}

.interests-river > *:last-child {
    padding-bottom: 80vh
}

.mute-dialog {
    --action-dialog-z-index: ${s.a.Dialog.toString()};
    --layer-corner-radius: 6px;
    --neutral-divider-rest: ${n.Fb};
    --action-dialog-width: 368px;
    --button-min-width: 150px;
    position: absolute;
}

.action-dialog-controls-container {
    display: grid;
    grid-template-columns: var(--button-min-width) var(--button-min-width);
    justify-content: center;
    grid-gap: var(--space-between-buttons);
}

.action-dialog-control-buttons {
    border-radius: var(--button-border-radius);
    font-size: var(--type-ramp-minus-1-font-size, 12px);
}

.mute-dialog-img {
    display: flex;
    justify-content: center;
    margin: 27px auto;
}

.mute-dialog-img > img {
    height: 64px;
    width: 64px;
}

.mute-dialog-content {
    margin: 27px 0;
}

${h("muted-publishers",m)}

.side-pane-layout-container-search {
    --search-background: ${n.A};
}

.side-pane-layout-container-search msft-side-pane-layout::part(header-container) {
    bottom: 55px;
}

.side-pane-layout-container msft-side-pane-layout::part(navigation-pane) {
    padding-top: 21px;
}

.side-pane-layout-container msft-side-pane-layout[is-responsive]::part(navigation-pane) {
    top: calc(var(--navigation-pane-wrapper-sticky-top) - 21px);
    padding-top: 21px;
    z-index: ${s.a.Over.toString()};
}

.side-pane-layout-container msft-side-pane-layout, 
.side-pane-layout-container msft-side-pane-layout::part(wrapper), 
.side-pane-layout-container msft-side-pane-layout::part(content-pane) {
    outline: none;
    padding: 0px;
}

.side-pane-layout-container msft-side-pane-layout::part(content-pane) {
    padding-inline-end: 2px;
    padding-top: 1px;
    width: 100%;
    --content-pane-min-width: 350px;
}

.side-pane-layout-container msft-side-pane-layout::part(navigation-menu-button) {
    background-color: ${n.db};
}

@media (max-width: 624px) {
    .side-pane-layout-container msft-side-pane-layout fluent-tree-item#menuItem-tune-feed {
        display: none;
    }
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-view {
    border-radius: calc(${n.J} * 1px);
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-item#menuItem-tune-feed {
    color: ${n.o};
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-item#menuItem-tune-feed:hover {
    text-decoration: underline;
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-item#menuItem-tune-feed svg {
    fill: ${n.o};
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-item#menuItem-tune-feed::after {
    content: none;
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-item#menuItem-tune-feed::part(positioning-region) {
    background: none;
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-item#menuItem-tune-feed::part(end) {
    margin-inline-start: 6px;
}

.side-pane-layout-container msft-side-pane-layout fluent-tree-item:focus:not:${c.a} {
    border: none;
}

${h("side-pane-layout-container",b)}

msft-side-pane-layout::part(navigation-pane-wrapper) {
    position: relative;
}

msft-side-pane-layout.sticky::part(navigation-pane-wrapper) {
    position: fixed;
    top: var(--navigation-pane-wrapper-sticky-top);
    padding-top: 21px;
}

.tree-item-glyph-start-container {
    display: flex;
}

msn-discover-interests-river-section msn-topics-section::part(heading) {
    font-size: ${n.Yb};
    font-weight: 600;
    padding-bottom: 15px;
}

.content-card-section {
    padding: 20px 2px;
}

.content-card-section-heading {
    font-size: ${n.ac};
    line-height: ${n.bc};
    font-weight: 600;
}

.content-card-description {
    font-size: ${n.Ub};
    line-height: ${n.Vb};
    padding-top: 2px;
    padding-bottom: 20px;
}

.content-cards-list {
    display: grid;
    grid-area: 2 / 1 / 3 / 3;
    grid-gap: 20px;
    grid-template-columns: 1fr 1fr;
    width: 100%;
    max-width: 620px;
    padding-top: 15px;
}

${h("content-cards-list",v)}

.content-card-button-icon {
    vertical-align: bottom
}

._1x_1y {
    height: 119px;
    max-width: 351px;
    min-width: 300px;
    --heading-start-padding: 12px;
    --heading-end-padding: 12px;
    --media-inline-padding: 12px;
    --footer-start-padding: 4px;
}

._1x_1y msft-content-card::part(media-wrapper) {
    margin-top: 12px
}

._1x_1y msft-content-card::part(heading-container) {
    padding-top: 12px;
    --heading-max-lines: 2;
}

.setting-heading {
    font-size: ${n.ac};
    line-height: ${n.bc};
    font-weight: 600;
}

${h("setting-card-container",g)}
${h("settings-container",p)}

.setting-card-container {
    padding-inline-end: 2px;
    margin-bottom: 20px;
}

.setting-card-toggle {
    min-height: 48px;
    margin-top: 0
}

.setting-card-toggle-text {
    display: block;
    max-width: 100%;
    font-size: ${n.Sb};
    line-height: ${n.Tb};
    margin-top: 10px;
    margin-bottom: 10px;
}

.setting-card-item-title-text {
    padding: 8px 21px;
    margin: 0;
}

.setting-card-item-title-description {
    font-size: ${n.Ub};
    line-height: ${n.Vb};
}

.inline-settings {
    border-top: 1px solid ${n.Fb};
}

.setting-card-item-text {
    display: flex;
    max-width: 100%;
    font-size: ${n.Sb};
    line-height: ${n.Tb};
    align-items: center;
}

.setting-card-item-icon {
    width: 42px;
    height: 42px;
    border-radius: 4px;
    padding-inline-end: 20px;
}

.setting-card-sub-item-line {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    padding: 0 21px;
    min-height: 52px;
    
}

.setting-card-sub-item-line:nth-child(1n+2) {
    border-top: 1px solid ${n.Fb}
}

.setting-card-link-icon {
    width: 16px !important;
    height: 16px !important;
    padding-inline-end: 16px;
    fill: accentFillRest
}

.setting-card-link {
    display: flex;
    align-items: center;
    font-size: ${n.Sb};
    padding-inline-start: 21px;
    font-weight: 600;
    line-height: ${n.Tb};
    height: 48px;
    border-top: 1px solid ${n.Fb};
    text-decoration: none;
    cursor: pointer;
    color: accentFillRest;
    background-color: ${n.mb};
}

msn-market-selector::part(select) {
    max-width: unset;
    margin-bottom: 0px;
}

.market-settings-container {
    background: ${l.e};
    margin-bottom: 30px;
    border-radius: 6px;
    --elevation: 4;
    ${a.a};
}

.market-settings-content {
    padding: 20px;
}

.settings-container {
    padding: 20px 2px;
}

.setting-card-container, .market-settings-container {
    margin-top: 15px;
}

.notification-setting-card-container {
    box-shadow: 0px 1.6px 3.6px rgba(0, 0, 0, 0.13), 0px 0px 2.9px rgba(0, 0, 0, 0.11);
    border-radius: 2px;
    margin-top: 30px;
    padding-top: 0px;
    padding-bottom: 0px
}

.notification-setting-card-container > .notification-setting-card:not(:last-child) {
    border-bottom: 0.5px solid #E1E1E1;
}

.notification-setting-card {
    height: 62px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 24px;
}

.notification-setting-card .left {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.notification-setting-card .notification-setting-card-title {
    color: ${n.ub};
    font-size: ${n.Yb};
    line-height: ${n.Zb};
}
    
.notification-setting-card .notification-setting-card-desc {
    font-size: ${n.Sb};
    line-height: ${n.Tb};
    color: ${n.D};
}

.notification-setting-card .left > *:only-child {
    font-weight: normal;
    color: ${n.ub};
} 

.notification-setting-card.notification-topic-setting-card {
    height: 48px;
}

.notification-setting-card .left > .notification-setting-card-title.notification-topic-setting-card-title {
    font-weight: 600;
}

.compliance-disclaimer-message {
    align-items: center;
    padding-top: 8px;
    padding-right: 16px;
    padding-bottom: 8px;
    padding-left: 24px;
    max-height: 88px;
    max-width: 280px;
    font-family: Segoe UI;
    font-size: 14px;
    line-height: 24px;
    margin-top: 30px;
    background: ${n.fb};
}

.compliance-text {
    margin: 0px;
    width: 240px;
}

${h("translucentBackground fluent-tree-view",y)}

.translucentBackground msn-topics-section::part(heading) {
    color: white;
}
`.withBehaviors(Object(d.c)(o.a`
                :host fluent-tree-item#menuItem-tune-feed::part(content-region){
                    color: ${n.o};
                }
            `))},uo0m:function(e,t,i){"use strict";t.a='<svg viewBox="0 0 16 16" width="16" height="16"><path d="m4.85 9.15 2 2-.7.7-2-2 .7-.7ZM9.5 0a6.31 6.31 0 0 1 3.28.9 6.23 6.23 0 0 1 2.33 2.32 6.3 6.3 0 0 1 .52 5.46 6.5 6.5 0 0 1-4.7 4.16c.05.39.07.77.07 1.16a1.98 1.98 0 0 1-1.23 1.84c-.24.1-.5.16-.77.16A8.94 8.94 0 0 1 .32 9.4 8.94 8.94 0 0 1 0 7a2 2 0 0 1 2-2c.39 0 .77.02 1.16.07a6.35 6.35 0 0 1 2.28-3.64A6.5 6.5 0 0 1 9.5 0Zm2.77 4.45A2.83 2.83 0 0 0 14 5c.26 0 .52-.03.77-.1a5.1 5.1 0 0 0-1.04-1.92l-1.46 1.47Zm.75-2.18a5.67 5.67 0 0 0-1.93-1.04 3.14 3.14 0 0 0 .05 1.68c.1.3.23.57.41.82l1.47-1.46Zm-2.9-1.23A3.18 3.18 0 0 0 9.5 1a5.35 5.35 0 0 0-3.52 1.28L9.5 5.8l1.34-1.35a3.93 3.93 0 0 1-.72-3.41ZM5.27 2.98a5.43 5.43 0 0 0-1.13 2.28A9.1 9.1 0 0 1 8 7.29l.8-.79-3.53-3.52ZM9 15a.97.97 0 0 0 .7-.29.97.97 0 0 0 .3-.71 7.78 7.78 0 0 0-1.1-4.03 7.89 7.89 0 0 0-2.87-2.88A7.74 7.74 0 0 0 2 6a.97.97 0 0 0-.71.3A1 1 0 0 0 1 7a7.98 7.98 0 0 0 8 8Zm-.29-7a9.1 9.1 0 0 1 2.03 3.86 5.1 5.1 0 0 0 2.28-1.13L9.5 7.2l-.79.8Zm5 2.02a5.5 5.5 0 0 0 1.25-4.14 3.95 3.95 0 0 1-3.41-.72L10.2 6.5l3.52 3.52Z"/></svg>'},vLdU:function(e,t,i){"use strict";i.d(t,"a",(function(){return j}));var n=i("HDSB"),a=i("D57K"),r=i("I6Lx"),s=i("ADRF"),o=i("XlyT"),c=i("HxRh"),d=i("tMmC"),l=i("Vy2U");class u{constructor(e,t,i=null){this.fetchImpl=e,this.config=t,this.xhrFetch=i,this.cfg=t||u.defaultConfig,this.cfg.appId=this.cfg.appId||u.defaultConfig.appId,this.cfg.num=this.cfg.num||u.defaultConfig.num}geocodeSuggestion(e){return Promise.resolve(null)}getAutoSuggestResponse(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const i=[{key:"appid",value:this.cfg.appId},{key:"mr",value:""+this.cfg.num},{key:"q",value:e},{key:"setmkt",value:!this.cfg.redirectZhCnJaJpMarket||"ja-jp"!==r.b.Locale&&"zh-cn"!==r.b.Locale?r.b.Locale:"en-us"},{key:"setlang",value:r.b.Locale},{key:"ul",value:r.b.ClientSettings?`${r.b.ClientSettings.geo_lat},${r.b.ClientSettings.geo_long},100`:""}];let n=[];if(!e||!e.trim||!e.trim().length)return n;const a=new URL(u.bingAutosuggestApi,u.bingAutoSuggestServiceHost);return a.search=s.a.keyValueArrayToQueryString(i),n=yield this.fetchImpl(a.href,{jsonpCallback:"cb"}).then(e=>e.json()).then(e=>this.getLocationFromResponse(e)).catch(e=>(t&&Object(o.b)(c.tf,"Autosuggest request failed for client v1",JSON.stringify({urlWithoutQuery:this.getLoggableUrlString(a)})),d.a.log("failed: "+e),null)),n}))}getLocationFromResponse(e){const t=[];if(e&&e["@graph"]){const i=e["@graph"];for(let e=0;e<i.length;e++){const n=i[e];if(n){switch(n["b:stype"]){case"Island":case"PopulatedPlace":case"Postcode1":case"Other":{const e=n["s:address"]||{},i=n["s:geo"]||{},a=i["s:latitude"],s=i["s:longitude"];if("number"==typeof a&&"number"==typeof s){const i={locality:e["s:addressLocality"]||e["s:name"]||"",region:l.b.abbreviateUSState(e["s:addressRegion"]||"",r.b.Locale,e["b:countryIso"]||""),subRegion:e["b:addressSubregion"]||"",country:e["s:addressCountry"]||"",latitude:Number(a).toString(),longitude:Number(s).toString(),isoCode:e["b:countryIso"]||"",language:r.b.Locale};l.a.isValidLocationToSuggest(i)&&t.push(i)}}}}}}return t}getLoggableUrlString(e){return e?(e.searchParams&&e.searchParams.delete&&e.searchParams.delete("q"),e.href):""}getLocationSearchResponse(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=[{key:"appid",value:this.cfg.appId},{key:"locale",value:r.b.Locale},{key:"query",value:e}],i=[];if(!e||!e.trim||!e.trim().length)return i;const n=new URL(u.msnLocationSearchApi,u.msnApiServiceHost);n.search=s.a.keyValueArrayToQueryString(t);(new Headers).append("contentType","application/json");const a=yield(this.xhrFetch?this.xhrFetch:fetch)(n.href,{method:"GET",headers:{"Content-Type":"application/json"}});return a.ok||500===a.status?this.getLocationFromSearchResponse(yield a.json()):null}))}isSameLocation(e,t){return e==t||null!=e&&null!=t&&(e.locationType==t.locationType&&(Math.abs(parseFloat(e.latitude)-parseFloat(t.latitude))<.001&&Math.abs(parseFloat(e.longitude)-parseFloat(t.longitude))<.001||(this.distance(e,t)<150||void 0)))}distance(e,t){const i=parseFloat(e.latitude)*Math.PI/180,n=parseFloat(e.longitude)*Math.PI/180,a=parseFloat(t.latitude)*Math.PI/180,r=a-i,s=parseFloat(t.longitude)*Math.PI/180-n,o=Math.sin(r/2)*Math.sin(r/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(i)*Math.cos(a);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}getLocationFromSearchResponse(e){if(!(e.value&&e.value[0]&&e.value[0].responses&&e.value[0].responses[0]))return[];const t=e.value[0].responses[0];if(t.error)return[];const i=t.locations.filter(e=>("admindivision1"!==e.entityType.toLowerCase()||"jp"===e.countryCode.toLowerCase())&&e.coordinates&&e.coordinates.lat&&e.coordinates.lon).map(e=>({isoCode:e.countryCode,locality:e.locality,region:e.state||e.adminDistrict,country:e.countryRegion,latitude:e.coordinates.lat.toString(),longitude:e.coordinates.lon.toString(),displayName:e.displayName})),n=[];return i.forEach(e=>{0==n.map(t=>this.isSameLocation(t,e)).filter(e=>e).values.length&&n.push(e)}),n}populateSearchMoreResponse(){}}u.bingAutoSuggestServiceHost="https://platform.bing.com",u.bingAutosuggestApi="geo/AutoSuggest/v1",u.defaultConfig={num:4,appId:"C98EA5B0842DBB9405BBF071E1DA76512D21FE36"},u.msnLocationSearchApi="/v0/weather/locations/search",u.msnApiServiceHost="https://api.msn.com";var h=i("UQuZ"),g=i("ssdC"),p=i("y+Kz"),m=i("rvYQ"),f=i("6ADy"),v=i("msIb");class b{constructor(e,t,i,n,a,r,s,o,c){this.fetchImpl=e,this.host=t,this.api=i,this.appId=n,this.excludeSubTypes=a,this.includeSubTypes=r,this.escapeISO=s,this.flightId=o,this.useOneService=c,this.filterSuggestion=e=>-1===this.excludeSubTypes.indexOf(e.subType)&&(-1!==this.escapeISO.indexOf(e.address&&e.address.countryIso&&e.address.countryIso.toLowerCase())||-1!==this.includeSubTypes.indexOf(e.subType)),this._parseLocationFromAS=!0}addExtraASParams(e,t){return e}_getDefaultSuggestions(){return[]}getSuggestions(e,t){return Object(a.a)(this,void 0,void 0,(function*(){if(e.disableThisRequest)return null;if((!e.searchText||""===e.searchText.trim())&&(e.disableFavorites||!this._useFavoriteSuggestions))return{suggestions:[]};const i=this._constructASRequestUrl(e);return this.fetchImpl(i.href).then(e=>e.json()).then(t=>{const i=this.useOneService?this._parseOneServiceSuggestions(t):this._parseSuggestionsV6(t),n=e.searchText&&""!==e.searchText.trim()?[]:this._getDefaultSuggestions();return i.suggestions=this._combineSuggestions(i.suggestions,n),this._updateSuggestionsRank(i.suggestions),i}).catch(i=>{if(t){const t=this._constructASRequestUrl(Object.assign(Object.assign({},e),{searchText:""}));Object(o.b)(c.tf,"Autosuggest request failed for client v6",JSON.stringify({urlWithoutQuery:t&&t.href,error:i}))}return null})}))}getHistorySuggestions(e){return[]}_constructASRequestUrl(e){let t,i;return this.useOneService?(t=this.getOneServiceQueryParams(e),i=Object(f.c)(this.api,Object(f.b)())):(t=this.getBingQueryParams(e),i=new URL(this.api,this.host)),i.search=s.a.keyValueArrayToQueryString(t),i}getBingQueryParams(e){return[{key:"appid",value:this.appId},{key:"count",value:""+e.maxResults},{key:"q",value:e.searchText},{key:"localcircularview",value:e.userLocation&&e.userLocation+",100"},{key:"setmkt",value:r.b.Locale},{key:"setlang",value:r.b.Locale},{key:"types",value:e.suggestionTypes||""},{key:"abbrtext",value:e.abbrSuggestions?"1":""},{key:"structuredaddress",value:"true"},{key:"strucaddrread",value:"1"},{key:"setflight",value:this.flightId}]}getOneServiceQueryParams(e){return[{key:p.s.apiKey,value:m.a.OneServiceApiKey},{key:p.s.type,value:e.suggestionTypes||""},{key:p.s.top,value:""+e.maxResults},{key:"q",value:e.searchText},{key:p.s.location,value:e.userLocation&&""+e.userLocation},{key:p.s.market,value:r.b.Locale},{key:"setflight",value:this.flightId},{key:"qscope",value:"locations"},{key:"activityId",value:m.a.ActivityId},{key:"ocid",value:v.a.getOneServiceOCID(m.a.TrackInfo,"feeds")}]}_combineSuggestions(e,t){let i=[];if(t&&t.length){i=t;let n=!1;for(let a=0;a<e.length;a++){e[a].root;const r=e[a].address,s=r&&r.streetAddress,o=r&&r.addressLocality,c=e[a].name;for(let e=0;e<t.length;e++){const i=t[e];if(s&&i.formatedAddress&&i.formatedAddress.indexOf(s)>-1&&(o&&i.formatedAddress.indexOf(o)>-1||c&&i.title&&i.title.indexOf(c)>-1)){n=!0;break}}n?n=!1:i.push(e[a])}}else i=e;return i}_updateSuggestionsRank(e){for(let t=0;t<e.length;t++)e[t].suggestionRank=t}_parseSuggestionsV6(e){const t={},i=[];if(e){const n=e.instrumentation;t.formattingRules=this._createFormattingRulesV6(e.formattingRules);const a=this._getDefaultFormattingRuleV6(t.formattingRules),s=e.value;for(let e=0;e<s.length;e++){const o={},c=s[e];try{o.root=c,o.type=c._type,o.readLink=c.readLink,o.readLinkPingSuffix=c.readLinkPingSuffix,o.instrumentationInfo=n,o.suggestionRank=e,o.formattingRuleId=c.formattingRuleId,o.formattingRule=o.formattingRuleId&&t.formattingRules[o.formattingRuleId]||a,o.entityId=c.id,o.name=c.name,o.query=c.query;const s=c.categories;o.primaryCategoryPath=s&&s.length&&s[0],o.entityId&&0===o.entityId.indexOf("local_geoid")&&(o.geoId=o.entityId,o.entityId="");const d=c.entityPresentationInfo;d&&d.entitySubTypeHints&&d.entitySubTypeHints.length&&(o.subType=d.entitySubTypeHints[0]);const u=c.geo;if(u&&this._parseLocationFromAS){const e=u.latitude,t=u.longitude;e&&t&&(o.location={latitude:e,longitude:t})}c.address?(o.address=c.address,o.address.addressRegion=l.b.abbreviateUSState(o.address.addressRegion,r.b.Locale,o.address.countryIso)):c.location&&c.location.length?o.address=c.location[0].address:"PostalAddress"===o.type&&(o.address=c),"Favorite"==o.type&&(o.alternateName=c.alternateName,o.subType=c.subType,this._processFavoriteItemId(c,o)),i.push(o)}catch(e){}}}return t.suggestions=i.filter(this.filterSuggestion),t}_parseOneServiceSuggestions(e){const t={},i=e.value[0].groups[0].suggestionItems;for(let e=0;e<i.length;e++){const t={},n=i[e];try{t.readLink=n.dataUrl,t.suggestionRank=e,t.name=n.name,t.entityId=n.id,t.formattingRuleId=n.metadata.formattingRuleId,t.formattingRule=n.metadata.formattingRules&&JSON.parse(n.metadata.formattingRules),t.address=n.metadata,t.address.addressRegion=l.b.abbreviateUSState(n.metadata.addressRegion,r.b.Locale,n.metadata.countryIso);const a=n.metadata.latitude,s=n.metadata.longitude;a&&s&&(t.location={latitude:a,longitude:s}),t.subType=n.metadata.entitySubTypeHints,i[e]=t}catch(e){}}return t.suggestions=i.filter(this.filterSuggestion),t}_createFormattingRulesV6(e){const t={};if(e)for(let i=0;i<e.length;i++){const n=JSON.parse(e[i]);t[n.identifier]=n}return t}_getDefaultFormattingRuleV6(e){let t=e&&e.Default||null;for(const i in e){t||(t=e[i]);if(r.b.Locale.indexOf(i.toLowerCase())>-1){t=e[i];break}}return t}_processFavoriteItemId(e,t){const i=e.bingId;!i||0!==i.indexOf("local_ypid:")&&0!==i.indexOf("sid")&&0!==i.indexOf("local_vdpid")||(t.entityId=i),t.bingId=i}}b.autosuggestCallerId="autosug";class y{constructor(e,t){this.key=e,this.fetchImpl=t,this.geocode=(e,t,i,n,o)=>Object(a.a)(this,void 0,void 0,(function*(){const a={success:!1,statusCode:null,authenticationResultCode:null,statusDescription:null,name:e,results:null};if(!location)return null;const c=i&&i<=y._maxNumberOfResults?i:y._defaultResultCount,d=[{key:"key",value:this.key},{key:"maxResults",value:""+c},{key:"q",value:encodeURIComponent(e)},{key:"inclnb",value:n?"1":"0"},{key:"incl",value:o?"ciso2":""},{key:"userMapView",value:y._getBoundsString(t)},{key:"culture",value:r.b.Locale}],l=new URL(y.geoApi,y.geoHost);return l.search=s.a.keyValueArrayToQueryString(d),this.fetchImpl(l.href).then(e=>e.json()).then(e=>{if(e&&e.authenticationResultCode===y._validAuthenticationCode&&e.statusCode===y._validStatusCode&&e.statusDescription===y._validStatusDescription&&e.resourceSets&&0!==e.resourceSets.length){let t;a.success=!0,a.statusCode=y._validStatusCode,a.authenticationResultCode=y._validAuthenticationCode,a.statusDescription=y._validStatusDescription;for(let i=0,n=e.resourceSets.length;i<n;i++)if(t=e.resourceSets[i].resources,t&&0!==t.length){a.results=t;break}a.traceId=e.traceId}else e?(a.statusCode=e.statusCode,a.authenticationResultCode=e.authenticationResultCode,a.statusDescription=e.statusDescription,a.errorMessage=e.errorDetails&&e.errorDetails.length>0&&e.errorDetails[0],a.traceId=e.traceId):(a.statusCode=400,a.authenticationResultCode="Unknown",a.statusDescription="Unknown");return a}).catch(e=>(a.authenticationResultCode="Unknown",a.statusCode=404,a.statusDescription="Http Error",a))}))}static _getBoundsString(e){return e?e.south+","+e.west+","+e.north+","+e.east:""}}y._validAuthenticationCode="ValidCredentials",y._validStatusCode=200,y._validStatusDescription="OK",y._defaultResultCount=5,y._maxNumberOfResults=20,y.geoHost="https://dev.virtualearth.net",y.geoApi="/REST/v1/Locations";class S{constructor(e){this.suggestion=e,this._formatSuggestion(this.suggestion),this.setSimpleSearchText(),this._setDisplayName()}_setDisplayName(){const e=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";this.suggestionTextLine2?this.suggestion.displayName=this.suggestionTextLine1+e+this.suggestionTextLine2:this.suggestion.displayName=this.suggestionTextLine1}setSimpleSearchText(){const e=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";if("Favorite"===this.suggestion.type){const t=this.suggestion,i=t.name,n=t.address&&t.address.streetAddress;this._searchText=i!==n&&n?i+e+n:i}else this.suggestionTextLine2?this._searchText=this.suggestionTextLine2+e+this.suggestionTextLine1:this._searchText=this.suggestionTextLine1;this.suggestion&&(this.suggestion.searchText=this._searchText)}_removeCountry(e){let t=", ";this._formattingRule&&(t=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ");const i=this.suggestion.address||this.suggestion.root,n=i&&i.addressCountry;if(n&&e&&e.slice(e.length-n.length)===n){const i=e.slice(0,e.length-n.length);return i.slice(i.length-t.length)===t?i.slice(0,i.length-t.length):i}return e}_formatSuggestion(e){const t=this.suggestion.formattingRule,i=e;if("Favorite"===e.type)return i.alternateName?this.suggestionTextLine1=i.alternateName:this.suggestionTextLine1=i.name,this.suggestionTextLine2=i.address&&i.address.streetAddress,this.suggestion.formatedAddress=i.address&&i.address.streetAddress,void(this.suggestion.title=i.name);i.name&&(this.suggestionTextLine1=i.name,e.title=i.name),i.query&&(this.suggestionTextLine1=i.query),t?(this._formattingRule=t,this.suggestion.address?this._applyFormattingRule(this.suggestion.address):this._applyFormattingRule(e.root)):(this.suggestionTextLine1=e.title,this.suggestionTextLine2=e.formatedAddress),this.suggestion.formatedLine1=this.suggestionTextLine1,this.suggestion.formatedLine2=this.suggestionTextLine2,this.suggestion.formatedLine2WithoutCountry=this._removeCountry(this.suggestionTextLine2)}_applyFormattingRule(e){let t=0;const i=this._formattingRule["b:fieldGroups"]||this._formattingRule.fieldGroups;if(!this.suggestionTextLine1)for(;t<i.length;t++){const n=this._getFormattedGroupString(e,i[t]);if(n){this.suggestionTextLine1=n,this.suggestion.title=n,++t;break}}const n=[];for(;t<i.length;t++){const a=this._getFormattedGroupString(e,i[t]);a&&n.push(a)}const a=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ";this.suggestionTextLine2=n.join(a),this.suggestion.formatedAddress=this.suggestionTextLine2}_getFormattedGroupString(e,t){const i=[];let n;const a=t.fields;for(let t=0;t<a.length;t++)n=this._getPrimaryField(e,a[t]),n||(n=this._getAlternateField(e,a[t])),n&&i.push(n);const r=t.fieldSeparator||" ";return i.join(r)}_getPrimaryField(e,t){let i;return e&&t&&(i=e[t.name]),i}_getAlternateField(e,t){let i;if(e&&t){const n=t.alternateField;if(n){const t=n.split(",");for(let n=0;n<t.length&&(i=e[t[n]],!i);n++);}}return i}}S.HistorySuggestionType="history";const T=["us","cz","dk","at","ch","de","gb","ie","es","fi","be","fr","hu","no","nl","pl","pt","se"];class O{constructor(e,t,i=null,n=null){var a,s,o;this.fetchImpl=e,this.userLocation=i,this.xhrFetch=n,this._translateSuggestion=e=>{var t,i;const n=e.suggestion.address||e.suggestion.root,a=null===(t=e.suggestion.location)||void 0===t?void 0:t.latitude,s=null===(i=e.suggestion.location)||void 0===i?void 0:i.longitude,o={language:r.b.Locale,addressLine:e.suggestion.name||(null==n?void 0:n.streetAddress)||(null==n?void 0:n.postalCode),locality:null==n?void 0:n.addressLocality,region:Object(g.abbreviateUSState)(null==n?void 0:n.addressRegion,r.b.Locale,null==n?void 0:n.countryIso),subRegion:null==n?void 0:n.addressSubregion,country:n&&(n.addressCountry||""),latitude:a&&Number(a).toString(),longitude:s&&Number(s).toString(),typeV6:e.suggestion.type,searchText:e.suggestion.searchText,formatedAddress:e.suggestion.formatedAddress,readLink:e.suggestion.readLink,locationType:h.getHyperlocalType(e.suggestion.type,e.suggestion.subType),isoCode:n&&(n.countryIso||""),entityId:e.suggestion.entityId,geoId:e.suggestion.geoId};return!o.locality&&o.addressLine&&(o.locality=o.addressLine,o.addressLine=void 0),o.firstLine=h.getAutoSuggestLocationFirstLine(o),o.secondLine=h.getAutoSuggestLocationSecondLine(o),o},this.cfg=Object.assign(Object.assign({},O.defaultConfig),t||{}),"CN"==(null==i?void 0:i.isoCode)&&(this.cfg.endpoint="https://cn.bing.com"),this.cfg.enableHyperlocal&&T.includes(null===(o=null===(s=null===(a=null===m.a||void 0===m.a?void 0:m.a.CurrentRequestTargetScope)||void 0===a?void 0:a.locale)||void 0===s?void 0:s.market)||void 0===o?void 0:o.toLowerCase())&&(this.cfg.escapeISO=T,this.cfg.suggestionTypes="Place,Address,Business"),this._extraResult=this.cfg.latinPercentageLimit>0?5:0,this._geocoder=new y(this.cfg.geocoderKey,e),this.cfg.escapeISO=this.cfg.escapeISO.map(e=>e.toLowerCase()),this._autoSuggestModel=new b(e,this.cfg.endpoint,O[this.cfg.useOneServiceProxy?"oneServiceAutosuggestApi":"bingAutosuggestApi"],this.cfg.appId,this.cfg.excludeSubTypes,this.cfg.includeSubTypes,this.cfg.escapeISO,this.cfg.flightId,this.cfg.useOneServiceProxy)}getLocationSearchResponse(e){return Promise.resolve(null)}getAutoSuggestResponse(e,t){var i,n,s;return Object(a.a)(this,void 0,void 0,(function*(){if(e){const a="zh-cn"===(null===(i=null===r.b||void 0===r.b?void 0:r.b.Locale)||void 0===i?void 0:i.toLowerCase())&&"zh"!==(null===(s=null===(n=null===r.b||void 0===r.b?void 0:r.b.ClientSettings)||void 0===n?void 0:n.geo_country)||void 0===s?void 0:s.toLowerCase())?"40,116":this.userLocation&&`${this.userLocation.latitude},${this.userLocation.longitude}`,o={searchText:e,maxResults:this.cfg.num+this._extraResult,userLocation:a,suggestionTypes:this.cfg.suggestionTypes,abbrSuggestions:!0,localMapView:null},c=yield this._autoSuggestModel.getSuggestions(o,t);return this._parseSuggestions(c)}}))}_latinPercentage(e){const t=e.locality+e.country+e.region+e.subRegion;if(!t)return 0;return t.match(O.latinParttern).join("").length/t.length}_parseSuggestions(e){const t=[],i=null==e?void 0:e.suggestions;if(i&&i.length>0)for(let e=0;e<i.length;e++)t.push(this._getSuggestionResult(i[e]));let n=t.map(this._translateSuggestion);return this.cfg.latinPercentageLimit>0&&(n=n.filter(e=>this._latinPercentage(e)>this.cfg.latinPercentageLimit).slice(0,this.cfg.num)),n=n.filter(e=>h.isValidLocationToSuggest(e)),n}_getSuggestionResult(e){return new S(e)}_getLatLongFromReadLink(e){return Object(a.a)(this,void 0,void 0,(function*(){if(!e.readLink)return null;const t=new URL(e.readLink);return t.searchParams.append("appid",this.cfg.appId),this.fetchImpl(t.href).then(e=>e.json()).then(t=>{var i,n;const a=t.geo||(null===(n=null===(i=t.value)||void 0===i?void 0:i[0])||void 0===n?void 0:n.geo);if(a&&a.latitude&&a.longitude)return Object.assign(Object.assign({},e),{latitude:a.latitude.toString(),longitude:a.longitude.toString()})}).catch(e=>null)}))}geocodeSuggestion(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=e;if(t.longitude&&t.latitude)return t;const i=yield this._getLatLongFromReadLink(e);if(i)return i;const n=this._getSuggestionAddress(t);return this._geocoder.geocode(n,null,1).then(e=>{if(e.success&&e.results&&e.results.length>0){const i=e.results[0];i.bbox;if(i.point){const e=i.point.coordinates;return t.latitude=e[0].toString(),t.longitude=e[1].toString(),t}}return null})}))}_getSuggestionAddress(e){return e&&"LocalBusiness"===e.typeV6&&e.formatedAddress?e.formatedAddress:e&&e.searchText}}O.bingAutosuggestApi="/api/v6/Places/AutoSuggest",O.oneServiceAutosuggestApi="msn/suggestions",O.defaultConfig={num:5,appId:"D41D8CD98F00B204E9800998ECF8427E1FBE79C2",geocoderKey:"AnTcaqBi2ypp0xI-OZNi4W_ik2KhjgpqioTAtXLC8GzkMBQRMlyxvxyTnd5b73im ",suggestionTypes:"",endpoint:"https://www.bing.com",excludeSubTypes:["CountryRegion","AdminDivision1"],includeSubTypes:["PopulatedPlace","AdminDivision2","Other","Island"],escapeISO:["us"],flightId:""},O.latinParttern=/[\u00C0-\u00ff\w\s\p{Number}.,/#!$%^&*;:{}=\-_`~()]+/gu;var w=i("VbA2"),C=i("5xIM"),I=i.n(C);function j(e){if(e&&e.useV6){const t=Object(n.a)()?window.fetch.bind(window):w.b;return new O(t,e,l.a.headLocation())}return new u(I.a,e)}},xtFa:function(e,t,i){"use strict";i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return p}));var n=i("8GQ4"),a=i("i2HT"),r=i("8hiW"),s=i("eNhF");const{create:o}=n.a,c=o("gradient-white-fill").withDefault(e=>Object(s.a)(.8,1,a.a.create(1,1,1),r.db.getValueFor(e))),d=o("gradient-background-fill").withDefault(e=>Object(s.a)(0,1,null,r.db.getValueFor(e))),l=o("neutral-fill-bubble-on-rest").withDefault(e=>function(e,t){const i=e.closestIndexOf(t);return e.get(i-5)}(r.Cb.getValueFor(e),r.db.getValueFor(e))),u=o("neutral-foreground-hint-on-bubble-on-rest").withDefault(e=>r.tb.getValueFor(e).evaluate(e,l.getValueFor(e)));function h(e,t,i){return e.get(e.closestIndexOf((n=t,a.a.create(n,n,n)))-i);var n}const g=o({name:"neutral-layer-card-recipe",cssCustomPropertyName:null}).withDefault({evaluate:e=>h(r.Cb.getValueFor(e),r.t.getValueFor(e),r.bb.getValueFor(e))}),p=o("neutral-layer-card").withDefault(e=>g.getValueFor(e).evaluate(e))},yvDU:function(e,t,i){"use strict";t.a=function(e,t,i,n){var a=-1,r=null==e?0:e.length;for(n&&r&&(i=e[++a]);++a<r;)i=t(i,e[a],a,e);return i}},zI0X:function(e,t,i){"use strict";var n=i("QjXF");t.a=function(e,t){return!!(null==e?0:e.length)&&Object(n.a)(e,t,0)>-1}},zJcZ:function(e,t,i){"use strict";i.d(t,"k",(function(){return s})),i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return c})),i.d(t,"j",(function(){return d})),i.d(t,"d",(function(){return l})),i.d(t,"h",(function(){return u})),i.d(t,"g",(function(){return h})),i.d(t,"f",(function(){return g})),i.d(t,"i",(function(){return p})),i.d(t,"c",(function(){return m})),i.d(t,"a",(function(){return f}));var n=i("LJMo"),a=i("HxRh"),r=i("u5KZ");function s(e,t=!1,i=!1){if(!e)return e;if(Array.isArray(e)){if(!e.length)return e;e=e[0]}if(!e||!e.subCards||!Array.isArray(e.subCards))return e;const n=e.subCards.map(e=>o(e,t,i));return!e.subCards.length||n&&n.length&&e.subCards.length===n.length||r.a.sendAppErrorEvent(Object.assign(Object.assign({},a.eb),{message:"Mapper returned invalid data",pb:Object.assign(Object.assign({},a.eb.pb),{customMessage:`Count mismatch - expected count [${e.subCards.length}] - actual count [${n.length}]`})})),{feedItems:n,nextPageUrl:e.nextPageUrl}}function o(e,t=!1,i=!1){if(!e)return{};if(e.type===n.a.Elections||e.type===n.a.EsportsLiveStream||e.type===n.a.EsportsHighlight||e.type===n.a.LocalGuide||e.type===n.a.LocalNews||e.type===n.a.LocalNewsFeed||e.type===n.a.MyBriefRiverCard||e.type===n.a.ShoppingMerchantCategoryDeals||e.type===n.a.SportsMatch||e.type===n.a.SportsOlympics||e.type===n.a.StockQuote||e.type===n.a.StockQuote_spotlight||e.type===n.a.TopStories||e.type===n.a.TrafficDelays||e.type===n.a.TravelDestinationCard||e.type===n.a.Upsell||e.type===n.a.WeatherSummary||e.type===n.a.WeatherSummary_spotlight||e.type===n.a.WorkHeadlines)return e;if(e.subCards)return t?{subItems:e.subCards.map(e=>o(e)),type:e.type||"tabbedInfopane"}:l(e);if(e.type===n.a.ExternalLink)return c(e);if(e.type===n.a.WebContent&&!i)return d(e);const{type:a,isBreaking:r,locale:s,category:u,images:v,topics:b=[],dataUrl:y,publishedDateTime:S,id:T,url:O,abstract:w="",title:C="",provider:I={},feed:j={},actions:A=[],externalVideoFiles:k,reactionSummary:x,commentSummary:M,engagementSummary:P,sourceId:E,financeMetadata:L,topComments:D,colorSamples:R,isLocalContent:F}=e,H=m(v)||{},U=k||{},N=b.find(e=>e.feedId===j.id&&e.locale===s),B=p(O);let $=g(I.logoUrl);return!$&&I.logo&&I.logo.url&&($=g(I.logo.url)),{id:T,type:a,metadata:{abstractLength:w.length,titleLength:C.length,category:u||B[4],subCategory:B[5],primaryImage:{height:H.height,width:H.width},locale:s,feed:{id:j.id},kicker:[j],actions:A.map(e=>f[e]||e),reactionSummary:x,commentSummary:M,engagementSummary:P,topComments:D},cardContent:{id:T,type:h(a),title:C,uriTitle:B[6],abstract:w,isBreaking:r||0,tags:[N||{}],provider:{id:I.id,name:I.name,logo:{id:$},logoUrl:I.logoUrl||I.logo&&I.logo.url,subscribable:!1},category:{product:u,label:void 0},locale:s,images:[{id:g(H.url),height:H.height,width:H.width,caption:H.title,focalRegion:H.focalRegion,attribution:H.attribution,source:H.source,url:H.url,colorSamples:H.colorSamples}],colorSamples:R,videoFiles:U,publishedDateTime:S,kicker:C,sourceHref:y,destinationUrl:O,sourceId:E,financeMetadata:L,isLocalContent:F}}}function c(e){const{id:t,type:i,images:n,url:a,category:r,feed:s={},title:o="",abstract:c=""}=e,d=m(n)||{},l=p(a),{uiHint:u,actionText:h}=e.uiMetadata||{};return{id:t,type:i,metadata:{abstractLength:c.length,title:o,titleLength:o.length,category:r||l[4],subCategory:"other",primaryImage:{height:d.height,width:d.width,url:d.url},locale:l[3],url:a,abstract:c,uiHint:u,actionText:h,feed:{id:s.id},kicker:[{feedName:s.feedName}]}}}function d(e){const{id:t,type:i,images:n,url:a,category:r,locale:s,reactionSummary:o,commentSummary:c,tag:d,abstract:l="",feed:u={},title:h="",provider:v={},actions:b=[],isBreaking:y=0,externalVideoFiles:S={},publishedDateTime:T,colorSamples:O,dataUrl:w,sourceId:C,financeMetadata:I,isLocalContent:j}=e,A=m(n)||{},k=p(a);return{id:t,type:i,metadata:{abstract:l,abstractLength:l.length,titleLength:h.length,category:r||k[4],subCategory:k[5],publishedDateTime:T,externalVideoFiles:S,locale:s,feed:{id:u.id},kicker:[u],actions:b.map(e=>f[e]||e),reactionSummary:o,commentSummary:c,primaryImage:{height:A.height,width:A.width,url:A.url},url:a,title:h,provider:{name:v.name,logo:{url:v.logoUrl}}},cardContent:{id:t,type:i,title:h,abstract:l,isBreaking:y,tags:[d||{}],provider:{id:v.id,name:v.name,logoUrl:v.logoUrl,image:{alt:v.name,src:v.logoUrl}},category:{product:r,label:void 0},locale:s,images:[{id:g(A.url),height:A.height,width:A.width,caption:A.title,focalRegion:A.focalRegion,attribution:A.attribution,url:A.url,colorSamples:A.colorSamples}],colorSamples:O,videoFiles:S,publishedDateTime:T,kicker:h,sourceHref:w,destinationUrl:a,sourceId:C,financeMetadata:I,isLocalContent:j}}}function l(e){const{type:t,title:i}=e;return{type:t,subItems:e.subCards.map(e=>o(e)),metadata:{title:i}}}function u(e){return e}function h(e){switch(e){case"article":return"ArticlePreview";case"video":return"VideoPreview";case"slideshow":return"SlideshowPreview";case"webcontent":return"WebContentPreview";default:return""}}function g(e){if(!e)return"";if(e.includes("bing.com/th"))return;const t=e.split("/");return m(t)&&t[t.length-1].replace(".img","")}function p(e){return e?e.split("/"):[]}function m(e=[],t=0){return e[t]}const f={liked:"like",unliked:"unlike",saved:"save"}}}]);